var xv=t=>{throw TypeError(t)};var Kh=(t,e,n)=>e.has(t)||xv("Cannot "+n);var F=(t,e,n)=>(Kh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?xv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Kh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vt=(t,e,n)=>(Kh(t,e,"access private method"),n);var Fu=(t,e,n,r)=>({set _(s){ce(t,e,s,n)},get _(){return F(t,e,r)}});function fC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oE={exports:{}},jd={},aE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),pC=Symbol.for("react.portal"),mC=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),_C=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),xC=Symbol.for("react.lazy"),Sv=Symbol.iterator;function SC(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uE=Object.assign,cE={};function ga(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=ga.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||lE}var Am=Cm.prototype=new dE;Am.constructor=Cm;uE(Am,ga.prototype);Am.isPureReactComponent=!0;var Iv=Array.isArray,hE=Object.prototype.hasOwnProperty,Rm={current:null},fE={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hE.call(e,r)&&!fE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:uu,type:t,key:i,ref:o,props:s,_owner:Rm.current}}function IC(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function bC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bv=/\/+/g;function Gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bC(""+t.key):e.toString(36)}function gc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uu:case pC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gh(o,0):r,Iv(s)?(n="",t!=null&&(n=t.replace(bv,"$&/")+"/"),gc(s,e,n,"",function(c){return c})):s!=null&&(Pm(s)&&(s=IC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Iv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gh(i,a);o+=gc(i,e,n,l,s)}else if(l=SC(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gh(i,a++),o+=gc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(t,e,n){if(t==null)return t;var r=[],s=0;return gc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},yc={transition:null},AC={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Rm};function mE(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ga;ge.Fragment=mC;ge.Profiler=yC;ge.PureComponent=Cm;ge.StrictMode=gC;ge.Suspense=EC;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;ge.act=mE;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hE.call(e,l)&&!fE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uu,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:wC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vC,_context:t},t.Consumer=t};ge.createElement=pE;ge.createFactory=function(t){var e=pE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:_C,render:t}};ge.isValidElement=Pm;ge.lazy=function(t){return{$$typeof:xC,_payload:{_status:-1,_result:t},_init:CC}};ge.memo=function(t,e){return{$$typeof:TC,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=yc.transition;yc.transition={};try{t()}finally{yc.transition=e}};ge.unstable_act=mE;ge.useCallback=function(t,e){return Xt.current.useCallback(t,e)};ge.useContext=function(t){return Xt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Xt.current.useEffect(t,e)};ge.useId=function(){return Xt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Xt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};ge.useRef=function(t){return Xt.current.useRef(t)};ge.useState=function(t){return Xt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Xt.current.useTransition()};ge.version="18.3.1";aE.exports=ge;var A=aE.exports;const W=iE(A),gE=fC({__proto__:null,default:W},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=A,PC=Symbol.for("react.element"),kC=Symbol.for("react.fragment"),NC=Object.prototype.hasOwnProperty,OC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DC={key:!0,ref:!0,__self:!0,__source:!0};function yE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NC.call(e,r)&&!DC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:PC,type:t,key:i,ref:o,props:s,_owner:OC.current}}jd.Fragment=kC;jd.jsx=yE;jd.jsxs=yE;oE.exports=jd;var w=oE.exports,vE={exports:{}},Sn={},wE={exports:{}},_E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var te=q-1>>>1,X=j[te];if(0<s(X,U))j[te]=U,j[q]=X,q=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var te=0,X=j.length,oe=X>>>1;te<oe;){var ie=2*(te+1)-1,be=j[ie],Ne=ie+1,le=j[Ne];if(0>s(be,q))Ne<X&&0>s(le,be)?(j[te]=le,j[Ne]=q,te=Ne):(j[te]=be,j[ie]=q,te=ie);else if(Ne<X&&0>s(le,q))j[te]=le,j[Ne]=q,te=Ne;else break e}}return U}function s(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,T=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function N(j){if(_=!1,x(j),!T)if(n(l)!==null)T=!0,ee(D);else{var U=n(c);U!==null&&ne(N,U.startTime-j)}}function D(j,U){T=!1,_&&(_=!1,v(S),S=-1),m=!0;var q=p;try{for(x(U),h=n(l);h!==null&&(!(h.expirationTime>U)||j&&!R());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var X=te(h.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),x(U)}else r(l);h=n(l)}if(h!==null)var oe=!0;else{var ie=n(c);ie!==null&&ne(N,ie.startTime-U),oe=!1}return oe}finally{h=null,p=q,m=!1}}var L=!1,I=null,S=-1,C=5,P=-1;function R(){return!(t.unstable_now()-P<C)}function O(){if(I!==null){var j=t.unstable_now();P=j;var U=!0;try{U=I(!0,j)}finally{U?k():(L=!1,I=null)}}else L=!1}var k;if(typeof y=="function")k=function(){y(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=O,k=function(){J.postMessage(null)}}else k=function(){E(O,0)};function ee(j){I=j,L||(L=!0,k())}function ne(j,U){S=E(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,ee(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(j,U,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:X,sortIndex:-1},q>te?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(_?(v(S),S=-1):_=!0,ne(N,q-te))):(j.sortIndex=X,e(l,j),T||m||(T=!0,ee(D))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var U=p;return function(){var q=p;p=U;try{return j.apply(this,arguments)}finally{p=q}}}})(_E);wE.exports=_E;var LC=wE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=A,xn=LC;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EE=new Set,Sl={};function to(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(Sl[t]=e,t=0;t<e.length;t++)EE.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Av={};function jC(t){return zf.call(Av,t)?!0:zf.call(Cv,t)?!1:VC.test(t)?Av[t]=!0:(Cv[t]=!0,!1)}function FC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UC(t,e,n,r){if(e===null||typeof e>"u"||FC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var km=/[\-:]([a-z])/g;function Nm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(km,Nm);Nt[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(km,Nm);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(km,Nm);Nt[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UC(e,n,s,r)&&(n=null),r||s===null?jC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),wo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),xE=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),Rv=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Qh;function Ja(t){if(Qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qh=e&&e[1]||""}return`
`+Qh+t}var Yh=!1;function Xh(t,e){if(!t||Yh)return"";Yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function zC(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=Xh(t.type,!1),t;case 11:return t=Xh(t.type.render,!1),t;case 1:return t=Xh(t.type,!0),t;default:return""}}function Wf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case wo:return"Portal";case $f:return"Profiler";case Dm:return"StrictMode";case Bf:return"Suspense";case Hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xE:return(t.displayName||"Context")+".Consumer";case TE:return(t._context.displayName||"Context")+".Provider";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mm:return e=t.displayName||null,e!==null?e:Wf(t.type)||"Memo";case _s:e=t._payload,t=t._init;try{return Wf(t(e))}catch{}}return null}function $C(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wf(e);case 8:return e===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function IE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BC(t){var e=IE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){t._valueTracker||(t._valueTracker=BC(t))}function bE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=IE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qf(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function Kf(t,e){CE(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gf(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Za(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function AE(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ov(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bu,PE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HC=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){HC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function kE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function NE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WC=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(t,e){if(e){if(WC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zf=null;function Vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ep=null,Oo=null,Do=null;function Dv(t){if(t=hu(t)){if(typeof ep!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Bd(e),ep(t.stateNode,t.type,e))}}function OE(t){Oo?Do?Do.push(t):Do=[t]:Oo=t}function DE(){if(Oo){var t=Oo,e=Do;if(Do=Oo=null,Dv(t),e)for(t=0;t<e.length;t++)Dv(e[t])}}function LE(t,e){return t(e)}function ME(){}var Jh=!1;function VE(t,e,n){if(Jh)return t(e,n);Jh=!0;try{return LE(t,e,n)}finally{Jh=!1,(Oo!==null||Do!==null)&&(ME(),DE())}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var tp=!1;if(Wr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){tp=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{tp=!1}function qC(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ll=!1,$c=null,Bc=!1,np=null,KC={onError:function(t){ll=!0,$c=t}};function GC(t,e,n,r,s,i,o,a,l){ll=!1,$c=null,qC.apply(KC,arguments)}function QC(t,e,n,r,s,i,o,a,l){if(GC.apply(this,arguments),ll){if(ll){var c=$c;ll=!1,$c=null}else throw Error(H(198));Bc||(Bc=!0,np=c)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lv(t){if(no(t)!==t)throw Error(H(188))}function YC(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lv(s),t;if(i===r)return Lv(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function FE(t){return t=YC(t),t!==null?UE(t):null}function UE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UE(t);if(e!==null)return e;t=t.sibling}return null}var zE=xn.unstable_scheduleCallback,Mv=xn.unstable_cancelCallback,XC=xn.unstable_shouldYield,JC=xn.unstable_requestPaint,rt=xn.unstable_now,ZC=xn.unstable_getCurrentPriorityLevel,jm=xn.unstable_ImmediatePriority,$E=xn.unstable_UserBlockingPriority,Hc=xn.unstable_NormalPriority,eA=xn.unstable_LowPriority,BE=xn.unstable_IdlePriority,Fd=null,gr=null;function tA(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:sA,nA=Math.log,rA=Math.LN2;function sA(t){return t>>>=0,t===0?32:31-(nA(t)/rA|0)|0}var Hu=64,Wu=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=el(a):(i&=o,i!==0&&(r=el(i)))}else o=n&~s,o!==0?r=el(o):i!==0&&(r=el(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),s=1<<n,r|=t[n],e&=~s;return r}function iA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=iA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HE(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function aA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function WE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qE,Um,KE,GE,QE,sp=!1,qu=[],js=null,Fs=null,Us=null,Cl=new Map,Al=new Map,Ts=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vv(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(e.pointerId)}}function Ba(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hu(e),e!==null&&Um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uA(t,e,n,r,s){switch(e){case"focusin":return js=Ba(js,t,e,n,r,s),!0;case"dragenter":return Fs=Ba(Fs,t,e,n,r,s),!0;case"mouseover":return Us=Ba(Us,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cl.set(i,Ba(Cl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Al.set(i,Ba(Al.get(i)||null,t,e,n,r,s)),!0}return!1}function YE(t){var e=Ii(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=jE(n),e!==null){t.blockedOn=e,QE(t.priority,function(){KE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zf=r,n.target.dispatchEvent(r),Zf=null}else return e=hu(n),e!==null&&Um(e),t.blockedOn=n,!1;e.shift()}return!0}function jv(t,e,n){vc(t)&&n.delete(e)}function cA(){sp=!1,js!==null&&vc(js)&&(js=null),Fs!==null&&vc(Fs)&&(Fs=null),Us!==null&&vc(Us)&&(Us=null),Cl.forEach(jv),Al.forEach(jv)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,sp||(sp=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,cA)))}function Rl(t){function e(s){return Ha(s,t)}if(0<qu.length){Ha(qu[0],t);for(var n=1;n<qu.length;n++){var r=qu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&Ha(js,t),Fs!==null&&Ha(Fs,t),Us!==null&&Ha(Us,t),Cl.forEach(e),Al.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)YE(n),n.blockedOn===null&&Ts.shift()}var Lo=ns.ReactCurrentBatchConfig,qc=!0;function dA(t,e,n,r){var s=Ae,i=Lo.transition;Lo.transition=null;try{Ae=1,zm(t,e,n,r)}finally{Ae=s,Lo.transition=i}}function hA(t,e,n,r){var s=Ae,i=Lo.transition;Lo.transition=null;try{Ae=4,zm(t,e,n,r)}finally{Ae=s,Lo.transition=i}}function zm(t,e,n,r){if(qc){var s=ip(t,e,n,r);if(s===null)cf(t,e,r,Kc,n),Vv(t,r);else if(uA(s,t,e,n,r))r.stopPropagation();else if(Vv(t,r),e&4&&-1<lA.indexOf(t)){for(;s!==null;){var i=hu(s);if(i!==null&&qE(i),i=ip(t,e,n,r),i===null&&cf(t,e,r,Kc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Kc=null;function ip(t,e,n,r){if(Kc=null,t=Vm(r),t=Ii(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function XE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZC()){case jm:return 1;case $E:return 4;case Hc:case eA:return 16;case BE:return 536870912;default:return 16}default:return 16}}var Ds=null,$m=null,wc=null;function JE(){if(wc)return wc;var t,e=$m,n=e.length,r,s="value"in Ds?Ds.value:Ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wc=s.slice(t,1<r?1-r:void 0)}function _c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function Fv(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ku:Fv,this.isPropagationStopped=Fv,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=In(ya),du=qe({},ya,{view:0,detail:0}),fA=In(du),ef,tf,Wa,Ud=qe({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(ef=t.screenX-Wa.screenX,tf=t.screenY-Wa.screenY):tf=ef=0,Wa=t),ef)},movementY:function(t){return"movementY"in t?t.movementY:tf}}),Uv=In(Ud),pA=qe({},Ud,{dataTransfer:0}),mA=In(pA),gA=qe({},du,{relatedTarget:0}),nf=In(gA),yA=qe({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),vA=In(yA),wA=qe({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_A=In(wA),EA=qe({},ya,{data:0}),zv=In(EA),TA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SA[t])?!!e[t]:!1}function Hm(){return IA}var bA=qe({},du,{key:function(t){if(t.key){var e=TA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(t){return t.type==="keypress"?_c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CA=In(bA),AA=qe({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=In(AA),RA=qe({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),PA=In(RA),kA=qe({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),NA=In(kA),OA=qe({},Ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DA=In(OA),LA=[9,13,27,32],Wm=Wr&&"CompositionEvent"in window,ul=null;Wr&&"documentMode"in document&&(ul=document.documentMode);var MA=Wr&&"TextEvent"in window&&!ul,ZE=Wr&&(!Wm||ul&&8<ul&&11>=ul),Bv=" ",Hv=!1;function eT(t,e){switch(t){case"keyup":return LA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function VA(t,e){switch(t){case"compositionend":return tT(e);case"keypress":return e.which!==32?null:(Hv=!0,Bv);case"textInput":return t=e.data,t===Bv&&Hv?null:t;default:return null}}function jA(t,e){if(Eo)return t==="compositionend"||!Wm&&eT(t,e)?(t=JE(),wc=$m=Ds=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZE&&e.locale!=="ko"?null:e.data;default:return null}}var FA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FA[t.type]:e==="textarea"}function nT(t,e,n,r){OE(r),e=Gc(e,"onChange"),0<e.length&&(n=new Bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Pl=null;function UA(t){fT(t,0)}function zd(t){var e=So(t);if(bE(e))return t}function zA(t,e){if(t==="change")return e}var rT=!1;if(Wr){var rf;if(Wr){var sf="oninput"in document;if(!sf){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),sf=typeof qv.oninput=="function"}rf=sf}else rf=!1;rT=rf&&(!document.documentMode||9<document.documentMode)}function Kv(){cl&&(cl.detachEvent("onpropertychange",sT),Pl=cl=null)}function sT(t){if(t.propertyName==="value"&&zd(Pl)){var e=[];nT(e,Pl,t,Vm(t)),VE(UA,e)}}function $A(t,e,n){t==="focusin"?(Kv(),cl=e,Pl=n,cl.attachEvent("onpropertychange",sT)):t==="focusout"&&Kv()}function BA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(Pl)}function HA(t,e){if(t==="click")return zd(e)}function WA(t,e){if(t==="input"||t==="change")return zd(e)}function qA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:qA;function kl(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!zf.call(e,s)||!Zn(t[s],e[s]))return!1}return!0}function Gv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qv(t,e){var n=Gv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gv(n)}}function iT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oT(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KA(t){var e=oT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iT(n.ownerDocument.documentElement,n)){if(r!==null&&qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Qv(n,i);var o=Qv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GA=Wr&&"documentMode"in document&&11>=document.documentMode,To=null,op=null,dl=null,ap=!1;function Yv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ap||To==null||To!==zc(r)||(r=To,"selectionStart"in r&&qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&kl(dl,r)||(dl=r,r=Gc(op,"onSelect"),0<r.length&&(e=new Bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=To)))}function Gu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},of={},aT={};Wr&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function $d(t){if(of[t])return of[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aT)return of[t]=e[n];return t}var lT=$d("animationend"),uT=$d("animationiteration"),cT=$d("animationstart"),dT=$d("transitionend"),hT=new Map,Xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(t,e){hT.set(t,e),to(e,[t])}for(var af=0;af<Xv.length;af++){var lf=Xv[af],QA=lf.toLowerCase(),YA=lf[0].toUpperCase()+lf.slice(1);ci(QA,"on"+YA)}ci(lT,"onAnimationEnd");ci(uT,"onAnimationIteration");ci(cT,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(dT,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Jv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QC(r,e,void 0,t),t.currentTarget=null}function fT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jv(s,a,c),i=l}}}if(Bc)throw t=np,Bc=!1,np=null,t}function je(t,e){var n=e[hp];n===void 0&&(n=e[hp]=new Set);var r=t+"__bubble";n.has(r)||(pT(e,t,2,!1),n.add(r))}function uf(t,e,n){var r=0;e&&(r|=4),pT(n,t,r,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[Qu]){t[Qu]=!0,EE.forEach(function(n){n!=="selectionchange"&&(XA.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,uf("selectionchange",!1,e))}}function pT(t,e,n,r){switch(XE(e)){case 1:var s=dA;break;case 4:s=hA;break;default:s=zm}n=s.bind(null,e,n,t),s=void 0,!tp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ii(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}VE(function(){var c=i,d=Vm(n),h=[];e:{var p=hT.get(t);if(p!==void 0){var m=Bm,T=t;switch(t){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":m=CA;break;case"focusin":T="focus",m=nf;break;case"focusout":T="blur",m=nf;break;case"beforeblur":case"afterblur":m=nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PA;break;case lT:case uT:case cT:m=vA;break;case dT:m=NA;break;case"scroll":m=fA;break;case"wheel":m=DA;break;case"copy":case"cut":case"paste":m=_A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$v}var _=(e&4)!==0,E=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var y=c,x;y!==null;){x=y;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,v!==null&&(N=bl(y,v),N!=null&&_.push(Ol(y,N,x)))),E)break;y=y.return}0<_.length&&(p=new m(p,T,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Zf&&(T=n.relatedTarget||n.fromElement)&&(Ii(T)||T[qr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=c,T=T?Ii(T):null,T!==null&&(E=no(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=c),m!==T)){if(_=Uv,N="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=$v,N="onPointerLeave",v="onPointerEnter",y="pointer"),E=m==null?p:So(m),x=T==null?p:So(T),p=new _(N,y+"leave",m,n,d),p.target=E,p.relatedTarget=x,N=null,Ii(d)===c&&(_=new _(v,y+"enter",T,n,d),_.target=x,_.relatedTarget=E,N=_),E=N,m&&T)t:{for(_=m,v=T,y=0,x=_;x;x=po(x))y++;for(x=0,N=v;N;N=po(N))x++;for(;0<y-x;)_=po(_),y--;for(;0<x-y;)v=po(v),x--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=po(_),v=po(v)}_=null}else _=null;m!==null&&Zv(h,p,m,_,!1),T!==null&&E!==null&&Zv(h,E,T,_,!0)}}e:{if(p=c?So(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var D=zA;else if(Wv(p))if(rT)D=WA;else{D=BA;var L=$A}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=HA);if(D&&(D=D(t,c))){nT(h,D,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Gf(p,"number",p.value)}switch(L=c?So(c):window,t){case"focusin":(Wv(L)||L.contentEditable==="true")&&(To=L,op=c,dl=null);break;case"focusout":dl=op=To=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,Yv(h,n,d);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":Yv(h,n,d)}var I;if(Wm)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Eo?eT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ZE&&n.locale!=="ko"&&(Eo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Eo&&(I=JE()):(Ds=d,$m="value"in Ds?Ds.value:Ds.textContent,Eo=!0)),L=Gc(c,S),0<L.length&&(S=new zv(S,t,null,n,d),h.push({event:S,listeners:L}),I?S.data=I:(I=tT(n),I!==null&&(S.data=I)))),(I=MA?VA(t,n):jA(t,n))&&(c=Gc(c,"onBeforeInput"),0<c.length&&(d=new zv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}fT(h,e)})}function Ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bl(t,n),i!=null&&r.unshift(Ol(t,i,s)),i=bl(t,e),i!=null&&r.push(Ol(t,i,s))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=bl(n,i),l!=null&&o.unshift(Ol(n,l,a))):s||(l=bl(n,i),l!=null&&o.push(Ol(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function ew(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(ZA,"")}function Yu(t,e,n){if(e=ew(e),ew(t)!==e&&n)throw Error(H(425))}function Qc(){}var lp=null,up=null;function cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(t){return tw.resolve(null).then(t).catch(nR)}:dp;function nR(t){setTimeout(function(){throw t})}function df(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rl(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),pr="__reactFiber$"+va,Dl="__reactProps$"+va,qr="__reactContainer$"+va,hp="__reactEvents$"+va,rR="__reactListeners$"+va,sR="__reactHandles$"+va;function Ii(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=nw(t);t!==null;){if(n=t[pr])return n;t=nw(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[pr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Bd(t){return t[Dl]||null}var fp=[],Io=-1;function di(t){return{current:t}}function ze(t){0>Io||(t.current=fp[Io],fp[Io]=null,Io--)}function Le(t,e){Io++,fp[Io]=t.current,t.current=e}var Js={},Ht=di(Js),ln=di(!1),$i=Js;function ea(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function Yc(){ze(ln),ze(Ht)}function rw(t,e,n){if(Ht.current!==Js)throw Error(H(168));Le(Ht,e),Le(ln,n)}function mT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,$C(t)||"Unknown",s));return qe({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,$i=Ht.current,Le(Ht,t),Le(ln,ln.current),!0}function sw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=mT(t,e,$i),r.__reactInternalMemoizedMergedChildContext=t,ze(ln),ze(Ht),Le(Ht,t)):ze(ln),Le(ln,n)}var Mr=null,Hd=!1,hf=!1;function gT(t){Mr===null?Mr=[t]:Mr.push(t)}function iR(t){Hd=!0,gT(t)}function hi(){if(!hf&&Mr!==null){hf=!0;var t=0,e=Ae;try{var n=Mr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Hd=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),zE(jm,hi),s}finally{Ae=e,hf=!1}}return null}var bo=[],Co=0,Jc=null,Zc=0,Pn=[],kn=0,Bi=null,jr=1,Fr="";function Ti(t,e){bo[Co++]=Zc,bo[Co++]=Jc,Jc=t,Zc=e}function yT(t,e,n){Pn[kn++]=jr,Pn[kn++]=Fr,Pn[kn++]=Bi,Bi=t;var r=jr;t=Fr;var s=32-Yn(r)-1;r&=~(1<<s),n+=1;var i=32-Yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jr=1<<32-Yn(e)+s|n<<s|r,Fr=i+t}else jr=1<<i|n<<s|r,Fr=t}function Km(t){t.return!==null&&(Ti(t,1),yT(t,1,0))}function Gm(t){for(;t===Jc;)Jc=bo[--Co],bo[Co]=null,Zc=bo[--Co],bo[Co]=null;for(;t===Bi;)Bi=Pn[--kn],Pn[kn]=null,Fr=Pn[--kn],Pn[kn]=null,jr=Pn[--kn],Pn[kn]=null}var En=null,wn=null,$e=!1,qn=null;function vT(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:jr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mp(t){if($e){var e=wn;if(e){var n=e;if(!iw(t,e)){if(pp(t))throw Error(H(418));e=zs(n.nextSibling);var r=En;e&&iw(t,e)?vT(r,n):(t.flags=t.flags&-4097|2,$e=!1,En=t)}}else{if(pp(t))throw Error(H(418));t.flags=t.flags&-4097|2,$e=!1,En=t}}}function ow(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Xu(t){if(t!==En)return!1;if(!$e)return ow(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cp(t.type,t.memoizedProps)),e&&(e=wn)){if(pp(t))throw wT(),Error(H(418));for(;e;)vT(t,e),e=zs(e.nextSibling)}if(ow(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?zs(t.stateNode.nextSibling):null;return!0}function wT(){for(var t=wn;t;)t=zs(t.nextSibling)}function ta(){wn=En=null,$e=!1}function Qm(t){qn===null?qn=[t]:qn.push(t)}var oR=ns.ReactCurrentBatchConfig;function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Ju(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function aw(t){var e=t._init;return e(t._payload)}function _T(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Ws(v,y),v.index=0,v.sibling=null,v}function i(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,x,N){return y===null||y.tag!==6?(y=wf(x,v.mode,N),y.return=v,y):(y=s(y,x),y.return=v,y)}function l(v,y,x,N){var D=x.type;return D===_o?d(v,y,x.props.children,N,x.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_s&&aw(D)===y.type)?(N=s(y,x.props),N.ref=qa(v,y,x),N.return=v,N):(N=Cc(x.type,x.key,x.props,null,v.mode,N),N.ref=qa(v,y,x),N.return=v,N)}function c(v,y,x,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=_f(x,v.mode,N),y.return=v,y):(y=s(y,x.children||[]),y.return=v,y)}function d(v,y,x,N,D){return y===null||y.tag!==7?(y=Mi(x,v.mode,N,D),y.return=v,y):(y=s(y,x),y.return=v,y)}function h(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wf(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zu:return x=Cc(y.type,y.key,y.props,null,v.mode,x),x.ref=qa(v,null,y),x.return=v,x;case wo:return y=_f(y,v.mode,x),y.return=v,y;case _s:var N=y._init;return h(v,N(y._payload),x)}if(Za(y)||za(y))return y=Mi(y,v.mode,x,null),y.return=v,y;Ju(v,y)}return null}function p(v,y,x,N){var D=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(v,y,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zu:return x.key===D?l(v,y,x,N):null;case wo:return x.key===D?c(v,y,x,N):null;case _s:return D=x._init,p(v,y,D(x._payload),N)}if(Za(x)||za(x))return D!==null?null:d(v,y,x,N,null);Ju(v,x)}return null}function m(v,y,x,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(x)||null,a(y,v,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zu:return v=v.get(N.key===null?x:N.key)||null,l(y,v,N,D);case wo:return v=v.get(N.key===null?x:N.key)||null,c(y,v,N,D);case _s:var L=N._init;return m(v,y,x,L(N._payload),D)}if(Za(N)||za(N))return v=v.get(x)||null,d(y,v,N,D,null);Ju(y,N)}return null}function T(v,y,x,N){for(var D=null,L=null,I=y,S=y=0,C=null;I!==null&&S<x.length;S++){I.index>S?(C=I,I=null):C=I.sibling;var P=p(v,I,x[S],N);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(v,I),y=i(P,y,S),L===null?D=P:L.sibling=P,L=P,I=C}if(S===x.length)return n(v,I),$e&&Ti(v,S),D;if(I===null){for(;S<x.length;S++)I=h(v,x[S],N),I!==null&&(y=i(I,y,S),L===null?D=I:L.sibling=I,L=I);return $e&&Ti(v,S),D}for(I=r(v,I);S<x.length;S++)C=m(I,v,S,x[S],N),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?S:C.key),y=i(C,y,S),L===null?D=C:L.sibling=C,L=C);return t&&I.forEach(function(R){return e(v,R)}),$e&&Ti(v,S),D}function _(v,y,x,N){var D=za(x);if(typeof D!="function")throw Error(H(150));if(x=D.call(x),x==null)throw Error(H(151));for(var L=D=null,I=y,S=y=0,C=null,P=x.next();I!==null&&!P.done;S++,P=x.next()){I.index>S?(C=I,I=null):C=I.sibling;var R=p(v,I,P.value,N);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(v,I),y=i(R,y,S),L===null?D=R:L.sibling=R,L=R,I=C}if(P.done)return n(v,I),$e&&Ti(v,S),D;if(I===null){for(;!P.done;S++,P=x.next())P=h(v,P.value,N),P!==null&&(y=i(P,y,S),L===null?D=P:L.sibling=P,L=P);return $e&&Ti(v,S),D}for(I=r(v,I);!P.done;S++,P=x.next())P=m(I,v,S,P.value,N),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),y=i(P,y,S),L===null?D=P:L.sibling=P,L=P);return t&&I.forEach(function(O){return e(v,O)}),$e&&Ti(v,S),D}function E(v,y,x,N){if(typeof x=="object"&&x!==null&&x.type===_o&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zu:e:{for(var D=x.key,L=y;L!==null;){if(L.key===D){if(D=x.type,D===_o){if(L.tag===7){n(v,L.sibling),y=s(L,x.props.children),y.return=v,v=y;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===_s&&aw(D)===L.type){n(v,L.sibling),y=s(L,x.props),y.ref=qa(v,L,x),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}x.type===_o?(y=Mi(x.props.children,v.mode,N,x.key),y.return=v,v=y):(N=Cc(x.type,x.key,x.props,null,v.mode,N),N.ref=qa(v,y,x),N.return=v,v=N)}return o(v);case wo:e:{for(L=x.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(v,y.sibling),y=s(y,x.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=_f(x,v.mode,N),y.return=v,v=y}return o(v);case _s:return L=x._init,E(v,y,L(x._payload),N)}if(Za(x))return T(v,y,x,N);if(za(x))return _(v,y,x,N);Ju(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,x),y.return=v,v=y):(n(v,y),y=wf(x,v.mode,N),y.return=v,v=y),o(v)):n(v,y)}return E}var na=_T(!0),ET=_T(!1),ed=di(null),td=null,Ao=null,Ym=null;function Xm(){Ym=Ao=td=null}function Jm(t){var e=ed.current;ze(ed),t._currentValue=e}function gp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){td=t,Ym=Ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Ym!==t)if(t={context:t,memoizedValue:e,next:null},Ao===null){if(td===null)throw Error(H(308));Ao=t,td.dependencies={lanes:0,firstContext:t}}else Ao=Ao.next=t;return e}var bi=null;function Zm(t){bi===null?bi=[t]:bi.push(t)}function TT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Es=!1;function eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kr(t,n)}return s=r.interleaved,s===null?(e.next=e,Zm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}function lw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nd(t,e,n,r){var s=t.updateQueue;Es=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,_=a;switch(p=e,m=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){h=T.call(m,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,p=typeof T=="function"?T.call(m,h,p):T,p==null)break e;h=qe({},h,p);break e;case 2:Es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=h}}function uw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var fu={},yr=di(fu),Ll=di(fu),Ml=di(fu);function Ci(t){if(t===fu)throw Error(H(174));return t}function tg(t,e){switch(Le(Ml,e),Le(Ll,t),Le(yr,fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yf(e,t)}ze(yr),Le(yr,e)}function ra(){ze(yr),ze(Ll),ze(Ml)}function ST(t){Ci(Ml.current);var e=Ci(yr.current),n=Yf(e,t.type);e!==n&&(Le(Ll,t),Le(yr,n))}function ng(t){Ll.current===t&&(ze(yr),ze(Ll))}var Be=di(0);function rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ff=[];function rg(){for(var t=0;t<ff.length;t++)ff[t]._workInProgressVersionPrimary=null;ff.length=0}var Tc=ns.ReactCurrentDispatcher,pf=ns.ReactCurrentBatchConfig,Hi=0,We=null,ct=null,Et=null,sd=!1,hl=!1,Vl=0,aR=0;function jt(){throw Error(H(321))}function sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function ig(t,e,n,r,s,i){if(Hi=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?dR:hR,t=n(r,s),hl){i=0;do{if(hl=!1,Vl=0,25<=i)throw Error(H(301));i+=1,Et=ct=null,e.updateQueue=null,Tc.current=fR,t=n(r,s)}while(hl)}if(Tc.current=id,e=ct!==null&&ct.next!==null,Hi=0,Et=ct=We=null,sd=!1,e)throw Error(H(300));return t}function og(){var t=Vl!==0;return Vl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?We.memoizedState=Et=t:Et=Et.next=t,Et}function Vn(){if(ct===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=Et===null?We.memoizedState:Et.next;if(e!==null)Et=e,ct=t;else{if(t===null)throw Error(H(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Et===null?We.memoizedState=Et=t:Et=Et.next=t}return Et}function jl(t,e){return typeof e=="function"?e(t):e}function mf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Hi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,We.lanes|=d,Wi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Zn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,Wi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gf(t){var e=Vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Zn(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function IT(){}function bT(t,e){var n=We,r=Vn(),s=e(),i=!Zn(r.memoizedState,s);if(i&&(r.memoizedState=s,an=!0),r=r.queue,ag(RT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Fl(9,AT.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(H(349));Hi&30||CT(n,e,s)}return s}function CT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AT(t,e,n,r){e.value=n,e.getSnapshot=r,PT(e)&&kT(t)}function RT(t,e,n){return n(function(){PT(e)&&kT(t)})}function PT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function kT(t){var e=Kr(t,1);e!==null&&Xn(e,t,1,-1)}function cw(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=cR.bind(null,We,t),[e.memoizedState,t]}function Fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NT(){return Vn().memoizedState}function xc(t,e,n,r){var s=ur();We.flags|=t,s.memoizedState=Fl(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&sg(r,o.deps)){s.memoizedState=Fl(e,n,i,r);return}}We.flags|=t,s.memoizedState=Fl(1|e,n,i,r)}function dw(t,e){return xc(8390656,8,t,e)}function ag(t,e){return Wd(2048,8,t,e)}function OT(t,e){return Wd(4,2,t,e)}function DT(t,e){return Wd(4,4,t,e)}function LT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MT(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,LT.bind(null,e,t),n)}function lg(){}function VT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jT(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FT(t,e,n){return Hi&21?(Zn(n,e)||(n=HE(),We.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function lR(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=pf.transition;pf.transition={};try{t(!1),e()}finally{Ae=n,pf.transition=r}}function UT(){return Vn().memoizedState}function uR(t,e,n){var r=Hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zT(t))$T(e,n);else if(n=TT(t,e,n,r),n!==null){var s=Yt();Xn(n,t,r,s),BT(n,e,r)}}function cR(t,e,n){var r=Hs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zT(t))$T(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Zn(a,o)){var l=e.interleaved;l===null?(s.next=s,Zm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=TT(t,e,s,r),n!==null&&(s=Yt(),Xn(n,t,r,s),BT(n,e,r))}}function zT(t){var e=t.alternate;return t===We||e!==null&&e===We}function $T(t,e){hl=sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}var id={readContext:Mn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},dR={readContext:Mn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:dw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,LT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uR.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:cw,useDebugValue:lg,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=cw(!1),e=t[0];return t=lR.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=ur();if($e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),xt===null)throw Error(H(349));Hi&30||CT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,dw(RT.bind(null,r,i,t),[t]),r.flags|=2048,Fl(9,AT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=xt.identifierPrefix;if($e){var n=Fr,r=jr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hR={readContext:Mn,useCallback:VT,useContext:Mn,useEffect:ag,useImperativeHandle:MT,useInsertionEffect:OT,useLayoutEffect:DT,useMemo:jT,useReducer:mf,useRef:NT,useState:function(){return mf(jl)},useDebugValue:lg,useDeferredValue:function(t){var e=Vn();return FT(e,ct.memoizedState,t)},useTransition:function(){var t=mf(jl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:bT,useId:UT,unstable_isNewReconciler:!1},fR={readContext:Mn,useCallback:VT,useContext:Mn,useEffect:ag,useImperativeHandle:MT,useInsertionEffect:OT,useLayoutEffect:DT,useMemo:jT,useReducer:gf,useRef:NT,useState:function(){return gf(jl)},useDebugValue:lg,useDeferredValue:function(t){var e=Vn();return ct===null?e.memoizedState=t:FT(e,ct.memoizedState,t)},useTransition:function(){var t=gf(jl)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:bT,useId:UT,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=Hs(t),i=$r(r,s);i.payload=e,n!=null&&(i.callback=n),e=$s(t,i,s),e!==null&&(Xn(e,t,s,r),Ec(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),s=Hs(t),i=$r(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$s(t,i,s),e!==null&&(Xn(e,t,s,r),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=Hs(t),s=$r(n,r);s.tag=2,e!=null&&(s.callback=e),e=$s(t,s,r),e!==null&&(Xn(e,t,r,n),Ec(e,t,r))}};function hw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(s,i):!0}function HT(t,e,n){var r=!1,s=Js,i=e.contextType;return typeof i=="object"&&i!==null?i=Mn(i):(s=un(e)?$i:Ht.current,r=e.contextTypes,i=(r=r!=null)?ea(t,s):Js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function vp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Mn(i):(i=un(e)?$i:Ht.current,s.context=ea(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qd.enqueueReplaceState(s,s.state,null),nd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=zC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pR=typeof WeakMap=="function"?WeakMap:Map;function WT(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ad||(ad=!0,Rp=r),wp(t,e)},n}function qT(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function pw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=AR.bind(null,t,e,n),e.then(t,t))}function mw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var mR=ns.ReactCurrentOwner,an=!1;function Gt(t,e,n,r){e.child=t===null?ET(e,null,n,r):na(e,t.child,n,r)}function yw(t,e,n,r,s){n=n.render;var i=e.ref;return Mo(e,s),r=ig(t,e,n,r,i,s),n=og(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):($e&&n&&Km(e),e.flags|=1,Gt(t,e,r,s),e.child)}function vw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,KT(t,e,i,r,s)):(t=Cc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&t.ref===e.ref)return Gr(t,e,s)}return e.flags|=1,t=Ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function KT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(kl(i,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Gr(t,e,s)}return _p(t,e,n,r,s)}function GT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Po,yn),yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Po,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(Po,yn),yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(Po,yn),yn|=r;return Gt(t,e,s,n),e.child}function QT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _p(t,e,n,r,s){var i=un(n)?$i:Ht.current;return i=ea(e,i),Mo(e,s),n=ig(t,e,n,r,i,s),r=og(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Gr(t,e,s)):($e&&r&&Km(e),e.flags|=1,Gt(t,e,n,s),e.child)}function ww(t,e,n,r,s){if(un(n)){var i=!0;Xc(e)}else i=!1;if(Mo(e,s),e.stateNode===null)Sc(t,e),HT(e,n,r),vp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=un(n)?$i:Ht.current,c=ea(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fw(e,o,r,c),Es=!1;var p=e.memoizedState;o.state=p,nd(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ln.current||Es?(typeof d=="function"&&(yp(e,n,d,r),l=e.memoizedState),(a=Es||hw(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=un(n)?$i:Ht.current,l=ea(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&fw(e,o,r,l),Es=!1,p=e.memoizedState,o.state=p,nd(e,r,o,s);var T=e.memoizedState;a!==h||p!==T||ln.current||Es?(typeof m=="function"&&(yp(e,n,m,r),T=e.memoizedState),(c=Es||hw(e,n,c,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ep(t,e,n,r,i,s)}function Ep(t,e,n,r,s,i){QT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&sw(e,n,!1),Gr(t,e,i);r=e.stateNode,mR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,a,i)):Gt(t,e,a,i),e.memoizedState=r.state,s&&sw(e,n,!0),e.child}function YT(t){var e=t.stateNode;e.pendingContext?rw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rw(t,e.context,!1),tg(t,e.containerInfo)}function _w(t,e,n,r,s){return ta(),Qm(s),e.flags|=256,Gt(t,e,n,r),e.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function XT(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Be,s&1),t===null)return mp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qd(o,r,0,null),t=Mi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xp(n),e.memoizedState=Tp,t):ug(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ws(a,i):(i=Mi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Tp,r}return i=t.child,t=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ug(t,e){return e=Qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,n,r){return r!==null&&Qm(r),na(e,t.child,null,n),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yf(Error(H(422))),Zu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qd({mode:"visible",children:r.children},s,0,null),i=Mi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=xp(o),e.memoizedState=Tp,i);if(!(e.mode&1))return Zu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=yf(i,r,void 0),Zu(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kr(t,s),Xn(r,t,s,-1))}return mg(),r=yf(Error(H(421))),Zu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=zs(s.nextSibling),En=e,$e=!0,qn=null,t!==null&&(Pn[kn++]=jr,Pn[kn++]=Fr,Pn[kn++]=Bi,jr=t.id,Fr=t.overflow,Bi=e),e=ug(e,r.children),e.flags|=4096,e)}function Ew(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gp(t.return,e,n)}function vf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function JT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Gt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ew(t,n,e);else if(t.tag===19)Ew(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&rd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&rd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vf(e,!0,n,null,i);break;case"together":vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yR(t,e,n){switch(e.tag){case 3:YT(e),ta();break;case 5:ST(e);break;case 1:un(e.type)&&Xc(e);break;case 4:tg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(ed,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?XT(t,e,n):(Le(Be,Be.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);Le(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,GT(t,e,n)}return Gr(t,e,n)}var ZT,Sp,ex,tx;ZT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};ex=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ci(yr.current);var i=null;switch(n){case"input":s=qf(t,s),r=qf(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=Qf(t,s),r=Qf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qc)}Xf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};tx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vR(t,e,n){var r=e.pendingProps;switch(Gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return un(e.type)&&Yc(),Ft(e),null;case 3:return r=e.stateNode,ra(),ze(ln),ze(Ht),rg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Np(qn),qn=null))),Sp(t,e),Ft(e),null;case 5:ng(e);var s=Ci(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)ex(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Ft(e),null}if(t=Ci(yr.current),Xu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pr]=e,r[Dl]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<tl.length;s++)je(tl[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Pv(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":Nv(r,i),je("invalid",r)}Xf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yu(r.textContent,a,t),s=["children",""+a]):Sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":$u(r),kv(r,i,!0);break;case"textarea":$u(r),Ov(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pr]=e,t[Dl]=r,ZT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jf(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<tl.length;s++)je(tl[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":Pv(t,r),s=qf(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),je("invalid",t);break;case"textarea":Nv(t,r),s=Qf(t,r),je("invalid",t);break;default:s=r}Xf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?NE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",t):l!=null&&Om(t,i,l,o))}switch(n){case"input":$u(t),kv(t,r,!1);break;case"textarea":$u(t),Ov(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?No(t,!!r.multiple,i,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)tx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ci(Ml.current),Ci(yr.current),Xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return Ft(e),null;case 13:if(ze(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&wn!==null&&e.mode&1&&!(e.flags&128))wT(),ta(),e.flags|=98560,i=!1;else if(i=Xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[pr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else qn!==null&&(Np(qn),qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?pt===0&&(pt=3):mg())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ra(),Sp(t,e),t===null&&Nl(e.stateNode.containerInfo),Ft(e),null;case 10:return Jm(e.type._context),Ft(e),null;case 17:return un(e.type)&&Yc(),Ft(e),null;case 19:if(ze(Be),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ka(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rd(t),o!==null){for(e.flags|=128,Ka(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>ia&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304)}else{if(!r)if(t=rd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Ft(e),null}else 2*rt()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Ka(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=Be.current,Le(Be,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return pg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function wR(t,e){switch(Gm(e),e.tag){case 1:return un(e.type)&&Yc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),ze(ln),ze(Ht),rg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ng(e),null;case 13:if(ze(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Be),null;case 4:return ra(),null;case 10:return Jm(e.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var ec=!1,$t=!1,_R=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Ip(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Tw=!1;function ER(t,e){if(lp=qc,t=oT(),qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(up={focusedElem:t,selectionRange:n},qc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,E=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:zn(e.type,_),E);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){Je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=Tw,Tw=!1,T}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ip(e,n,i)}s=s.next}while(s!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nx(t){var e=t.alternate;e!==null&&(t.alternate=null,nx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[Dl],delete e[hp],delete e[rR],delete e[sR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rx(t){return t.tag===5||t.tag===3||t.tag===4}function xw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qc));else if(r!==4&&(t=t.child,t!==null))for(Cp(t,e,n),t=t.sibling;t!==null;)Cp(t,e,n),t=t.sibling}function Ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ap(t,e,n),t=t.sibling;t!==null;)Ap(t,e,n),t=t.sibling}var At=null,Wn=!1;function ps(t,e,n){for(n=n.child;n!==null;)sx(t,e,n),n=n.sibling}function sx(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:$t||Ro(n,e);case 6:var r=At,s=Wn;At=null,ps(t,e,n),At=r,Wn=s,At!==null&&(Wn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Wn?(t=At,n=n.stateNode,t.nodeType===8?df(t.parentNode,n):t.nodeType===1&&df(t,n),Rl(t)):df(At,n.stateNode));break;case 4:r=At,s=Wn,At=n.stateNode.containerInfo,Wn=!0,ps(t,e,n),At=r,Wn=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ip(n,e,o),s=s.next}while(s!==r)}ps(t,e,n);break;case 1:if(!$t&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,ps(t,e,n),$t=r):ps(t,e,n);break;default:ps(t,e,n)}}function Sw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _R),e.forEach(function(r){var s=PR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Wn=!1;break e;case 3:At=a.stateNode.containerInfo,Wn=!0;break e;case 4:At=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(At===null)throw Error(H(160));sx(i,o,s),At=null,Wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ix(e,t),e=e.sibling}function ix(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),lr(t),r&4){try{fl(3,t,t.return),Kd(3,t)}catch(_){Je(t,t.return,_)}try{fl(5,t,t.return)}catch(_){Je(t,t.return,_)}}break;case 1:Fn(e,t),lr(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(Fn(e,t),lr(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(_){Je(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&CE(s,i),Jf(a,o);var c=Jf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NE(s,h):d==="dangerouslySetInnerHTML"?PE(s,h):d==="children"?Il(s,h):Om(s,d,h,c)}switch(a){case"input":Kf(s,i);break;case"textarea":AE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?No(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?No(s,!!i.multiple,i.defaultValue,!0):No(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dl]=i}catch(_){Je(t,t.return,_)}}break;case 6:if(Fn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Je(t,t.return,_)}}break;case 3:if(Fn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(_){Je(t,t.return,_)}break;case 4:Fn(e,t),lr(t);break;case 13:Fn(e,t),lr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hg=rt())),r&4&&Sw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||d,Fn(e,t),$t=c):Fn(e,t),lr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:fl(4,p,p.return);break;case 1:Ro(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){Je(r,n,_)}}break;case 5:Ro(p,p.return);break;case 22:if(p.memoizedState!==null){bw(h);continue}}m!==null?(m.return=p,Y=m):bw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kE("display",o))}catch(_){Je(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Je(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fn(e,t),lr(t),r&4&&Sw(t);break;case 21:break;default:Fn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rx(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var i=xw(t);Ap(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xw(t);Cp(t,a,o);break;default:throw Error(H(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TR(t,e,n){Y=t,ox(t)}function ox(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ec;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||$t;a=ec;var c=$t;if(ec=o,($t=l)&&!c)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Cw(s):l!==null?(l.return=o,Y=l):Cw(s);for(;i!==null;)Y=i,ox(i),i=i.sibling;Y=s,ec=a,$t=c}Iw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Iw(t)}}function Iw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}$t||e.flags&512&&bp(e)}catch(p){Je(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function bw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Cw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{bp(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{bp(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var xR=Math.ceil,od=ns.ReactCurrentDispatcher,cg=ns.ReactCurrentOwner,Ln=ns.ReactCurrentBatchConfig,Se=0,xt=null,it=null,kt=0,yn=0,Po=di(0),pt=0,Ul=null,Wi=0,Gd=0,dg=0,pl=null,on=null,hg=0,ia=1/0,Lr=null,ad=!1,Rp=null,Bs=null,tc=!1,Ls=null,ld=0,ml=0,Pp=null,Ic=-1,bc=0;function Yt(){return Se&6?rt():Ic!==-1?Ic:Ic=rt()}function Hs(t){return t.mode&1?Se&2&&kt!==0?kt&-kt:oR.transition!==null?(bc===0&&(bc=HE()),bc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:XE(t.type)),t):1}function Xn(t,e,n,r){if(50<ml)throw ml=0,Pp=null,Error(H(185));cu(t,n,r),(!(Se&2)||t!==xt)&&(t===xt&&(!(Se&2)&&(Gd|=n),pt===4&&xs(t,kt)),cn(t,r),n===1&&Se===0&&!(e.mode&1)&&(ia=rt()+500,Hd&&hi()))}function cn(t,e){var n=t.callbackNode;oA(t,e);var r=Wc(t,t===xt?kt:0);if(r===0)n!==null&&Mv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mv(n),e===1)t.tag===0?iR(Aw.bind(null,t)):gT(Aw.bind(null,t)),tR(function(){!(Se&6)&&hi()}),n=null;else{switch(WE(r)){case 1:n=jm;break;case 4:n=$E;break;case 16:n=Hc;break;case 536870912:n=BE;break;default:n=Hc}n=px(n,ax.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ax(t,e){if(Ic=-1,bc=0,Se&6)throw Error(H(327));var n=t.callbackNode;if(Vo()&&t.callbackNode!==n)return null;var r=Wc(t,t===xt?kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var s=Se;Se|=2;var i=ux();(xt!==t||kt!==e)&&(Lr=null,ia=rt()+500,Li(t,e));do try{bR();break}catch(a){lx(t,a)}while(!0);Xm(),od.current=i,Se=s,it!==null?e=0:(xt=null,kt=0,e=pt)}if(e!==0){if(e===2&&(s=rp(t),s!==0&&(r=s,e=kp(t,s))),e===1)throw n=Ul,Li(t,0),xs(t,r),cn(t,rt()),n;if(e===6)xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!SR(s)&&(e=ud(t,r),e===2&&(i=rp(t),i!==0&&(r=i,e=kp(t,i))),e===1))throw n=Ul,Li(t,0),xs(t,r),cn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:xi(t,on,Lr);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=hg+500-rt(),10<e)){if(Wc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dp(xi.bind(null,t,on,Lr),e);break}xi(t,on,Lr);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xR(r/1960))-r,10<r){t.timeoutHandle=dp(xi.bind(null,t,on,Lr),r);break}xi(t,on,Lr);break;case 5:xi(t,on,Lr);break;default:throw Error(H(329))}}}return cn(t,rt()),t.callbackNode===n?ax.bind(null,t):null}function kp(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=ud(t,e),t!==2&&(e=on,on=n,e!==null&&Np(e)),t}function Np(t){on===null?on=t:on.push.apply(on,t)}function SR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Zn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~dg,e&=~Gd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function Aw(t){if(Se&6)throw Error(H(327));Vo();var e=Wc(t,0);if(!(e&1))return cn(t,rt()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=rp(t);r!==0&&(e=r,n=kp(t,r))}if(n===1)throw n=Ul,Li(t,0),xs(t,e),cn(t,rt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,on,Lr),cn(t,rt()),null}function fg(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(ia=rt()+500,Hd&&hi())}}function qi(t){Ls!==null&&Ls.tag===0&&!(Se&6)&&Vo();var e=Se;Se|=1;var n=Ln.transition,r=Ae;try{if(Ln.transition=null,Ae=1,t)return t()}finally{Ae=r,Ln.transition=n,Se=e,!(Se&6)&&hi()}}function pg(){yn=Po.current,ze(Po)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eR(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Gm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:ra(),ze(ln),ze(Ht),rg();break;case 5:ng(r);break;case 4:ra();break;case 13:ze(Be);break;case 19:ze(Be);break;case 10:Jm(r.type._context);break;case 22:case 23:pg()}n=n.return}if(xt=t,it=t=Ws(t.current,null),kt=yn=e,pt=0,Ul=null,dg=Gd=Wi=0,on=pl=null,bi!==null){for(e=0;e<bi.length;e++)if(n=bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return t}function lx(t,e){do{var n=it;try{if(Xm(),Tc.current=id,sd){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sd=!1}if(Hi=0,Et=ct=We=null,hl=!1,Vl=0,cg.current=null,n===null||n.return===null){pt=1,Ul=e,it=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=mw(o);if(m!==null){m.flags&=-257,gw(m,o,a,i,e),m.mode&1&&pw(i,c,e),e=m,l=c;var T=e.updateQueue;if(T===null){var _=new Set;_.add(l),e.updateQueue=_}else T.add(l);break e}else{if(!(e&1)){pw(i,c,e),mg();break e}l=Error(H(426))}}else if($e&&a.mode&1){var E=mw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),gw(E,o,a,i,e),Qm(sa(l,a));break e}}i=l=sa(l,a),pt!==4&&(pt=2),pl===null?pl=[i]:pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=WT(i,l,e);lw(i,v);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=qT(i,a,e);lw(i,N);break e}}i=i.return}while(i!==null)}dx(n)}catch(D){e=D,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function ux(){var t=od.current;return od.current=id,t===null?id:t}function mg(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||!(Wi&268435455)&&!(Gd&268435455)||xs(xt,kt)}function ud(t,e){var n=Se;Se|=2;var r=ux();(xt!==t||kt!==e)&&(Lr=null,Li(t,e));do try{IR();break}catch(s){lx(t,s)}while(!0);if(Xm(),Se=n,od.current=r,it!==null)throw Error(H(261));return xt=null,kt=0,pt}function IR(){for(;it!==null;)cx(it)}function bR(){for(;it!==null&&!XC();)cx(it)}function cx(t){var e=fx(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?dx(t):it=e,cg.current=null}function dx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wR(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,it=null;return}}else if(n=vR(n,e,yn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);pt===0&&(pt=5)}function xi(t,e,n){var r=Ae,s=Ln.transition;try{Ln.transition=null,Ae=1,CR(t,e,n,r)}finally{Ln.transition=s,Ae=r}return null}function CR(t,e,n,r){do Vo();while(Ls!==null);if(Se&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(aA(t,i),t===xt&&(it=xt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tc||(tc=!0,px(Hc,function(){return Vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ln.transition,Ln.transition=null;var o=Ae;Ae=1;var a=Se;Se|=4,cg.current=null,ER(t,n),ix(n,t),KA(up),qc=!!lp,up=lp=null,t.current=n,TR(n),JC(),Se=a,Ae=o,Ln.transition=i}else t.current=n;if(tc&&(tc=!1,Ls=t,ld=s),i=t.pendingLanes,i===0&&(Bs=null),tA(n.stateNode),cn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ad)throw ad=!1,t=Rp,Rp=null,t;return ld&1&&t.tag!==0&&Vo(),i=t.pendingLanes,i&1?t===Pp?ml++:(ml=0,Pp=t):ml=0,hi(),null}function Vo(){if(Ls!==null){var t=WE(ld),e=Ln.transition,n=Ae;try{if(Ln.transition=null,Ae=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,ld=0,Se&6)throw Error(H(331));var s=Se;for(Se|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:fl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,m=d.return;if(nx(d),d===c){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var T=i.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kd(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){Y=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Y=N;break e}Y=a.return}}if(Se=s,hi(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{Ae=n,Ln.transition=e}}return!1}function Rw(t,e,n){e=sa(n,e),e=WT(t,e,1),t=$s(t,e,1),e=Yt(),t!==null&&(cu(t,1,e),cn(t,e))}function Je(t,e,n){if(t.tag===3)Rw(t,t,n);else for(;e!==null;){if(e.tag===3){Rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=sa(n,t),t=qT(e,t,1),e=$s(e,t,1),t=Yt(),e!==null&&(cu(e,1,t),cn(e,t));break}}e=e.return}}function AR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(kt&n)===n&&(pt===4||pt===3&&(kt&130023424)===kt&&500>rt()-hg?Li(t,0):dg|=n),cn(t,e)}function hx(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var n=Yt();t=Kr(t,e),t!==null&&(cu(t,e,n),cn(t,n))}function RR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hx(t,n)}function PR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),hx(t,n)}var fx;fx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,yR(t,e,n);an=!!(t.flags&131072)}else an=!1,$e&&e.flags&1048576&&yT(e,Zc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sc(t,e),t=e.pendingProps;var s=ea(e,Ht.current);Mo(e,n),s=ig(null,e,r,t,s,n);var i=og();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,Xc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eg(e),s.updater=qd,e.stateNode=s,s._reactInternals=e,vp(e,r,t,n),e=Ep(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&Km(e),Gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NR(r),t=zn(r,t),s){case 0:e=_p(null,e,r,t,n);break e;case 1:e=ww(null,e,r,t,n);break e;case 11:e=yw(null,e,r,t,n);break e;case 14:e=vw(null,e,r,zn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),_p(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),ww(t,e,r,s,n);case 3:e:{if(YT(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xT(t,e),nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sa(Error(H(423)),e),e=_w(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(H(424)),e),e=_w(t,e,r,n,s);break e}else for(wn=zs(e.stateNode.containerInfo.firstChild),En=e,$e=!0,qn=null,n=ET(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=Gr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return ST(e),t===null&&mp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,cp(r,s)?o=null:i!==null&&cp(r,i)&&(e.flags|=32),QT(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&mp(e),null;case 13:return XT(t,e,n);case 4:return tg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),yw(t,e,r,s,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(ed,r._currentValue),r._currentValue=o,i!==null)if(Zn(i.value,o)){if(i.children===s.children&&!ln.current){e=Gr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=$r(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mo(e,n),s=Mn(s),r=r(s),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,s=zn(r,e.pendingProps),s=zn(r.type,s),vw(t,e,r,s,n);case 15:return KT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),Sc(t,e),e.tag=1,un(r)?(t=!0,Xc(e)):t=!1,Mo(e,n),HT(e,r,s),vp(e,r,s,n),Ep(null,e,r,!0,t,n);case 19:return JT(t,e,n);case 22:return GT(t,e,n)}throw Error(H(156,e.tag))};function px(t,e){return zE(t,e)}function kR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new kR(t,e,n,r)}function gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NR(t){if(typeof t=="function")return gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lm)return 11;if(t===Mm)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return Mi(n.children,s,i,e);case Dm:o=8,s|=8;break;case $f:return t=Dn(12,n,e,s|2),t.elementType=$f,t.lanes=i,t;case Bf:return t=Dn(13,n,e,s),t.elementType=Bf,t.lanes=i,t;case Hf:return t=Dn(19,n,e,s),t.elementType=Hf,t.lanes=i,t;case SE:return Qd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TE:o=10;break e;case xE:o=9;break e;case Lm:o=11;break e;case Mm:o=14;break e;case _s:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mi(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Qd(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=SE,t.lanes=n,t.stateNode={isHidden:!1},t}function wf(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function _f(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zh(0),this.expirationTimes=Zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yg(t,e,n,r,s,i,o,a,l){return t=new OR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eg(i),t}function DR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mx(t){if(!t)return Js;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(un(n))return mT(t,n,e)}return e}function gx(t,e,n,r,s,i,o,a,l){return t=yg(n,r,!0,t,s,i,o,a,l),t.context=mx(null),n=t.current,r=Yt(),s=Hs(n),i=$r(r,s),i.callback=e??null,$s(n,i,s),t.current.lanes=s,cu(t,s,r),cn(t,r),t}function Yd(t,e,n,r){var s=e.current,i=Yt(),o=Hs(s);return n=mx(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(s,e,o),t!==null&&(Xn(t,s,o,i),Ec(t,s,o)),o}function cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){Pw(t,e),(t=t.alternate)&&Pw(t,e)}function LR(){return null}var yx=typeof reportError=="function"?reportError:function(t){console.error(t)};function wg(t){this._internalRoot=t}Xd.prototype.render=wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Yd(t,e,null,null)};Xd.prototype.unmount=wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Yd(null,t,null,null)}),e[qr]=null}};function Xd(t){this._internalRoot=t}Xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=GE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&YE(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kw(){}function MR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=cd(o);i.call(c)}}var o=gx(e,r,t,0,null,!1,!1,"",kw);return t._reactRootContainer=o,t[qr]=o.current,Nl(t.nodeType===8?t.parentNode:t),qi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=cd(l);a.call(c)}}var l=yg(t,0,!1,null,null,!1,!1,"",kw);return t._reactRootContainer=l,t[qr]=l.current,Nl(t.nodeType===8?t.parentNode:t),qi(function(){Yd(e,l,n,r)}),l}function Zd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=cd(o);a.call(l)}}Yd(e,o,t,s)}else o=MR(n,e,t,s,r);return cd(o)}qE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(Fm(e,n|1),cn(e,rt()),!(Se&6)&&(ia=rt()+500,hi()))}break;case 13:qi(function(){var r=Kr(t,1);if(r!==null){var s=Yt();Xn(r,t,1,s)}}),vg(t,1)}};Um=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=Yt();Xn(e,t,134217728,n)}vg(t,134217728)}};KE=function(t){if(t.tag===13){var e=Hs(t),n=Kr(t,e);if(n!==null){var r=Yt();Xn(n,t,e,r)}vg(t,e)}};GE=function(){return Ae};QE=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};ep=function(t,e,n){switch(e){case"input":if(Kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bd(r);if(!s)throw Error(H(90));bE(r),Kf(r,s)}}}break;case"textarea":AE(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};LE=fg;ME=qi;var VR={usingClientEntryPoint:!1,Events:[hu,So,Bd,OE,DE,fg]},Ga={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||LR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Fd=nc.inject(jR),gr=nc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(H(200));return DR(t,e,null,n)};Sn.createRoot=function(t,e){if(!_g(t))throw Error(H(299));var n=!1,r="",s=yx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yg(t,1,!1,null,null,n,!1,r,s),t[qr]=e.current,Nl(t.nodeType===8?t.parentNode:t),new wg(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return qi(t)};Sn.hydrate=function(t,e,n){if(!Jd(e))throw Error(H(200));return Zd(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!_g(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gx(e,null,t,1,n??null,s,!1,i,o),t[qr]=e.current,Nl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Xd(e)};Sn.render=function(t,e,n){if(!Jd(e))throw Error(H(200));return Zd(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!Jd(t))throw Error(H(40));return t._reactRootContainer?(qi(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};Sn.unstable_batchedUpdates=fg;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Zd(t,e,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vx)}catch(t){console.error(t)}}vx(),vE.exports=Sn;var pu=vE.exports;const wx=iE(pu);var _x,Nw=pu;_x=Nw.createRoot,Nw.hydrateRoot;const FR=1,UR=1e6;let Ef=0;function zR(){return Ef=(Ef+1)%Number.MAX_SAFE_INTEGER,Ef.toString()}const Tf=new Map,Ow=t=>{if(Tf.has(t))return;const e=setTimeout(()=>{Tf.delete(t),gl({type:"REMOVE_TOAST",toastId:t})},UR);Tf.set(t,e)},$R=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,FR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ow(n):t.toasts.forEach(r=>{Ow(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ac=[];let Rc={toasts:[]};function gl(t){Rc=$R(Rc,t),Ac.forEach(e=>{e(Rc)})}function BR({...t}){const e=zR(),n=s=>gl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>gl({type:"DISMISS_TOAST",toastId:e});return gl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function HR(){const[t,e]=A.useState(Rc);return A.useEffect(()=>(Ac.push(e),()=>{const n=Ac.indexOf(e);n>-1&&Ac.splice(n,1)}),[t]),{...t,toast:BR,dismiss:n=>gl({type:"DISMISS_TOAST",toastId:n})}}function dt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Dw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ex(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Dw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Dw(t[s],null)}}}}function er(...t){return A.useCallback(Ex(...t),t)}function eh(t,e=[]){let n=[];function r(i,o){const a=A.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:m,...T}=h,_=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,E=A.useMemo(()=>T,Object.values(T));return w.jsx(_.Provider,{value:E,children:m})};c.displayName=i+"Provider";function d(h,p){var _;const m=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,T=A.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,WR(s,...e)]}function WR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function dd(t){const e=KR(t),n=A.forwardRef((r,s)=>{const{children:i,...o}=r,a=A.Children.toArray(i),l=a.find(QR);if(l){const c=l.props.children,d=a.map(h=>h===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:h);return w.jsx(e,{...o,ref:s,children:A.isValidElement(c)?A.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var qR=dd("Slot");function KR(t){const e=A.forwardRef((n,r)=>{const{children:s,...i}=n;if(A.isValidElement(s)){const o=XR(s),a=YR(i,s.props);return s.type!==A.Fragment&&(a.ref=r?Ex(r,o):o),A.cloneElement(s,a)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tx=Symbol("radix.slottable");function GR(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Tx,e}function QR(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tx}function YR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function XR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JR(t){const e=t+"CollectionProvider",[n,r]=eh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:v}=_,y=W.useRef(null),x=W.useRef(new Map).current;return w.jsx(s,{scope:E,itemMap:x,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=dd(a),c=W.forwardRef((_,E)=>{const{scope:v,children:y}=_,x=i(a,v),N=er(E,x.collectionRef);return w.jsx(l,{ref:N,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=dd(d),m=W.forwardRef((_,E)=>{const{scope:v,children:y,...x}=_,N=W.useRef(null),D=er(E,N),L=i(d,v);return W.useEffect(()=>(L.itemMap.set(N,{ref:N,...x}),()=>void L.itemMap.delete(N))),w.jsx(p,{[h]:"",ref:D,children:y})});m.displayName=d;function T(_){const E=i(t+"CollectionConsumer",_);return W.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((L,I)=>x.indexOf(L.ref.current)-x.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},T,r]}var ZR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hn=ZR.reduce((t,e)=>{const n=dd(`Primitive.${e}`),r=A.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function xx(t,e){t&&pu.flushSync(()=>t.dispatchEvent(e))}function Zs(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function eP(t,e=globalThis==null?void 0:globalThis.document){const n=Zs(t);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tP="DismissableLayer",Op="dismissableLayer.update",nP="dismissableLayer.pointerDownOutside",rP="dismissableLayer.focusOutside",Lw,Sx=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eg=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=A.useContext(Sx),[d,h]=A.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=A.useState({}),T=er(e,I=>h(I)),_=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(E),y=d?_.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,D=iP(I=>{const S=I.target,C=[...c.branches].some(P=>P.contains(S));!N||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=oP(I=>{const S=I.target;[...c.branches].some(P=>P.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return eP(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),A.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Lw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Mw(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Lw)}},[d,p,n,c]),A.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Mw())},[d,c]),A.useEffect(()=>{const I=()=>m({});return document.addEventListener(Op,I),()=>document.removeEventListener(Op,I)},[]),w.jsx(hn.div,{...l,ref:T,style:{pointerEvents:x?N?"auto":"none":void 0,...t.style},onFocusCapture:dt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:dt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:dt(t.onPointerDownCapture,D.onPointerDownCapture)})});Eg.displayName=tP;var sP="DismissableLayerBranch",Ix=A.forwardRef((t,e)=>{const n=A.useContext(Sx),r=A.useRef(null),s=er(e,r);return A.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),w.jsx(hn.div,{...t,ref:s})});Ix.displayName=sP;function iP(t,e=globalThis==null?void 0:globalThis.document){const n=Zs(t),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){bx(nP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oP(t,e=globalThis==null?void 0:globalThis.document){const n=Zs(t),r=A.useRef(!1);return A.useEffect(()=>{const s=i=>{i.target&&!r.current&&bx(rP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Mw(){const t=new CustomEvent(Op);document.dispatchEvent(t)}function bx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xx(s,i):s.dispatchEvent(i)}var aP=Eg,lP=Ix,ei=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},uP="Portal",Cx=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=A.useState(!1);ei(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wx.createPortal(w.jsx(hn.div,{...r,ref:e}),o):null});Cx.displayName=uP;function cP(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var Tg=t=>{const{present:e,children:n}=t,r=dP(e),s=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),i=er(r.ref,hP(s));return typeof n=="function"||r.isPresent?A.cloneElement(s,{ref:i}):null};Tg.displayName="Presence";function dP(t){const[e,n]=A.useState(),r=A.useRef(null),s=A.useRef(t),i=A.useRef("none"),o=t?"mounted":"unmounted",[a,l]=cP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=rc(r.current);i.current=a==="mounted"?c:"none"},[a]),ei(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=rc(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ei(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const _=rc(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&_&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=m=>{m.target===e&&(i.current=rc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function rc(t){return(t==null?void 0:t.animationName)||"none"}function hP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fP=gE[" useInsertionEffect ".trim().toString()]||ei;function pP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=mP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=A.useRef(t!==void 0);A.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=A.useCallback(d=>{var h;if(a){const p=gP(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function mP({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),s=A.useRef(n),i=A.useRef(e);return fP(()=>{i.current=e},[e]),A.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function gP(t){return typeof t=="function"}var yP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vP="VisuallyHidden",th=A.forwardRef((t,e)=>w.jsx(hn.span,{...t,ref:e,style:{...yP,...t.style}}));th.displayName=vP;var wP=th,xg="ToastProvider",[Sg,_P,EP]=JR("Toast"),[Ax]=eh("Toast",[EP]),[TP,nh]=Ax(xg),Rx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=A.useState(null),[c,d]=A.useState(0),h=A.useRef(!1),p=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xg}\`. Expected non-empty \`string\`.`),w.jsx(Sg.Provider,{scope:e,children:w.jsx(TP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:A.useCallback(()=>d(m=>m+1),[]),onToastRemove:A.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Rx.displayName=xg;var Px="ToastViewport",xP=["F8"],Dp="toast.viewportPause",Lp="toast.viewportResume",kx=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=xP,label:s="Notifications ({hotkey})",...i}=t,o=nh(Px,n),a=_P(n),l=A.useRef(null),c=A.useRef(null),d=A.useRef(null),h=A.useRef(null),p=er(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;A.useEffect(()=>{const E=v=>{var x;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),A.useEffect(()=>{const E=l.current,v=h.current;if(T&&E&&v){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Dp);v.dispatchEvent(L),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Lp);v.dispatchEvent(L),o.isClosePausedRef.current=!1}},N=L=>{!E.contains(L.relatedTarget)&&x()},D=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",y),E.addEventListener("focusout",N),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const _=A.useCallback(({tabbingDirection:E})=>{const y=a().map(x=>{const N=x.ref.current,D=[N,...MP(N)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?y.reverse():y).flat()},[a]);return A.useEffect(()=>{const E=h.current;if(E){const v=y=>{var D,L,I;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const S=document.activeElement,C=y.shiftKey;if(y.target===E&&C){(D=c.current)==null||D.focus();return}const O=_({tabbingDirection:C?"backwards":"forwards"}),k=O.findIndex(z=>z===S);xf(O.slice(k+1))?y.preventDefault():C?(L=c.current)==null||L.focus():(I=d.current)==null||I.focus()}};return E.addEventListener("keydown",v),()=>E.removeEventListener("keydown",v)}},[a,_]),w.jsxs(lP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&w.jsx(Mp,{ref:c,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});xf(E)}}),w.jsx(Sg.Slot,{scope:n,children:w.jsx(hn.ol,{tabIndex:-1,...i,ref:p})}),T&&w.jsx(Mp,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});xf(E)}})]})});kx.displayName=Px;var Nx="ToastFocusProxy",Mp=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=nh(Nx,n);return w.jsx(th,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Mp.displayName=Nx;var mu="Toast",SP="toast.swipeStart",IP="toast.swipeMove",bP="toast.swipeCancel",CP="toast.swipeEnd",Ox=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=pP({prop:r,defaultProp:s??!0,onChange:i,caller:mu});return w.jsx(Tg,{present:n||a,children:w.jsx(PP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Zs(t.onPause),onResume:Zs(t.onResume),onSwipeStart:dt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:dt(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:dt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:dt(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Ox.displayName=mu;var[AP,RP]=Ax(mu,{onClose(){}}),PP=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...T}=t,_=nh(mu,n),[E,v]=A.useState(null),y=er(e,z=>v(z)),x=A.useRef(null),N=A.useRef(null),D=s||_.duration,L=A.useRef(0),I=A.useRef(D),S=A.useRef(0),{onToastAdd:C,onToastRemove:P}=_,R=Zs(()=>{var J;(E==null?void 0:E.contains(document.activeElement))&&((J=_.viewport)==null||J.focus()),o()}),O=A.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(R,z))},[R]);A.useEffect(()=>{const z=_.viewport;if(z){const J=()=>{O(I.current),c==null||c()},ee=()=>{const ne=new Date().getTime()-L.current;I.current=I.current-ne,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(Dp,ee),z.addEventListener(Lp,J),()=>{z.removeEventListener(Dp,ee),z.removeEventListener(Lp,J)}}},[_.viewport,D,l,c,O]),A.useEffect(()=>{i&&!_.isClosePausedRef.current&&O(D)},[i,D,_.isClosePausedRef,O]),A.useEffect(()=>(C(),()=>P()),[C,P]);const k=A.useMemo(()=>E?Ux(E):null,[E]);return _.viewport?w.jsxs(w.Fragment,{children:[k&&w.jsx(kP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),w.jsx(AP,{scope:n,onClose:R,children:pu.createPortal(w.jsx(Sg.ItemSlot,{scope:n,children:w.jsx(aP,{asChild:!0,onEscapeKeyDown:dt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||R(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(hn.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:dt(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:dt(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:dt(t.onPointerMove,z=>{if(!x.current)return;const J=z.clientX-x.current.x,ee=z.clientY-x.current.y,ne=!!N.current,j=["left","right"].includes(_.swipeDirection),U=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,q=j?U(0,J):0,te=j?0:U(0,ee),X=z.pointerType==="touch"?10:2,oe={x:q,y:te},ie={originalEvent:z,delta:oe};ne?(N.current=oe,sc(IP,h,ie,{discrete:!1})):Vw(oe,_.swipeDirection,X)?(N.current=oe,sc(SP,d,ie,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(J)>X||Math.abs(ee)>X)&&(x.current=null)}),onPointerUp:dt(t.onPointerUp,z=>{const J=N.current,ee=z.target;if(ee.hasPointerCapture(z.pointerId)&&ee.releasePointerCapture(z.pointerId),N.current=null,x.current=null,J){const ne=z.currentTarget,j={originalEvent:z,delta:J};Vw(J,_.swipeDirection,_.swipeThreshold)?sc(CP,m,j,{discrete:!0}):sc(bP,p,j,{discrete:!0}),ne.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),kP=t=>{const{__scopeToast:e,children:n,...r}=t,s=nh(mu,e),[i,o]=A.useState(!1),[a,l]=A.useState(!1);return DP(()=>o(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:w.jsx(Cx,{asChild:!0,children:w.jsx(th,{...r,children:i&&w.jsxs(w.Fragment,{children:[s.label," ",n]})})})},NP="ToastTitle",Dx=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(hn.div,{...r,ref:e})});Dx.displayName=NP;var OP="ToastDescription",Lx=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(hn.div,{...r,ref:e})});Lx.displayName=OP;var Mx="ToastAction",Vx=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(Fx,{altText:n,asChild:!0,children:w.jsx(Ig,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mx}\`. Expected non-empty \`string\`.`),null)});Vx.displayName=Mx;var jx="ToastClose",Ig=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=RP(jx,n);return w.jsx(Fx,{asChild:!0,children:w.jsx(hn.button,{type:"button",...r,ref:e,onClick:dt(t.onClick,s.onClose)})})});Ig.displayName=jx;var Fx=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return w.jsx(hn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ux(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),LP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ux(r))}}),e}function sc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xx(s,i):s.dispatchEvent(i)}var Vw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function DP(t=()=>{}){const e=Zs(t);ei(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function LP(t){return t.nodeType===t.ELEMENT_NODE}function MP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var VP=Rx,zx=kx,$x=Ox,Bx=Dx,Hx=Lx,Wx=Vx,qx=Ig;function Kx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Kx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Kx(t))&&(r&&(r+=" "),r+=e);return r}const jw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fw=Gx,Qx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Fw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=jw(d)||jw(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(T=>{let[_,E]=T;return Array.isArray(E)?E.includes({...i,...a}[_]):{...i,...a}[_]===E})?[...c,h,p]:c},[]);return Fw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,...FP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Yx("lucide",s),...a},[...o.map(([c,d])=>A.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=(t,e)=>{const n=A.forwardRef(({className:r,...s},i)=>A.createElement(UP,{ref:i,iconNode:e,className:Yx(`lucide-${jP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=fn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=fn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=fn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=fn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=fn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=fn("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=fn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=fn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=fn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=fn("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=fn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=fn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=fn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bg="-",ZP=t=>{const e=tk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(bg);return a[0]===""&&a.length!==1&&a.shift(),Zx(a,e)||ek(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Zx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Zx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Uw=/^\[(.+)\]$/,ek=t=>{if(Uw.test(t)){const e=Uw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},tk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return rk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vp(o,r,i,e)}),r},Vp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:zw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(nk(s)){Vp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vp(o,zw(e,i),n,r)})})},zw=(t,e)=>{let n=t;return e.split(bg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nk=t=>t.isThemeGetter,rk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,sk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},e1="!",ik=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let E=0;E<a.length;E++){let v=a[E];if(c===0){if(v===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(v==="/"){h=E;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(e1),T=m?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},ok=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ak=t=>({cache:sk(t.cacheSize),parseClassName:ik(t),...ZP(t)}),lk=/\s+/,uk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(lk);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let T=!!m,_=r(T?p.substring(0,m):p);if(!_){if(!T){a=c+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=c+(a.length>0?" "+a:a);continue}T=!1}const E=ok(d).join(":"),v=h?E+e1:E,y=v+_;if(i.includes(y))continue;i.push(y);const x=s(_,T);for(let N=0;N<x.length;++N){const D=x[N];i.push(v+D)}a=c+(a.length>0?" "+a:a)}return a};function ck(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=t1(e))&&(r&&(r+=" "),r+=n);return r}const t1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=t1(t[r]))&&(n&&(n+=" "),n+=e);return n};function dk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=ak(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=uk(l,n);return s(l,d),d}return function(){return i(ck.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},n1=/^\[(?:([a-z-]+):)?(.+)\]$/i,hk=/^\d+\/\d+$/,fk=new Set(["px","full","screen"]),pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=t=>jo(t)||fk.has(t)||hk.test(t),ms=t=>wa(t,"length",bk),jo=t=>!!t&&!Number.isNaN(Number(t)),Sf=t=>wa(t,"number",jo),Qa=t=>!!t&&Number.isInteger(Number(t)),wk=t=>t.endsWith("%")&&jo(t.slice(0,-1)),fe=t=>n1.test(t),gs=t=>pk.test(t),_k=new Set(["length","size","percentage"]),Ek=t=>wa(t,_k,r1),Tk=t=>wa(t,"position",r1),xk=new Set(["image","url"]),Sk=t=>wa(t,xk,Ak),Ik=t=>wa(t,"",Ck),Ya=()=>!0,wa=(t,e,n)=>{const r=n1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bk=t=>mk.test(t)&&!gk.test(t),r1=()=>!1,Ck=t=>yk.test(t),Ak=t=>vk.test(t),Rk=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),c=Ve("grayscale"),d=Ve("hueRotate"),h=Ve("invert"),p=Ve("gap"),m=Ve("gradientColorStops"),T=Ve("gradientColorStopPositions"),_=Ve("inset"),E=Ve("margin"),v=Ve("opacity"),y=Ve("padding"),x=Ve("saturate"),N=Ve("scale"),D=Ve("sepia"),L=Ve("skew"),I=Ve("space"),S=Ve("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",fe,e],O=()=>[fe,e],k=()=>["",Or,ms],z=()=>["auto",jo,fe],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[jo,fe];return{cacheSize:500,separator:":",theme:{colors:[Ya],spacing:[Or,ms],blur:["none","",gs,fe],brightness:te(),borderColor:[t],borderRadius:["none","","full",gs,fe],borderSpacing:O(),borderWidth:k(),contrast:te(),grayscale:U(),hueRotate:te(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[wk,ms],inset:R(),margin:R(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:U(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),fe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qa,fe]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Qa,fe]}],"grid-cols":[{"grid-cols":[Ya]}],"col-start-end":[{col:["auto",{span:["full",Qa,fe]},fe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ya]}],"row-start-end":[{row:["auto",{span:[Qa,fe]},fe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sf]}],"font-family":[{font:[Ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",jo,Sf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,ms]}],"underline-offset":[{"underline-offset":["auto",Or,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Tk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ek]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Or,fe]}],"outline-w":[{outline:[Or,ms]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Or,ms]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gs,Ik]}],"shadow-color":[{shadow:[Ya]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gs,fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Qa,fe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Or,ms,Sf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pk=dk(Rk);function gt(...t){return Pk(Gx(t))}const kk=VP,s1=A.forwardRef(({className:t,...e},n)=>w.jsx(zx,{ref:n,className:gt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));s1.displayName=zx.displayName;const Nk=Qx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),i1=A.forwardRef(({className:t,variant:e,...n},r)=>w.jsx($x,{ref:r,className:gt(Nk({variant:e}),t),...n}));i1.displayName=$x.displayName;const Ok=A.forwardRef(({className:t,...e},n)=>w.jsx(Wx,{ref:n,className:gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Ok.displayName=Wx.displayName;const o1=A.forwardRef(({className:t,...e},n)=>w.jsx(qx,{ref:n,className:gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(Jx,{className:"h-4 w-4"})}));o1.displayName=qx.displayName;const a1=A.forwardRef(({className:t,...e},n)=>w.jsx(Bx,{ref:n,className:gt("text-sm font-semibold",t),...e}));a1.displayName=Bx.displayName;const l1=A.forwardRef(({className:t,...e},n)=>w.jsx(Hx,{ref:n,className:gt("text-sm opacity-90",t),...e}));l1.displayName=Hx.displayName;function Dk(){const{toasts:t}=HR();return w.jsxs(kk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return w.jsxs(i1,{...i,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(a1,{children:n}),r&&w.jsx(l1,{children:r})]}),s,w.jsx(o1,{})]},e)}),w.jsx(s1,{})]})}var $w=["light","dark"],Lk="(prefers-color-scheme: dark)",Mk=A.createContext(void 0),Vk={setTheme:t=>{},themes:[]},jk=()=>{var t;return(t=A.useContext(Mk))!=null?t:Vk};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?$w.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,_=!1,E=!0)=>{let v=o?o[T]:T,y=_?T+"|| ''":`'${v}'`,x="";return s&&E&&!_&&$w.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?_||v?x+=`c.add(${y})`:x+="null":v&&(x+=`d[s](n,${y})`),x},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Lk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return A.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var Fk=t=>{switch(t){case"success":return $k;case"info":return Hk;case"warning":return Bk;case"error":return Wk;default:return null}},Uk=Array(12).fill(0),zk=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},Uk.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$k=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Bk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Wk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qk=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kk=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jp=1,Gk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:jp++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],W.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(Yk(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||jp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rn=new Gk,Qk=(t,e)=>{let n=(e==null?void 0:e.id)||jp++;return rn.addToast({title:t,...e,id:n}),n},Yk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Xk=Qk,Jk=()=>rn.toasts,Zk=()=>rn.getActiveToasts();Object.assign(Xk,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:Jk,getToasts:Zk});function eN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}eN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ic(t){return t.label!==void 0}var tN=3,nN="32px",rN="16px",Bw=4e3,sN=356,iN=14,oN=20,aN=200;function Un(...t){return t.filter(Boolean).join(" ")}function lN(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var uN=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:m,unstyled:T,interacting:_,setHeights:E,visibleToasts:v,heights:y,index:x,toasts:N,expanded:D,removeToast:L,defaultRichColors:I,closeButton:S,style:C,cancelButtonStyle:P,actionButtonStyle:R,className:O="",descriptionClassName:k="",duration:z,position:J,gap:ee,loadingIcon:ne,expandByDefault:j,classNames:U,icons:q,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:X}=t,[oe,ie]=W.useState(null),[be,Ne]=W.useState(null),[le,Oe]=W.useState(!1),[et,Ge]=W.useState(!1),[Ee,Q]=W.useState(!1),[me,Re]=W.useState(!1),[tt,lt]=W.useState(!1),[bt,Dt]=W.useState(0),[Ie,De]=W.useState(0),Lt=W.useRef(m.duration||z||Bw),rs=W.useRef(null),Zt=W.useRef(null),uo=x===0,rr=x+1<=v,Ct=m.type,bn=m.dismissible!==!1,mi=m.className||"",gi=m.descriptionClassName||"",pn=W.useMemo(()=>y.findIndex(se=>se.toastId===m.id)||0,[y,m.id]),ss=W.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:S},[m.closeButton,S]),kr=W.useMemo(()=>m.duration||z||Bw,[m.duration,z]),en=W.useRef(0),Cn=W.useRef(0),is=W.useRef(0),Mt=W.useRef(null),[co,os]=J.split("-"),as=W.useMemo(()=>y.reduce((se,xe,Pe)=>Pe>=pn?se:se+xe.height,0),[y,pn]),sr=Kk(),yi=m.invert||p,Qe=Ct==="loading";Cn.current=W.useMemo(()=>pn*ee+as,[pn,as]),W.useEffect(()=>{Lt.current=kr},[kr]),W.useEffect(()=>{Oe(!0)},[]),W.useEffect(()=>{let se=Zt.current;if(se){let xe=se.getBoundingClientRect().height;return De(xe),E(Pe=>[{toastId:m.id,height:xe,position:m.position},...Pe]),()=>E(Pe=>Pe.filter(yt=>yt.toastId!==m.id))}},[E,m.id]),W.useLayoutEffect(()=>{if(!le)return;let se=Zt.current,xe=se.style.height;se.style.height="auto";let Pe=se.getBoundingClientRect().height;se.style.height=xe,De(Pe),E(yt=>yt.find(mn=>mn.toastId===m.id)?yt.map(mn=>mn.toastId===m.id?{...mn,height:Pe}:mn):[{toastId:m.id,height:Pe,position:m.position},...yt])},[le,m.title,m.description,E,m.id]);let tn=W.useCallback(()=>{Ge(!0),Dt(Cn.current),E(se=>se.filter(xe=>xe.toastId!==m.id)),setTimeout(()=>{L(m)},aN)},[m,L,E,Cn]);W.useEffect(()=>{if(m.promise&&Ct==="loading"||m.duration===1/0||m.type==="loading")return;let se;return D||_||X&&sr?(()=>{if(is.current<en.current){let xe=new Date().getTime()-en.current;Lt.current=Lt.current-xe}is.current=new Date().getTime()})():Lt.current!==1/0&&(en.current=new Date().getTime(),se=setTimeout(()=>{var xe;(xe=m.onAutoClose)==null||xe.call(m,m),tn()},Lt.current)),()=>clearTimeout(se)},[D,_,m,Ct,X,sr,tn]),W.useEffect(()=>{m.delete&&tn()},[tn,m.delete]);function Nr(){var se,xe,Pe;return q!=null&&q.loading?W.createElement("div",{className:Un(U==null?void 0:U.loader,(se=m==null?void 0:m.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":Ct==="loading"},q.loading):ne?W.createElement("div",{className:Un(U==null?void 0:U.loader,(xe=m==null?void 0:m.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":Ct==="loading"},ne):W.createElement(zk,{className:Un(U==null?void 0:U.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader),visible:Ct==="loading"})}return W.createElement("li",{tabIndex:0,ref:Zt,className:Un(O,mi,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Ct],(n=m==null?void 0:m.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":le,"data-promise":!!m.promise,"data-swiped":tt,"data-removed":et,"data-visible":rr,"data-y-position":co,"data-x-position":os,"data-index":x,"data-front":uo,"data-swiping":Ee,"data-dismissible":bn,"data-type":Ct,"data-invert":yi,"data-swipe-out":me,"data-swipe-direction":be,"data-expanded":!!(D||j&&le),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${et?bt:Cn.current}px`,"--initial-height":j?"auto":`${Ie}px`,...C,...m.style},onDragEnd:()=>{Q(!1),ie(null),Mt.current=null},onPointerDown:se=>{Qe||!bn||(rs.current=new Date,Dt(Cn.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(Q(!0),Mt.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,xe,Pe,yt;if(me||!bn)return;Mt.current=null;let mn=Number(((se=Zt.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ir=Number(((xe=Zt.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((Pe=rs.current)==null?void 0:Pe.getTime()),nn=oe==="x"?mn:ir,jn=Math.abs(nn)/An;if(Math.abs(nn)>=oN||jn>.11){Dt(Cn.current),(yt=m.onDismiss)==null||yt.call(m,m),Ne(oe==="x"?mn>0?"right":"left":ir>0?"down":"up"),tn(),Re(!0),lt(!1);return}Q(!1),ie(null)},onPointerMove:se=>{var xe,Pe,yt,mn;if(!Mt.current||!bn||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let ir=se.clientY-Mt.current.y,An=se.clientX-Mt.current.x,nn=(Pe=t.swipeDirections)!=null?Pe:lN(J);!oe&&(Math.abs(An)>1||Math.abs(ir)>1)&&ie(Math.abs(An)>Math.abs(ir)?"x":"y");let jn={x:0,y:0};oe==="y"?(nn.includes("top")||nn.includes("bottom"))&&(nn.includes("top")&&ir<0||nn.includes("bottom")&&ir>0)&&(jn.y=ir):oe==="x"&&(nn.includes("left")||nn.includes("right"))&&(nn.includes("left")&&An<0||nn.includes("right")&&An>0)&&(jn.x=An),(Math.abs(jn.x)>0||Math.abs(jn.y)>0)&&lt(!0),(yt=Zt.current)==null||yt.style.setProperty("--swipe-amount-x",`${jn.x}px`),(mn=Zt.current)==null||mn.style.setProperty("--swipe-amount-y",`${jn.y}px`)}},ss&&!m.jsx?W.createElement("button",{"aria-label":te,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!bn?()=>{}:()=>{var se;tn(),(se=m.onDismiss)==null||se.call(m,m)},className:Un(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:qk):null,m.jsx||A.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:W.createElement(W.Fragment,null,Ct||m.icon||m.promise?W.createElement("div",{"data-icon":"",className:Un(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Nr():null,m.type!=="loading"?m.icon||(q==null?void 0:q[Ct])||Fk(Ct):null):null,W.createElement("div",{"data-content":"",className:Un(U==null?void 0:U.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Un(U==null?void 0:U.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?W.createElement("div",{"data-description":"",className:Un(k,gi,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),A.isValidElement(m.cancel)?m.cancel:m.cancel&&ic(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:se=>{var xe,Pe;ic(m.cancel)&&bn&&((Pe=(xe=m.cancel).onClick)==null||Pe.call(xe,se),tn())},className:Un(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,A.isValidElement(m.action)?m.action:m.action&&ic(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:se=>{var xe,Pe;ic(m.action)&&((Pe=(xe=m.action).onClick)==null||Pe.call(xe,se),!se.defaultPrevented&&tn())},className:Un(U==null?void 0:U.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Hw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cN(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?rN:nN;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var dN=A.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:T=tN,toastOptions:_,dir:E=Hw(),gap:v=iN,loadingIcon:y,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[L,I]=W.useState([]),S=W.useMemo(()=>Array.from(new Set([r].concat(L.filter(X=>X.position).map(X=>X.position)))),[L,r]),[C,P]=W.useState([]),[R,O]=W.useState(!1),[k,z]=W.useState(!1),[J,ee]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),q=W.useRef(!1),te=W.useCallback(X=>{I(oe=>{var ie;return(ie=oe.find(be=>be.id===X.id))!=null&&ie.delete||rn.dismiss(X.id),oe.filter(({id:be})=>be!==X.id)})},[]);return W.useEffect(()=>rn.subscribe(X=>{if(X.dismiss){I(oe=>oe.map(ie=>ie.id===X.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{wx.flushSync(()=>{I(oe=>{let ie=oe.findIndex(be=>be.id===X.id);return ie!==-1?[...oe.slice(0,ie),{...oe[ie],...X},...oe.slice(ie+1)]:[X,...oe]})})})}),[]),W.useEffect(()=>{if(d!=="system"){ee(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:oe})=>{ee(oe?"dark":"light")})}catch{X.addListener(({matches:ie})=>{try{ee(ie?"dark":"light")}catch(be){console.error(be)}})}},[d]),W.useEffect(()=>{L.length<=1&&O(!1)},[L]),W.useEffect(()=>{let X=oe=>{var ie,be;s.every(Ne=>oe[Ne]||oe.code===Ne)&&(O(!0),(ie=ne.current)==null||ie.focus()),oe.code==="Escape"&&(document.activeElement===ne.current||(be=ne.current)!=null&&be.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(ne.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,q.current=!1)}},[ne.current]),W.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,oe)=>{var ie;let[be,Ne]=X.split("-");return L.length?W.createElement("ol",{key:X,dir:E==="auto"?Hw():E,tabIndex:-1,ref:ne,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":be,"data-lifted":R&&L.length>1&&!i,"data-x-position":Ne,style:{"--front-toast-height":`${((ie=C[0])==null?void 0:ie.height)||0}px`,"--width":`${sN}px`,"--gap":`${v}px`,...m,...cN(l,c)},onBlur:le=>{q.current&&!le.currentTarget.contains(le.relatedTarget)&&(q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||q.current||(q.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},L.filter(le=>!le.position&&oe===0||le.position===X).map((le,Oe)=>{var et,Ge;return W.createElement(uN,{key:le.id,icons:x,index:Oe,toast:le,defaultRichColors:h,duration:(et=_==null?void 0:_.duration)!=null?et:p,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Ge=_==null?void 0:_.closeButton)!=null?Ge:o,interacting:k,position:X,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:te,toasts:L.filter(Ee=>Ee.position==le.position),heights:C.filter(Ee=>Ee.position==le.position),setHeights:P,expandByDefault:i,gap:v,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const hN=({...t})=>{const{theme:e="system"}=jk();return w.jsx(dN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},fN=["top","right","bottom","left"],ti=Math.min,vn=Math.max,hd=Math.round,oc=Math.floor,vr=t=>({x:t,y:t}),pN={left:"right",right:"left",bottom:"top",top:"bottom"},mN={start:"end",end:"start"};function Fp(t,e,n){return vn(t,ti(e,n))}function Qr(t,e){return typeof t=="function"?t(e):t}function Yr(t){return t.split("-")[0]}function _a(t){return t.split("-")[1]}function Cg(t){return t==="x"?"y":"x"}function Ag(t){return t==="y"?"height":"width"}const gN=new Set(["top","bottom"]);function mr(t){return gN.has(Yr(t))?"y":"x"}function Rg(t){return Cg(mr(t))}function yN(t,e,n){n===void 0&&(n=!1);const r=_a(t),s=Rg(t),i=Ag(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=fd(o)),[o,fd(o)]}function vN(t){const e=fd(t);return[Up(t),e,Up(e)]}function Up(t){return t.replace(/start|end/g,e=>mN[e])}const Ww=["left","right"],qw=["right","left"],wN=["top","bottom"],_N=["bottom","top"];function EN(t,e,n){switch(t){case"top":case"bottom":return n?e?qw:Ww:e?Ww:qw;case"left":case"right":return e?wN:_N;default:return[]}}function TN(t,e,n,r){const s=_a(t);let i=EN(Yr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Up)))),i}function fd(t){return t.replace(/left|right|bottom|top/g,e=>pN[e])}function xN(t){return{top:0,right:0,bottom:0,left:0,...t}}function u1(t){return typeof t!="number"?xN(t):{top:t,right:t,bottom:t,left:t}}function pd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Kw(t,e,n){let{reference:r,floating:s}=t;const i=mr(e),o=Rg(e),a=Ag(o),l=Yr(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(_a(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const SN=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Kw(c,r,l),p=r,m={},T=0;for(let _=0;_<a.length;_++){const{name:E,fn:v}=a[_],{x:y,y:x,data:N,reset:D}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,h=x??h,m={...m,[E]:{...m[E],...N}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:h}=Kw(c,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function zl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Qr(e,t),T=u1(m),E=a[p?h==="floating"?"reference":"floating":h],v=pd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=pd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(v.top-D.top+T.top)/N.y,bottom:(D.bottom-v.bottom+T.bottom)/N.y,left:(v.left-D.left+T.left)/N.x,right:(D.right-v.right+T.right)/N.x}}const IN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Qr(t,e)||{};if(c==null)return{};const h=u1(d),p={x:n,y:r},m=Rg(s),T=Ag(m),_=await o.getDimensions(c),E=m==="y",v=E?"top":"left",y=E?"bottom":"right",x=E?"clientHeight":"clientWidth",N=i.reference[T]+i.reference[m]-p[m]-i.floating[T],D=p[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=L?L[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[x]||i.floating[T]);const S=N/2-D/2,C=I/2-_[T]/2-1,P=ti(h[v],C),R=ti(h[y],C),O=P,k=I-_[T]-R,z=I/2-_[T]/2+S,J=Fp(O,z,k),ee=!l.arrow&&_a(s)!=null&&z!==J&&i.reference[T]/2-(z<O?P:R)-_[T]/2<0,ne=ee?z<O?z-O:z-k:0;return{[m]:p[m]+ne,data:{[m]:J,centerOffset:z-J-ne,...ee&&{alignmentOffset:ne}},reset:ee}}}),bN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...E}=Qr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Yr(s),y=mr(a),x=Yr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(x||!_?[fd(a)]:vN(a)),L=T!=="none";!p&&L&&D.push(...TN(a,_,T,N));const I=[a,...D],S=await zl(e,E),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(S[v]),h){const z=yN(s,o,N);C.push(S[z[0]],S[z[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(z=>z<=0)){var R,O;const z=(((R=i.flip)==null?void 0:R.index)||0)+1,J=I[z];if(J&&(!(h==="alignment"?y!==mr(J):!1)||P.every(j=>mr(j.placement)===y?j.overflows[0]>0:!0)))return{data:{index:z,overflows:P},reset:{placement:J}};let ee=(O=P.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!ee)switch(m){case"bestFit":{var k;const ne=(k=P.filter(j=>{if(L){const U=mr(j.placement);return U===y||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:k[0];ne&&(ee=ne);break}case"initialPlacement":ee=a;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function Gw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qw(t){return fN.some(e=>t[e]>=0)}const CN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qr(t,e);switch(r){case"referenceHidden":{const i=await zl(e,{...s,elementContext:"reference"}),o=Gw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Qw(o)}}}case"escaped":{const i=await zl(e,{...s,altBoundary:!0}),o=Gw(i,n.floating);return{data:{escapedOffsets:o,escaped:Qw(o)}}}default:return{}}}}},c1=new Set(["left","top"]);async function AN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Yr(n),a=_a(n),l=mr(n)==="y",c=c1.has(o)?-1:1,d=i&&l?-1:1,h=Qr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const RN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await AN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},PN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:v,y}=E;return{x:v,y}}},...l}=Qr(t,e),c={x:n,y:r},d=await zl(e,l),h=mr(Yr(s)),p=Cg(h);let m=c[p],T=c[h];if(i){const E=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=m+d[E],x=m-d[v];m=Fp(y,m,x)}if(o){const E=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=T+d[E],x=T-d[v];T=Fp(y,T,x)}const _=a.fn({...e,[p]:m,[h]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},kN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Qr(t,e),d={x:n,y:r},h=mr(s),p=Cg(h);let m=d[p],T=d[h];const _=Qr(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const x=p==="y"?"height":"width",N=i.reference[p]-i.floating[x]+E.mainAxis,D=i.reference[p]+i.reference[x]-E.mainAxis;m<N?m=N:m>D&&(m=D)}if(c){var v,y;const x=p==="y"?"width":"height",N=c1.has(Yr(s)),D=i.reference[h]-i.floating[x]+(N&&((v=o.offset)==null?void 0:v[h])||0)+(N?0:E.crossAxis),L=i.reference[h]+i.reference[x]+(N?0:((y=o.offset)==null?void 0:y[h])||0)-(N?E.crossAxis:0);T<D?T=D:T>L&&(T=L)}return{[p]:m,[h]:T}}}},NN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Qr(t,e),d=await zl(e,c),h=Yr(s),p=_a(s),m=mr(s)==="y",{width:T,height:_}=i.floating;let E,v;h==="top"||h==="bottom"?(E=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,E=p==="end"?"top":"bottom");const y=_-d.top-d.bottom,x=T-d.left-d.right,N=ti(_-d[E],y),D=ti(T-d[v],x),L=!e.middlewareData.shift;let I=N,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),L&&!p){const P=vn(d.left,0),R=vn(d.right,0),O=vn(d.top,0),k=vn(d.bottom,0);m?S=T-2*(P!==0||R!==0?P+R:vn(d.left,d.right)):I=_-2*(O!==0||k!==0?O+k:vn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const C=await o.getDimensions(a.floating);return T!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function rh(){return typeof window<"u"}function Ea(t){return d1(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(t){var e;return(e=(d1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function d1(t){return rh()?t instanceof Node||t instanceof Tn(t).Node:!1}function tr(t){return rh()?t instanceof Element||t instanceof Tn(t).Element:!1}function br(t){return rh()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function Yw(t){return!rh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const ON=new Set(["inline","contents"]);function gu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ON.has(s)}const DN=new Set(["table","td","th"]);function LN(t){return DN.has(Ea(t))}const MN=[":popover-open",":modal"];function sh(t){return MN.some(e=>{try{return t.matches(e)}catch{return!1}})}const VN=["transform","translate","scale","rotate","perspective"],jN=["transform","translate","scale","rotate","perspective","filter"],FN=["paint","layout","strict","content"];function Pg(t){const e=kg(),n=tr(t)?nr(t):t;return VN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||jN.some(r=>(n.willChange||"").includes(r))||FN.some(r=>(n.contain||"").includes(r))}function UN(t){let e=ni(t);for(;br(e)&&!oa(e);){if(Pg(e))return e;if(sh(e))return null;e=ni(e)}return null}function kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zN=new Set(["html","body","#document"]);function oa(t){return zN.has(Ea(t))}function nr(t){return Tn(t).getComputedStyle(t)}function ih(t){return tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ni(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yw(t)&&t.host||Rr(t);return Yw(e)?e.host:e}function h1(t){const e=ni(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:br(e)&&gu(e)?e:h1(e)}function $l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=h1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Tn(s);if(i){const a=zp(o);return e.concat(o,o.visualViewport||[],gu(s)?s:[],a&&n?$l(a):[])}return e.concat(s,$l(s,[],n))}function zp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function f1(t){const e=nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=br(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=hd(n)!==i||hd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ng(t){return tr(t)?t:t.contextElement}function Fo(t){const e=Ng(t);if(!br(e))return vr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=f1(e);let o=(i?hd(n.width):n.width)/r,a=(i?hd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $N=vr(0);function p1(t){const e=Tn(t);return!kg()||!e.visualViewport?$N:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ng(t);let o=vr(1);e&&(r?tr(r)&&(o=Fo(r)):o=Fo(t));const a=BN(i,n,r)?p1(i):vr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Tn(i),m=r&&tr(r)?Tn(r):r;let T=p,_=zp(T);for(;_&&r&&m!==T;){const E=Fo(_),v=_.getBoundingClientRect(),y=nr(_),x=v.left+(_.clientLeft+parseFloat(y.paddingLeft))*E.x,N=v.top+(_.clientTop+parseFloat(y.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,h*=E.y,l+=x,c+=N,T=Tn(_),_=zp(T)}}return pd({width:d,height:h,x:l,y:c})}function oh(t,e){const n=ih(t).scrollLeft;return e?e.left+n:Ki(Rr(t)).left+n}function m1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-oh(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function HN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rr(r),a=e?sh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=vr(1);const d=vr(0),h=br(r);if((h||!h&&!i)&&((Ea(r)!=="body"||gu(o))&&(l=ih(r)),br(r))){const m=Ki(r);c=Fo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?m1(o,l):vr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function WN(t){return Array.from(t.getClientRects())}function qN(t){const e=Rr(t),n=ih(t),r=t.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+oh(t);const a=-n.scrollTop;return nr(r).direction==="rtl"&&(o+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Xw=25;function KN(t,e){const n=Tn(t),r=Rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=kg();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=oh(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,T=Math.abs(r.clientWidth-h.clientWidth-m);T<=Xw&&(i-=T)}else c<=Xw&&(i+=c);return{width:i,height:o,x:a,y:l}}const GN=new Set(["absolute","fixed"]);function QN(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=br(t)?Fo(t):vr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Jw(t,e,n){let r;if(e==="viewport")r=KN(t,n);else if(e==="document")r=qN(Rr(t));else if(tr(e))r=QN(e,n);else{const s=p1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return pd(r)}function g1(t,e){const n=ni(t);return n===e||!tr(n)||oa(n)?!1:nr(n).position==="fixed"||g1(n,e)}function YN(t,e){const n=e.get(t);if(n)return n;let r=$l(t,[],!1).filter(a=>tr(a)&&Ea(a)!=="body"),s=null;const i=nr(t).position==="fixed";let o=i?ni(t):t;for(;tr(o)&&!oa(o);){const a=nr(o),l=Pg(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&GN.has(s.position)||gu(o)&&!l&&g1(t,o))?r=r.filter(d=>d!==o):s=a,o=ni(o)}return e.set(t,r),r}function XN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?sh(e)?[]:YN(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=Jw(e,d,s);return c.top=vn(h.top,c.top),c.right=ti(h.right,c.right),c.bottom=ti(h.bottom,c.bottom),c.left=vn(h.left,c.left),c},Jw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function JN(t){const{width:e,height:n}=f1(t);return{width:e,height:n}}function ZN(t,e,n){const r=br(e),s=Rr(e),i=n==="fixed",o=Ki(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=vr(0);function c(){l.x=oh(s)}if(r||!r&&!i)if((Ea(e)!=="body"||gu(s))&&(a=ih(e)),r){const m=Ki(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?m1(s,a):vr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function If(t){return nr(t).position==="static"}function Zw(t,e){if(!br(t)||nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rr(t)===n&&(n=n.ownerDocument.body),n}function y1(t,e){const n=Tn(t);if(sh(t))return n;if(!br(t)){let s=ni(t);for(;s&&!oa(s);){if(tr(s)&&!If(s))return s;s=ni(s)}return n}let r=Zw(t,e);for(;r&&LN(r)&&If(r);)r=Zw(r,e);return r&&oa(r)&&If(r)&&!Pg(r)?n:r||UN(t)||n}const e2=async function(t){const e=this.getOffsetParent||y1,n=this.getDimensions,r=await n(t.floating);return{reference:ZN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function t2(t){return nr(t).direction==="rtl"}const n2={convertOffsetParentRelativeRectToViewportRelativeRect:HN,getDocumentElement:Rr,getClippingRect:XN,getOffsetParent:y1,getElementRects:e2,getClientRects:WN,getDimensions:JN,getScale:Fo,isElement:tr,isRTL:t2};function v1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function r2(t,e){let n=null,r;const s=Rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const T=oc(h),_=oc(s.clientWidth-(d+p)),E=oc(s.clientHeight-(h+m)),v=oc(d),x={rootMargin:-T+"px "+-_+"px "+-E+"px "+-v+"px",threshold:vn(0,ti(1,l))||1};let N=!0;function D(L){const I=L[0].intersectionRatio;if(I!==l){if(!N)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!v1(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function s2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ng(t),d=s||i?[...c?$l(c):[],...$l(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?r2(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let T,_=l?Ki(t):null;l&&E();function E(){const v=Ki(t);_&&!v1(_,v)&&n(),_=v,T=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const i2=RN,o2=PN,a2=bN,l2=NN,u2=CN,e_=IN,c2=kN,d2=(t,e,n)=>{const r=new Map,s={platform:n2,...n},i={...s.platform,_c:r};return SN(t,e,{...s,platform:i})};var h2=typeof document<"u",f2=function(){},Pc=h2?A.useLayoutEffect:f2;function md(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!md(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!md(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function w1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t_(t,e){const n=w1(t);return Math.round(e*n)/n}function bf(t){const e=A.useRef(t);return Pc(()=>{e.current=t}),e}function p2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=A.useState(r);md(p,r)||m(r);const[T,_]=A.useState(null),[E,v]=A.useState(null),y=A.useCallback(j=>{j!==L.current&&(L.current=j,_(j))},[]),x=A.useCallback(j=>{j!==I.current&&(I.current=j,v(j))},[]),N=i||T,D=o||E,L=A.useRef(null),I=A.useRef(null),S=A.useRef(d),C=l!=null,P=bf(l),R=bf(s),O=bf(c),k=A.useCallback(()=>{if(!L.current||!I.current)return;const j={placement:e,strategy:n,middleware:p};R.current&&(j.platform=R.current),d2(L.current,I.current,j).then(U=>{const q={...U,isPositioned:O.current!==!1};z.current&&!md(S.current,q)&&(S.current=q,pu.flushSync(()=>{h(q)}))})},[p,e,n,R,O]);Pc(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const z=A.useRef(!1);Pc(()=>(z.current=!0,()=>{z.current=!1}),[]),Pc(()=>{if(N&&(L.current=N),D&&(I.current=D),N&&D){if(P.current)return P.current(N,D,k);k()}},[N,D,k,P,C]);const J=A.useMemo(()=>({reference:L,floating:I,setReference:y,setFloating:x}),[y,x]),ee=A.useMemo(()=>({reference:N,floating:D}),[N,D]),ne=A.useMemo(()=>{const j={position:n,left:0,top:0};if(!ee.floating)return j;const U=t_(ee.floating,d.x),q=t_(ee.floating,d.y);return a?{...j,transform:"translate("+U+"px, "+q+"px)",...w1(ee.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,a,ee.floating,d.x,d.y]);return A.useMemo(()=>({...d,update:k,refs:J,elements:ee,floatingStyles:ne}),[d,k,J,ee,ne])}const m2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?e_({element:r.current,padding:s}).fn(n):{}:r?e_({element:r,padding:s}).fn(n):{}}}},g2=(t,e)=>({...i2(t),options:[t,e]}),y2=(t,e)=>({...o2(t),options:[t,e]}),v2=(t,e)=>({...c2(t),options:[t,e]}),w2=(t,e)=>({...a2(t),options:[t,e]}),_2=(t,e)=>({...l2(t),options:[t,e]}),E2=(t,e)=>({...u2(t),options:[t,e]}),T2=(t,e)=>({...m2(t),options:[t,e]});var x2="Arrow",_1=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return w.jsx(hn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});_1.displayName=x2;var S2=_1;function I2(t){const[e,n]=A.useState(void 0);return ei(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var E1="Popper",[T1,x1]=eh(E1),[UU,S1]=T1(E1),I1="PopperAnchor",b1=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=S1(I1,n),o=A.useRef(null),a=er(e,o),l=A.useRef(null);return A.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:w.jsx(hn.div,{...s,ref:a})});b1.displayName=I1;var Og="PopperContent",[b2,C2]=T1(Og),C1=A.forwardRef((t,e)=>{var le,Oe,et,Ge,Ee,Q;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:T,..._}=t,E=S1(Og,n),[v,y]=A.useState(null),x=er(e,me=>y(me)),[N,D]=A.useState(null),L=I2(N),I=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],O=R.length>0,k={padding:P,boundary:R.filter(R2),altBoundary:O},{refs:z,floatingStyles:J,placement:ee,isPositioned:ne,middlewareData:j}=p2({strategy:"fixed",placement:C,whileElementsMounted:(...me)=>s2(...me,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[g2({mainAxis:s+S,alignmentAxis:o}),l&&y2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?v2():void 0,...k}),l&&w2({...k}),_2({...k,apply:({elements:me,rects:Re,availableWidth:tt,availableHeight:lt})=>{const{width:bt,height:Dt}=Re.reference,Ie=me.floating.style;Ie.setProperty("--radix-popper-available-width",`${tt}px`),Ie.setProperty("--radix-popper-available-height",`${lt}px`),Ie.setProperty("--radix-popper-anchor-width",`${bt}px`),Ie.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),N&&T2({element:N,padding:a}),P2({arrowWidth:I,arrowHeight:S}),p&&E2({strategy:"referenceHidden",...k})]}),[U,q]=P1(ee),te=Zs(T);ei(()=>{ne&&(te==null||te())},[ne,te]);const X=(le=j.arrow)==null?void 0:le.x,oe=(Oe=j.arrow)==null?void 0:Oe.y,ie=((et=j.arrow)==null?void 0:et.centerOffset)!==0,[be,Ne]=A.useState();return ei(()=>{v&&Ne(window.getComputedStyle(v).zIndex)},[v]),w.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ne?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(Ge=j.transformOrigin)==null?void 0:Ge.x,(Ee=j.transformOrigin)==null?void 0:Ee.y].join(" "),...((Q=j.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(b2,{scope:n,placedSide:U,onArrowChange:D,arrowX:X,arrowY:oe,shouldHideArrow:ie,children:w.jsx(hn.div,{"data-side":U,"data-align":q,..._,ref:x,style:{..._.style,animation:ne?void 0:"none"}})})})});C1.displayName=Og;var A1="PopperArrow",A2={top:"bottom",right:"left",bottom:"top",left:"right"},R1=A.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=C2(A1,r),o=A2[i.placedSide];return w.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w.jsx(S2,{...s,ref:n,style:{...s.style,display:"block"}})})});R1.displayName=A1;function R2(t){return t!==null}var P2=t=>({name:"transformOrigin",options:t,fn(e){var E,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=P1(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let T="",_="";return c==="bottom"?(T=o?h:`${p}px`,_=`${-l}px`):c==="top"?(T=o?h:`${p}px`,_=`${r.floating.height+l}px`):c==="right"?(T=`${-l}px`,_=o?h:`${m}px`):c==="left"&&(T=`${r.floating.width+l}px`,_=o?h:`${m}px`),{data:{x:T,y:_}}}});function P1(t){const[e,n="center"]=t.split("-");return[e,n]}var k2=b1,N2=C1,O2=R1,[ah]=eh("Tooltip",[x1]),Dg=x1(),k1="TooltipProvider",D2=700,n_="tooltip.open",[L2,N1]=ah(k1),O1=t=>{const{__scopeTooltip:e,delayDuration:n=D2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=A.useRef(!0),a=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),w.jsx(L2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};O1.displayName=k1;var D1="Tooltip",[zU,lh]=ah(D1),$p="TooltipTrigger",M2=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lh($p,n),i=N1($p,n),o=Dg(n),a=A.useRef(null),l=er(e,a,s.onTriggerChange),c=A.useRef(!1),d=A.useRef(!1),h=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),w.jsx(k2,{asChild:!0,...o,children:w.jsx(hn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:dt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:dt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:dt(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:dt(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:dt(t.onBlur,s.onClose),onClick:dt(t.onClick,s.onClose)})})});M2.displayName=$p;var V2="TooltipPortal",[$U,j2]=ah(V2,{forceMount:void 0}),aa="TooltipContent",L1=A.forwardRef((t,e)=>{const n=j2(aa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=lh(aa,t.__scopeTooltip);return w.jsx(Tg,{present:r||o.open,children:o.disableHoverableContent?w.jsx(M1,{side:s,...i,ref:e}):w.jsx(F2,{side:s,...i,ref:e})})}),F2=A.forwardRef((t,e)=>{const n=lh(aa,t.__scopeTooltip),r=N1(aa,t.__scopeTooltip),s=A.useRef(null),i=er(e,s),[o,a]=A.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=A.useCallback(()=>{a(null),h(!1)},[h]),m=A.useCallback((T,_)=>{const E=T.currentTarget,v={x:T.clientX,y:T.clientY},y=H2(v,E.getBoundingClientRect()),x=W2(v,y),N=q2(_.getBoundingClientRect()),D=G2([...x,...N]);a(D),h(!0)},[h]);return A.useEffect(()=>()=>p(),[p]),A.useEffect(()=>{if(l&&d){const T=E=>m(E,d),_=E=>m(E,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",_)}}},[l,d,m,p]),A.useEffect(()=>{if(o){const T=_=>{const E=_.target,v={x:_.clientX,y:_.clientY},y=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),x=!K2(v,o);y?p():x&&(p(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,c,p]),w.jsx(M1,{...t,ref:i})}),[U2,z2]=ah(D1,{isInside:!1}),$2=GR("TooltipContent"),M1=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=lh(aa,n),c=Dg(n),{onClose:d}=l;return A.useEffect(()=>(document.addEventListener(n_,d),()=>document.removeEventListener(n_,d)),[d]),A.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),w.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:w.jsxs(N2,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx($2,{children:r}),w.jsx(U2,{scope:n,isInside:!0,children:w.jsx(wP,{id:l.contentId,role:"tooltip",children:s||r})})]})})});L1.displayName=aa;var V1="TooltipArrow",B2=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dg(n);return z2(V1,n).isInside?null:w.jsx(O2,{...s,...r,ref:e})});B2.displayName=V1;function H2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function q2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function K2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function G2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Q2(e)}function Q2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Y2=O1,j1=L1;const X2=Y2,J2=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(j1,{ref:r,sideOffset:e,className:gt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));J2.displayName=j1.displayName;var uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Z2={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},As,bm,Y0,eO=(Y0=class{constructor(){_e(this,As,Z2);_e(this,bm,!1)}setTimeoutProvider(t){ce(this,As,t)}setTimeout(t,e){return F(this,As).setTimeout(t,e)}clearTimeout(t){F(this,As).clearTimeout(t)}setInterval(t,e){return F(this,As).setInterval(t,e)}clearInterval(t){F(this,As).clearInterval(t)}},As=new WeakMap,bm=new WeakMap,Y0),Bp=new eO;function tO(t){setTimeout(t,0)}var ch=typeof window>"u"||"Deno"in globalThis;function $n(){}function nO(t,e){return typeof t=="function"?t(e):t}function rO(t){return typeof t=="number"&&t>=0&&t!==1/0}function sO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hp(t,e){return typeof t=="function"?t(e):t}function iO(t,e){return typeof t=="function"?t(e):t}function r_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Lg(o,e.options))return!1}else if(!Hl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function s_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bl(e.options.mutationKey)!==Bl(i))return!1}else if(!Hl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Lg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bl)(t)}function Bl(t){return JSON.stringify(t,(e,n)=>Wp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hl(t[n],e[n])):!1}var oO=Object.prototype.hasOwnProperty;function F1(t,e){if(t===e)return t;const n=i_(t)&&i_(e);if(!n&&!(Wp(t)&&Wp(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],h=t[d],p=e[d];if(h===p){a[d]=h,(n?c<s:oO.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[d]=p;continue}const m=F1(h,p);a[d]=m,m===h&&l++}return s===o&&l===s?t:a}function i_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wp(t){if(!o_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!o_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function o_(t){return Object.prototype.toString.call(t)==="[object Object]"}function aO(t){return new Promise(e=>{Bp.setTimeout(e,t)})}function lO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?F1(t,e):e}function uO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function cO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Mg=Symbol();function U1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Mg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ri,Rs,Wo,X0,dO=(X0=class extends uh{constructor(){super();_e(this,Ri);_e(this,Rs);_e(this,Wo);ce(this,Wo,e=>{if(!ch&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Rs)||this.setEventListener(F(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Rs))==null||e.call(this),ce(this,Rs,void 0))}setEventListener(e){var n;ce(this,Wo,e),(n=F(this,Rs))==null||n.call(this),ce(this,Rs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Ri)!==e&&(ce(this,Ri,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Ri)=="boolean"?F(this,Ri):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ri=new WeakMap,Rs=new WeakMap,Wo=new WeakMap,X0),z1=new dO;function hO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var fO=tO;function pO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=fO;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Qt=pO(),qo,Ps,Ko,J0,mO=(J0=class extends uh{constructor(){super();_e(this,qo,!0);_e(this,Ps);_e(this,Ko);ce(this,Ko,e=>{if(!ch&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ps)||this.setEventListener(F(this,Ko))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ps))==null||e.call(this),ce(this,Ps,void 0))}setEventListener(e){var n;ce(this,Ko,e),(n=F(this,Ps))==null||n.call(this),ce(this,Ps,e(this.setOnline.bind(this)))}setOnline(e){F(this,qo)!==e&&(ce(this,qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,qo)}},qo=new WeakMap,Ps=new WeakMap,Ko=new WeakMap,J0),gd=new mO;function gO(t){return Math.min(1e3*2**t,3e4)}function $1(t){return(t??"online")==="online"?gd.isOnline():!0}var qp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function B1(t){let e=!1,n=0,r;const s=hO(),i=()=>s.status!=="pending",o=_=>{var E;if(!i()){const v=new qp(_);p(v),(E=t.onCancel)==null||E.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>z1.isFocused()&&(t.networkMode==="always"||gd.isOnline())&&t.canRun(),d=()=>$1(t.networkMode)&&t.canRun(),h=_=>{i()||(r==null||r(),s.resolve(_))},p=_=>{i()||(r==null||r(),s.reject(_))},m=()=>new Promise(_=>{var E;r=v=>{(i()||c())&&_(v)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),T=()=>{if(i())return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(h).catch(v=>{var L;if(i())return;const y=t.retry??(ch?0:3),x=t.retryDelay??gO,N=typeof x=="function"?x(n,v):x,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!D){p(v);return}n++,(L=t.onFail)==null||L.call(t,n,v),aO(N).then(()=>c()?void 0:m()).then(()=>{e?p(v):T()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),s)}}var Pi,Z0,H1=(Z0=class{constructor(){_e(this,Pi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rO(this.gcTime)&&ce(this,Pi,Bp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ch?1/0:5*60*1e3))}clearGcTimeout(){F(this,Pi)&&(Bp.clearTimeout(F(this,Pi)),ce(this,Pi,void 0))}},Pi=new WeakMap,Z0),ki,Go,Rn,Ni,wt,ou,Oi,Bn,Dr,eE,yO=(eE=class extends H1{constructor(n){super();_e(this,Bn);_e(this,ki);_e(this,Go);_e(this,Rn);_e(this,Ni);_e(this,wt);_e(this,ou);_e(this,Oi);ce(this,Oi,!1),ce(this,ou,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,Ni,n.client),ce(this,Rn,F(this,Ni).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,ki,a_(this.options)),this.state=n.state??F(this,ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,wt))==null?void 0:n.promise}setOptions(n){if(this.options={...F(this,ou),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=a_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ce(this,ki,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Rn).remove(this)}setData(n,r){const s=lO(this.state.data,n,this.options);return Vt(this,Bn,Dr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vt(this,Bn,Dr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,wt))==null?void 0:s.promise;return(i=F(this,wt))==null||i.cancel(n),r?r.then($n).catch($n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ki))}isActive(){return this.observers.some(n=>iO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Hp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!sO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,Rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,wt)&&(F(this,Oi)?F(this,wt).cancel({revert:!0}):F(this,wt).cancelRetry()),this.scheduleGc()),F(this,Rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,Bn,Dr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,h,p,m,T,_,E,v,y,x,N;if(this.state.fetchStatus!=="idle"&&((c=F(this,wt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,wt))return F(this,wt).continueRetry(),F(this,wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(L=>L.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,i=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(ce(this,Oi,!0),s.signal)})},o=()=>{const D=U1(this.options,r),I=(()=>{const S={client:F(this,Ni),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return ce(this,Oi,!1),this.options.persister?this.options.persister(D,I,this):D(I)},l=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ni),state:this.state,fetchFn:o};return i(D),D})();(d=this.options.behavior)==null||d.onFetch(l,this),ce(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Vt(this,Bn,Dr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),ce(this,wt,B1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:D=>{D instanceof qp&&D.revert&&this.setState({...F(this,Go),fetchStatus:"idle"}),s.abort()},onFail:(D,L)=>{Vt(this,Bn,Dr).call(this,{type:"failed",failureCount:D,error:L})},onPause:()=>{Vt(this,Bn,Dr).call(this,{type:"pause"})},onContinue:()=>{Vt(this,Bn,Dr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const D=await F(this,wt).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(T=(m=F(this,Rn).config).onSuccess)==null||T.call(m,D,this),(E=(_=F(this,Rn).config).onSettled)==null||E.call(_,D,this.state.error,this),D}catch(D){if(D instanceof qp){if(D.silent)return F(this,wt).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw Vt(this,Bn,Dr).call(this,{type:"error",error:D}),(y=(v=F(this,Rn).config).onError)==null||y.call(v,D,this),(N=(x=F(this,Rn).config).onSettled)==null||N.call(x,this.state.data,D,this),D}finally{this.scheduleGc()}}},ki=new WeakMap,Go=new WeakMap,Rn=new WeakMap,Ni=new WeakMap,wt=new WeakMap,ou=new WeakMap,Oi=new WeakMap,Bn=new WeakSet,Dr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...vO(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ce(this,Go,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Rn).notify({query:this,type:"updated",action:n})})},eE);function vO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function a_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function l_(t){return{onFetch:(e,n)=>{var d,h,p,m,T;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},v=U1(e.options,e.fetchOptions),y=async(x,N,D)=>{if(_)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return E(R),R})(),S=await v(I),{maxPages:C}=e.options,P=D?cO:uO;return{pages:P(x.pages,S,C),pageParams:P(x.pageParams,N,C)}};if(s&&i.length){const x=s==="backward",N=x?wO:u_,D={pages:i,pageParams:o},L=N(r,D);a=await y(D,L,x)}else{const x=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:u_(r,a);if(l>0&&N==null)break;a=await y(a,N),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function u_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var au,dr,Kt,Di,hr,vs,tE,_O=(tE=class extends H1{constructor(n){super();_e(this,hr);_e(this,au);_e(this,dr);_e(this,Kt);_e(this,Di);ce(this,au,n.client),this.mutationId=n.mutationId,ce(this,Kt,n.mutationCache),ce(this,dr,[]),this.state=n.state||EO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,dr).includes(n)||(F(this,dr).push(n),this.clearGcTimeout(),F(this,Kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,dr,F(this,dr).filter(r=>r!==n)),this.scheduleGc(),F(this,Kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,dr).length||(this.state.status==="pending"?this.scheduleGc():F(this,Kt).remove(this))}continue(){var n;return((n=F(this,Di))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,h,p,m,T,_,E,v,y,x,N,D,L,I,S,C,P;const r=()=>{Vt(this,hr,vs).call(this,{type:"continue"})},s={client:F(this,au),meta:this.options.meta,mutationKey:this.options.mutationKey};ce(this,Di,B1({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{Vt(this,hr,vs).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Vt(this,hr,vs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Kt).canRun(this)}));const i=this.state.status==="pending",o=!F(this,Di).canStart();try{if(i)r();else{Vt(this,hr,vs).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=F(this,Kt).config).onMutate)==null?void 0:l.call(a,n,this,s));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));O!==this.state.context&&Vt(this,hr,vs).call(this,{type:"pending",context:O,variables:n,isPaused:o})}const R=await F(this,Di).start();return await((p=(h=F(this,Kt).config).onSuccess)==null?void 0:p.call(h,R,n,this.state.context,this,s)),await((T=(m=this.options).onSuccess)==null?void 0:T.call(m,R,n,this.state.context,s)),await((E=(_=F(this,Kt).config).onSettled)==null?void 0:E.call(_,R,null,this.state.variables,this.state.context,this,s)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,R,null,n,this.state.context,s)),Vt(this,hr,vs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((N=(x=F(this,Kt).config).onError)==null?void 0:N.call(x,R,n,this.state.context,this,s)),await((L=(D=this.options).onError)==null?void 0:L.call(D,R,n,this.state.context,s)),await((S=(I=F(this,Kt).config).onSettled)==null?void 0:S.call(I,void 0,R,this.state.variables,this.state.context,this,s)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,R,n,this.state.context,s)),R}finally{Vt(this,hr,vs).call(this,{type:"error",error:R})}}finally{F(this,Kt).runNext(this)}}},au=new WeakMap,dr=new WeakMap,Kt=new WeakMap,Di=new WeakMap,hr=new WeakSet,vs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qt.batch(()=>{F(this,dr).forEach(s=>{s.onMutationUpdate(n)}),F(this,Kt).notify({mutation:this,type:"updated",action:n})})},tE);function EO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vr,Hn,lu,nE,TO=(nE=class extends uh{constructor(e={}){super();_e(this,Vr);_e(this,Hn);_e(this,lu);this.config=e,ce(this,Vr,new Set),ce(this,Hn,new Map),ce(this,lu,0)}build(e,n,r){const s=new _O({client:e,mutationCache:this,mutationId:++Fu(this,lu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,Vr).add(e);const n=ac(e);if(typeof n=="string"){const r=F(this,Hn).get(n);r?r.push(e):F(this,Hn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,Vr).delete(e)){const n=ac(e);if(typeof n=="string"){const r=F(this,Hn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,Hn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ac(e);if(typeof n=="string"){const r=F(this,Hn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ac(e);if(typeof n=="string"){const s=(r=F(this,Hn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qt.batch(()=>{F(this,Vr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,Vr).clear(),F(this,Hn).clear()})}getAll(){return Array.from(F(this,Vr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>s_(n,r))}findAll(e={}){return this.getAll().filter(n=>s_(e,n))}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qt.batch(()=>Promise.all(e.map(n=>n.continue().catch($n))))}},Vr=new WeakMap,Hn=new WeakMap,lu=new WeakMap,nE);function ac(t){var e;return(e=t.options.scope)==null?void 0:e.id}var fr,rE,xO=(rE=class extends uh{constructor(e={}){super();_e(this,fr);this.config=e,ce(this,fr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Lg(s,n);let o=this.get(i);return o||(o=new yO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,fr).has(e.queryHash)||(F(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,fr).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,fr).get(e)}getAll(){return[...F(this,fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>r_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>r_(e,r)):n}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,rE),Xe,ks,Ns,Qo,Yo,Os,Xo,Jo,sE,SO=(sE=class{constructor(t={}){_e(this,Xe);_e(this,ks);_e(this,Ns);_e(this,Qo);_e(this,Yo);_e(this,Os);_e(this,Xo);_e(this,Jo);ce(this,Xe,t.queryCache||new xO),ce(this,ks,t.mutationCache||new TO),ce(this,Ns,t.defaultOptions||{}),ce(this,Qo,new Map),ce(this,Yo,new Map),ce(this,Os,0)}mount(){Fu(this,Os)._++,F(this,Os)===1&&(ce(this,Xo,z1.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Xe).onFocus())})),ce(this,Jo,gd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Xe).onOnline())})))}unmount(){var t,e;Fu(this,Os)._--,F(this,Os)===0&&((t=F(this,Xo))==null||t.call(this),ce(this,Xo,void 0),(e=F(this,Jo))==null||e.call(this),ce(this,Jo,void 0))}isFetching(t){return F(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ks).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=nO(e,i);if(o!==void 0)return F(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qt.batch(()=>F(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Xe);Qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Xe);return Qt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Qt.batch(()=>F(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then($n).catch($n)}invalidateQueries(t,e={}){return Qt.batch(()=>(F(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Qt.batch(()=>F(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch($n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($n)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Xe).build(this,e);return n.isStaleByTime(Hp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($n).catch($n)}fetchInfiniteQuery(t){return t.behavior=l_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($n).catch($n)}ensureInfiniteQueryData(t){return t.behavior=l_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gd.isOnline()?F(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Xe)}getMutationCache(){return F(this,ks)}getDefaultOptions(){return F(this,Ns)}setDefaultOptions(t){ce(this,Ns,t)}setQueryDefaults(t,e){F(this,Qo).set(Bl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Qo).values()],n={};return e.forEach(r=>{Hl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Yo).set(Bl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Yo).values()],n={};return e.forEach(r=>{Hl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Xe).clear(),F(this,ks).clear()}},Xe=new WeakMap,ks=new WeakMap,Ns=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,Os=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,sE),IO=A.createContext(void 0),bO=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(IO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const c_="popstate";function CO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Kp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yd(s)}return RO(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function W1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AO(){return Math.random().toString(36).substr(2,8)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function Kp(t,e,n,r){return n===void 0&&(n=null),Wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||AO()})}function yd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ms.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Wl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ms.Pop;let E=d(),v=E==null?null:E-c;c=E,l&&l({action:a,location:_.location,delta:v})}function p(E,v){a=Ms.Push;let y=Kp(_.location,E,v);c=d()+1;let x=d_(y,c),N=_.createHref(y);try{o.pushState(x,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&l&&l({action:a,location:_.location,delta:1})}function m(E,v){a=Ms.Replace;let y=Kp(_.location,E,v);c=d();let x=d_(y,c),N=_.createHref(y);o.replaceState(x,"",N),i&&l&&l({action:a,location:_.location,delta:0})}function T(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:yd(E);return y=y.replace(/ $/,"%20"),at(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(c_,h),l=E,()=>{s.removeEventListener(c_,h),l=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let v=T(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(E){return o.go(E)}};return _}var h_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h_||(h_={}));function PO(t,e,n){return n===void 0&&(n="/"),kO(t,e,n)}function kO(t,e,n,r){let s=typeof e=="string"?Ta(e):e,i=Vg(s.pathname||"/",n);if(i==null)return null;let o=q1(t);NO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=HO(i);a=zO(o[l],c)}return a}function q1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q1(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:FO(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of K1(i.path))s(i,o,l)}),e}function K1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=K1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function NO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OO=/^:[\w-]+$/,DO=3,LO=2,MO=1,VO=10,jO=-2,f_=t=>t==="*";function FO(t,e){let n=t.split("/"),r=n.length;return n.some(f_)&&(r+=jO),e&&(r+=LO),n.filter(s=>!f_(s)).reduce((s,i)=>s+(OO.test(i)?DO:i===""?MO:VO),r)}function UO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function zO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=$O({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:qs([i,h.pathname]),pathnameBase:GO(qs([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=qs([i,h.pathnameBase]))}return o}function $O(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?c[p]=void 0:c[p]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function BO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),W1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function HO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return W1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:qO(n,e):e,search:QO(r),hash:YO(s)}}function qO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G1(t,e){let n=KO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ta(t):(s=Wl({},t),at(!s.pathname||!s.pathname.includes("?"),Cf("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Cf("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Cf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=WO(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),GO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Y1=["post","put","patch","delete"];new Set(Y1);const JO=["get",...Y1];new Set(JO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}const jg=A.createContext(null),ZO=A.createContext(null),ro=A.createContext(null),dh=A.createContext(null),fi=A.createContext({outlet:null,matches:[],isDataRoute:!1}),X1=A.createContext(null);function eD(t,e){let{relative:n}=e===void 0?{}:e;yu()||at(!1);let{basename:r,navigator:s}=A.useContext(ro),{hash:i,pathname:o,search:a}=eS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function yu(){return A.useContext(dh)!=null}function vu(){return yu()||at(!1),A.useContext(dh).location}function J1(t){A.useContext(ro).static||A.useLayoutEffect(t)}function tD(){let{isDataRoute:t}=A.useContext(fi);return t?pD():nD()}function nD(){yu()||at(!1);let t=A.useContext(jg),{basename:e,future:n,navigator:r}=A.useContext(ro),{matches:s}=A.useContext(fi),{pathname:i}=vu(),o=JSON.stringify(G1(s,n.v7_relativeSplatPath)),a=A.useRef(!1);return J1(()=>{a.current=!0}),A.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Q1(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function Z1(){let{matches:t}=A.useContext(fi),e=t[t.length-1];return e?e.params:{}}function eS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(ro),{matches:s}=A.useContext(fi),{pathname:i}=vu(),o=JSON.stringify(G1(s,r.v7_relativeSplatPath));return A.useMemo(()=>Q1(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function rD(t,e){return sD(t,e)}function sD(t,e,n,r){yu()||at(!1);let{navigator:s}=A.useContext(ro),{matches:i}=A.useContext(fi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vu(),d;if(e){var h;let E=typeof e=="string"?Ta(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||at(!1),d=E}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=PO(t,{pathname:m}),_=uD(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:qs([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:qs([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?A.createElement(dh.Provider,{value:{location:ql({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ms.Pop}},_):_}function iD(){let t=fD(),e=XO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const oD=A.createElement(iD,null);class aD extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(fi.Provider,{value:this.props.routeContext},A.createElement(X1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lD(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(jg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(fi.Provider,{value:e},r)}function uD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,T=!1,_=null,E=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||oD,l&&(c<0&&p===0?(mD("route-fallback"),T=!0,E=null):c===p&&(T=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let x;return m?x=_:T?x=E:h.route.Component?x=A.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,A.createElement(lD,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(aD,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var tS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tS||{}),nS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nS||{});function cD(t){let e=A.useContext(jg);return e||at(!1),e}function dD(t){let e=A.useContext(ZO);return e||at(!1),e}function hD(t){let e=A.useContext(fi);return e||at(!1),e}function rS(t){let e=hD(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function fD(){var t;let e=A.useContext(X1),n=dD(),r=rS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pD(){let{router:t}=cD(tS.UseNavigateStable),e=rS(nS.UseNavigateStable),n=A.useRef(!1);return J1(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ql({fromRouteId:e},i)))},[t,e])}const p_={};function mD(t,e,n){p_[t]||(p_[t]=!0)}function gD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ws(t){at(!1)}function yD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ms.Pop,navigator:i,static:o=!1,future:a}=t;yu()&&at(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:o,future:ql({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ta(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:T="default"}=r,_=A.useMemo(()=>{let E=Vg(d,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:T},navigationType:s}},[l,d,h,p,m,T,s]);return _==null?null:A.createElement(ro.Provider,{value:c},A.createElement(dh.Provider,{children:n,value:_}))}function vD(t){let{children:e,location:n}=t;return rD(Gp(e),n)}new Promise(()=>{});function Gp(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,Gp(r.props.children,i));return}r.type!==ws&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function wD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _D(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ED(t,e){return t.button===0&&(!e||e==="_self")&&!_D(t)}const TD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xD="6";try{window.__reactRouterVersion=xD}catch{}const SD="startTransition",m_=gE[SD];function ID(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=CO({window:s,v5Compat:!0}));let o=i.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=A.useCallback(h=>{c&&m_?m_(()=>l(h)):l(h)},[l,c]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>gD(r),[r]),A.createElement(yD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=wD(e,TD),{basename:m}=A.useContext(ro),T,_=!1;if(typeof c=="string"&&CD.test(c)&&(T=c,bD))try{let x=new URL(window.location.href),N=c.startsWith("//")?new URL(x.protocol+c):new URL(c),D=Vg(N.pathname,m);N.origin===x.origin&&D!=null?c=D+N.search+N.hash:_=!0}catch{}let E=eD(c,{relative:s}),v=AD(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(x){r&&r(x),x.defaultPrevented||v(x)}return A.createElement("a",Qp({},p,{href:T||E,onClick:_||i?r:y,ref:n,target:l}))});var g_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g_||(g_={}));var y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y_||(y_={}));function AD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=tD(),c=vu(),d=eS(t,{relative:o});return A.useCallback(h=>{if(ED(h,n)){h.preventDefault();let p=r!==void 0?r:yd(c)===yd(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const xa=()=>{const[t,e]=A.useState(!1);return w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"flex items-center justify-between h-20",children:[w.jsx("div",{className:"flex items-center",children:w.jsxs(Ze,{to:"/",className:"inline-flex items-center gap-2",children:[w.jsx("img",{src:"/threadedCharm/logo.png",alt:"Threaded Charm",className:"h-10 w-auto"}),w.jsxs("span",{className:"text-xl md:text-2xl font-heading font-bold text-foreground",children:["Threaded ",w.jsx("span",{className:"text-primary",children:"Charm"})]})]})}),w.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[w.jsx(Ze,{to:"/",className:"text-foreground hover:text-primary transition-colors",children:"Home"}),w.jsx(Ze,{to:"/about",className:"text-foreground hover:text-primary transition-colors",children:"About"}),w.jsx(Ze,{to:"/products",className:"text-foreground hover:text-primary transition-colors",children:"Products"}),w.jsx(Ze,{to:"/contact",className:"text-foreground hover:text-primary transition-colors",children:"Contact"})]}),w.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-foreground",children:t?w.jsx(Jx,{size:24}):w.jsx(QP,{size:24})})]}),t&&w.jsxs("div",{className:"md:hidden pb-4 space-y-4",children:[w.jsx(Ze,{to:"/",className:"block text-foreground hover:text-primary",children:"Home"}),w.jsx(Ze,{to:"/about",className:"block text-foreground hover:text-primary",children:"About"}),w.jsx(Ze,{to:"/products",className:"block text-foreground hover:text-primary",children:"Products"}),w.jsx(Ze,{to:"/contact",className:"block text-foreground hover:text-primary",children:"Contact"})]})]})})},RD=Qx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ht=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?qR:"button";return w.jsx(o,{className:gt(RD({variant:e,size:n,className:t})),ref:i,...s})});ht.displayName="Button";function PD(t){return Object.prototype.toString.call(t)==="[object Object]"}function v_(t){return PD(t)||Array.isArray(t)}function kD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Fg(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!v_(a)||!v_(l)?a===l:Fg(a,l)})}function w_(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function ND(t,e){if(t.length!==e.length)return!1;const n=w_(t),r=w_(e);return n.every((s,i)=>{const o=r[i];return Fg(s,o)})}function Ug(t){return typeof t=="number"}function Yp(t){return typeof t=="string"}function hh(t){return typeof t=="boolean"}function __(t){return Object.prototype.toString.call(t)==="[object Object]"}function He(t){return Math.abs(t)}function zg(t){return Math.sign(t)}function yl(t,e){return He(t-e)}function OD(t,e){if(t===0||e===0||He(t)<=He(e))return 0;const n=yl(He(t),He(e));return He(n/t)}function DD(t){return Math.round(t*100)/100}function Kl(t){return Gl(t).map(Number)}function Jn(t){return t[wu(t)]}function wu(t){return Math.max(0,t.length-1)}function $g(t,e){return e===wu(t)}function E_(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Gl(t){return Object.keys(t)}function sS(t,e){return[t,e].reduce((n,r)=>(Gl(r).forEach(s=>{const i=n[s],o=r[s],a=__(i)&&__(o);n[s]=a?sS(i,o):o}),n),{})}function Xp(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function LD(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return Yp(t)?n[t](l):t(e,l,c)}return{measure:o}}function Ql(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function MD(t,e,n,r){const s=Ql(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&T()})}function d(){m(),s.clear()}function h(E){if(!l)return;o||(o=E,n(),n());const v=E-o;for(o=E,a+=v;a>=i;)n(),a-=i;const y=a/i;r(y),l&&(l=e.requestAnimationFrame(h))}function p(){l||(l=e.requestAnimationFrame(h))}function m(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function T(){o=null,a=0}return{init:c,destroy:d,start:p,stop:m,update:n,render:r}}function VD(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=h();function c(T){const{height:_,width:E}=T;return r?_:E}function d(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function p(T){return T*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Gi(t=0,e=0){const n=He(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function iS(t,e,n){const{constrain:r}=Gi(0,t),s=t+1;let i=o(e);function o(p){return n?He((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),h}function c(p){return d().set(a()+p)}function d(){return iS(t,a(),n)}const h={get:a,set:l,add:c,clone:d};return h}function jD(t,e,n,r,s,i,o,a,l,c,d,h,p,m,T,_,E,v,y){const{cross:x,direction:N}=t,D=["INPUT","SELECT","TEXTAREA"],L={passive:!1},I=Ql(),S=Ql(),C=Gi(50,225).constrain(m.measure(20)),P={mouse:300,touch:400},R={mouse:500,touch:600},O=T?43:25;let k=!1,z=0,J=0,ee=!1,ne=!1,j=!1,U=!1;function q(Q){if(!y)return;function me(tt){(hh(y)||y(Q,tt))&&Ne(tt)}const Re=e;I.add(Re,"dragstart",tt=>tt.preventDefault(),L).add(Re,"touchmove",()=>{},L).add(Re,"touchend",()=>{}).add(Re,"touchstart",me).add(Re,"mousedown",me).add(Re,"touchcancel",Oe).add(Re,"contextmenu",Oe).add(Re,"click",et,!0)}function te(){I.clear(),S.clear()}function X(){const Q=U?n:e;S.add(Q,"touchmove",le,L).add(Q,"touchend",Oe).add(Q,"mousemove",le,L).add(Q,"mouseup",Oe)}function oe(Q){const me=Q.nodeName||"";return D.includes(me)}function ie(){return(T?R:P)[U?"mouse":"touch"]}function be(Q,me){const Re=h.add(zg(Q)*-1),tt=d.byDistance(Q,!T).distance;return T||He(Q)<C?tt:E&&me?tt*.5:d.byIndex(Re.get(),0).distance}function Ne(Q){const me=Xp(Q,r);U=me,j=T&&me&&!Q.buttons&&k,k=yl(s.get(),o.get())>=2,!(me&&Q.button!==0)&&(oe(Q.target)||(ee=!0,i.pointerDown(Q),c.useFriction(0).useDuration(0),s.set(o),X(),z=i.readPoint(Q),J=i.readPoint(Q,x),p.emit("pointerDown")))}function le(Q){if(!Xp(Q,r)&&Q.touches.length>=2)return Oe(Q);const Re=i.readPoint(Q),tt=i.readPoint(Q,x),lt=yl(Re,z),bt=yl(tt,J);if(!ne&&!U&&(!Q.cancelable||(ne=lt>bt,!ne)))return Oe(Q);const Dt=i.pointerMove(Q);lt>_&&(j=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(N(Dt)),Q.preventDefault()}function Oe(Q){const Re=d.byDistance(0,!1).index!==h.get(),tt=i.pointerUp(Q)*ie(),lt=be(N(tt),Re),bt=OD(tt,lt),Dt=O-10*bt,Ie=v+bt/50;ne=!1,ee=!1,S.clear(),c.useDuration(Dt).useFriction(Ie),l.distance(lt,!T),U=!1,p.emit("pointerUp")}function et(Q){j&&(Q.stopPropagation(),Q.preventDefault(),j=!1)}function Ge(){return ee}return{init:q,destroy:te,pointerDown:Ge}}function FD(t,e){let r,s;function i(h){return h.timeStamp}function o(h,p){const T=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(Xp(h,e)?h:h.touches[0])[T]}function a(h){return r=h,s=h,o(h)}function l(h){const p=o(h)-o(s),m=i(h)-i(r)>170;return s=h,m&&(r=h),p}function c(h){if(!r||!s)return 0;const p=o(s)-o(r),m=i(h)-i(r),T=i(h)-i(s)>170,_=p/m;return m&&!T&&He(_)>.1?_:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function UD(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function zD(t){function e(r){return t*(r/100)}return{measure:e}}function $D(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],h=!1;function p(E){return s.measureSize(o.measure(E))}function m(E){if(!i)return;c=p(t),d=r.map(p);function v(y){for(const x of y){if(h)return;const N=x.target===t,D=r.indexOf(x.target),L=N?c:d[D],I=p(N?t:r[D]);if(He(I-L)>=.5){E.reInit(),e.emit("resize");break}}}l=new ResizeObserver(y=>{(hh(i)||i(E,y))&&v(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>l.observe(y))})}function T(){h=!0,l&&l.disconnect()}return{init:m,destroy:T}}function BD(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),h=0;function p(){const L=r.get()-t.get(),I=!l;let S=0;return I?(o=0,n.set(r),t.set(r),S=L):(n.set(t),o+=L/l,o*=c,d+=o,t.add(o),S=d-h),a=zg(S),h=d,D}function m(){const L=r.get()-e.get();return He(L)<.001}function T(){return l}function _(){return a}function E(){return o}function v(){return x(s)}function y(){return N(i)}function x(L){return l=L,D}function N(L){return c=L,D}const D={direction:_,duration:T,velocity:E,seek:p,settled:m,useBaseFriction:y,useBaseDuration:v,useFriction:N,useDuration:x};return D}function HD(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=Gi(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(m){if(!c())return;const T=t.reachedMin(e.get())?"min":"max",_=He(t[T]-e.get()),E=n.get()-e.get(),v=a.constrain(_/o);n.subtract(E*v),!m&&He(E)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(m){l=!m}return{shouldConstrain:c,constrain:d,toggleActive:h}}function WD(t,e,n,r,s){const i=Gi(-e+t,0),o=h(),a=d(),l=p();function c(T,_){return yl(T,_)<=1}function d(){const T=o[0],_=Jn(o),E=o.lastIndexOf(T),v=o.indexOf(_)+1;return Gi(E,v)}function h(){return n.map((T,_)=>{const{min:E,max:v}=i,y=i.constrain(T),x=!_,N=$g(n,_);return x?v:N||c(E,y)?E:c(v,y)?v:y}).map(T=>parseFloat(T.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:T,max:_}=a;return o.slice(T,_)}return{snapsContained:l,scrollContainLimit:a}}function qD(t,e,n){const r=e[0],s=n?r-t:Jn(e);return{limit:Gi(s,r)}}function KD(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Gi(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const m=t*(p*-1);r.forEach(T=>T.add(m))}return{loop:d}}function GD(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function QD(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=h().map(e.measure),c=p(),d=m();function h(){return a(r).map(_=>Jn(_)[o]-_[0][i]).map(He)}function p(){return r.map(_=>n[i]-_[i]).map(_=>-He(_))}function m(){return a(c).map(_=>_[0]).map((_,E)=>_+l[E])}return{snaps:c,snapsAligned:d}}function YD(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const p=o(i),m=!t||e==="keepSnaps";return n.length===1?[i]:m?p:p.slice(a,l).map((T,_,E)=>{const v=!_,y=$g(E,_);if(v){const x=Jn(E[0])+1;return E_(x)}if(y){const x=wu(i)-Jn(E)[0]+1;return E_(x,Jn(E)[0])}return T})}return{slideRegistry:c}}function XD(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(T){return T.concat().sort((_,E)=>He(_)-He(E))[0]}function c(T){const _=t?o(T):a(T),E=e.map((y,x)=>({diff:d(y-_,0),index:x})).sort((y,x)=>He(y.diff)-He(x.diff)),{index:v}=E[0];return{index:v,distance:_}}function d(T,_){const E=[T,T+n,T-n];if(!t)return T;if(!_)return l(E);const v=E.filter(y=>zg(y)===_);return v.length?l(v):Jn(E)-n}function h(T,_){const E=e[T]-s.get(),v=d(E,_);return{index:T,distance:v}}function p(T,_){const E=s.get()+T,{index:v,distance:y}=c(E),x=!t&&i(E);if(!_||x)return{index:v,distance:T};const N=e[v]-y,D=T+d(N,0);return{index:v,distance:D}}return{byDistance:p,byIndex:h,shortcut:d}}function JD(t,e,n,r,s,i,o){function a(h){const p=h.distance,m=h.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function l(h,p){const m=s.byDistance(h,p);a(m)}function c(h,p){const m=e.clone().set(h),T=s.byIndex(m.get(),p);a(T)}return{distance:l,index:c}}function ZD(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(m){if(!a)return;function T(_){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const y=n.findIndex(x=>x.includes(_));Ug(y)&&(s.useDuration(0),r.index(y,0),o.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((_,E)=>{i.add(_,"focus",v=>{(hh(a)||a(m,v))&&T(E)},l)})}function h(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function nl(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return Ug(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function oS(t,e){const n=t.scroll==="x"?o:a,r=e.style;let s=null,i=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function a(p){return`translate3d(0px,${p}px,0px)`}function l(p){if(i)return;const m=DD(t.direction(p));m!==s&&(r.transform=n(m),s=m)}function c(p){i=!p}function d(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function eL(t,e,n,r,s,i,o,a,l){const d=Kl(s),h=Kl(s).reverse(),p=v().concat(y());function m(I,S){return I.reduce((C,P)=>C-s[P],S)}function T(I,S){return I.reduce((C,P)=>m(C,S)>0?C.concat([P]):C,[])}function _(I){return i.map((S,C)=>({start:S-r[C]+.5+I,end:S+e-.5+I}))}function E(I,S,C){const P=_(S);return I.map(R=>{const O=C?0:-n,k=C?n:0,z=C?"end":"start",J=P[R][z];return{index:R,loopPoint:J,slideLocation:nl(-1),translate:oS(t,l[R]),target:()=>a.get()>J?O:k}})}function v(){const I=o[0],S=T(h,I);return E(S,n,!1)}function y(){const I=e-o[0]-1,S=T(d,I);return E(S,-n,!0)}function x(){return p.every(({index:I})=>{const S=d.filter(C=>C!==I);return m(S,e)<=.1})}function N(){p.forEach(I=>{const{target:S,translate:C,slideLocation:P}=I,R=S();R!==P.get()&&(C.to(R),P.set(R))})}function D(){p.forEach(I=>I.translate.clear())}return{canLoop:x,clear:D,loop:N,loopPoints:p}}function tL(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const h of d)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(hh(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function nL(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(T=>{l||(T.forEach(_=>{const E=e.indexOf(_.target);s[E]=_}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(T=>a.observe(T))}function d(){a&&a.disconnect(),l=!0}function h(T){return Gl(s).reduce((_,E)=>{const v=parseInt(E),{isIntersecting:y}=s[v];return(T&&y||!T&&!y)&&_.push(v),_},[])}function p(T=!0){if(T&&i)return i;if(!T&&o)return o;const _=h(T);return T&&(i=_),T||(o=_),_}return{init:c,destroy:d,get:p}}function rL(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=T(),h=_(),p=n.map(o),m=E();function T(){if(!c)return 0;const y=n[0];return He(e[a]-y[a])}function _(){if(!c)return 0;const y=i.getComputedStyle(Jn(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function E(){return n.map((y,x,N)=>{const D=!x,L=$g(N,x);return D?p[x]+d:L?p[x]+h:N[x+1][a]-y[a]}).map(He)}return{slideSizes:p,slideSizesWithGaps:m,startGap:d,endGap:h}}function sL(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:h}=t,p=Ug(n);function m(v,y){return Kl(v).filter(x=>x%y===0).map(x=>v.slice(x,x+y))}function T(v){return v.length?Kl(v).reduce((y,x,N)=>{const D=Jn(y)||0,L=D===0,I=x===wu(v),S=s[c]-i[D][c],C=s[c]-i[x][d],P=!r&&L?h(o):0,R=!r&&I?h(a):0,O=He(C-R-(S+P));return N&&O>e+l&&y.push(x),I&&y.push(v.length),y},[]).map((y,x,N)=>{const D=Math.max(N[x-1]||0);return v.slice(D,y)}):[]}function _(v){return p?m(v,n):T(v)}return{groupSlides:_}}function iL(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:h,duration:p,dragFree:m,dragThreshold:T,inViewThreshold:_,slidesToScroll:E,skipSnaps:v,containScroll:y,watchResize:x,watchSlides:N,watchDrag:D,watchFocus:L}=i,I=2,S=UD(),C=S.measure(e),P=n.map(S.measure),R=VD(l,c),O=R.measureSize(C),k=zD(O),z=LD(a,O),J=!h&&!!y,ee=h||!!y,{slideSizes:ne,slideSizesWithGaps:j,startGap:U,endGap:q}=rL(R,C,P,n,ee,s),te=sL(R,O,E,h,C,P,U,q,I),{snaps:X,snapsAligned:oe}=QD(R,z,C,P,te),ie=-Jn(X)+Jn(j),{snapsContained:be,scrollContainLimit:Ne}=WD(O,ie,oe,y,I),le=J?be:oe,{limit:Oe}=qD(ie,le,h),et=iS(wu(le),d,h),Ge=et.clone(),Ee=Kl(n),Q=({dragHandler:pn,scrollBody:ss,scrollBounds:kr,options:{loop:en}})=>{en||kr.constrain(pn.pointerDown()),ss.seek()},me=({scrollBody:pn,translate:ss,location:kr,offsetLocation:en,previousLocation:Cn,scrollLooper:is,slideLooper:Mt,dragHandler:co,animation:os,eventHandler:as,scrollBounds:sr,options:{loop:yi}},Qe)=>{const tn=pn.settled(),Nr=!sr.shouldConstrain(),se=yi?tn:tn&&Nr,xe=se&&!co.pointerDown();xe&&os.stop();const Pe=kr.get()*Qe+Cn.get()*(1-Qe);en.set(Pe),yi&&(is.loop(pn.direction()),Mt.loop()),ss.to(en.get()),xe&&as.emit("settle"),se||as.emit("scroll")},Re=MD(r,s,()=>Q(gi),pn=>me(gi,pn)),tt=.68,lt=le[et.get()],bt=nl(lt),Dt=nl(lt),Ie=nl(lt),De=nl(lt),Lt=BD(bt,Ie,Dt,De,p,tt),rs=XD(h,le,ie,Oe,De),Zt=JD(Re,et,Ge,Lt,rs,De,o),uo=GD(Oe),rr=Ql(),Ct=nL(e,n,o,_),{slideRegistry:bn}=YD(J,y,le,Ne,te,Ee),mi=ZD(t,n,bn,Zt,Lt,rr,o,L),gi={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:C,slideRects:P,animation:Re,axis:R,dragHandler:jD(R,t,r,s,De,FD(R,s),bt,Re,Zt,Lt,rs,et,o,k,m,T,v,tt,D),eventStore:rr,percentOfView:k,index:et,indexPrevious:Ge,limit:Oe,location:bt,offsetLocation:Ie,previousLocation:Dt,options:i,resizeHandler:$D(e,o,s,n,R,x,S),scrollBody:Lt,scrollBounds:HD(Oe,Ie,De,Lt,k),scrollLooper:KD(ie,Oe,Ie,[bt,Ie,Dt,De]),scrollProgress:uo,scrollSnapList:le.map(uo.get),scrollSnaps:le,scrollTarget:rs,scrollTo:Zt,slideLooper:eL(R,O,ie,ne,j,X,le,Ie,n),slideFocus:mi,slidesHandler:tL(e,o,N),slidesInView:Ct,slideIndexes:Ee,slideRegistry:bn,slidesToScroll:te,target:De,translate:oS(R,e)};return gi}function oL(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(h=>h!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const aL={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function lL(t){function e(i,o){return sS(i,o||{})}function n(i){const o=i.breakpoints||{},a=Gl(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>Gl(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function uL(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function vd(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=lL(s),o=uL(i),a=Ql(),l=oL(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:p,off:m,emit:T}=l,_=R;let E=!1,v,y=c(aL,vd.globalOptions),x=c(y),N=[],D,L,I;function S(){const{container:Ee,slides:Q}=x;L=(Yp(Ee)?t.querySelector(Ee):Ee)||t.children[0];const Re=Yp(Q)?L.querySelectorAll(Q):Q;I=[].slice.call(Re||L.children)}function C(Ee){const Q=iL(t,L,I,r,s,Ee,l);if(Ee.loop&&!Q.slideLooper.canLoop()){const me=Object.assign({},Ee,{loop:!1});return C(me)}return Q}function P(Ee,Q){E||(y=c(y,Ee),x=d(y),N=Q||N,S(),v=C(x),h([y,...N.map(({options:me})=>me)]).forEach(me=>a.add(me,"change",R)),x.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(Ge),v.eventHandler.init(Ge),v.resizeHandler.init(Ge),v.slidesHandler.init(Ge),v.options.loop&&v.slideLooper.loop(),L.offsetParent&&I.length&&v.dragHandler.init(Ge),D=o.init(Ge,N)))}function R(Ee,Q){const me=te();O(),P(c({startIndex:me},Ee),Q),l.emit("reInit")}function O(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),a.clear()}function k(){E||(E=!0,a.clear(),O(),l.emit("destroy"),l.clear())}function z(Ee,Q,me){!x.active||E||(v.scrollBody.useBaseFriction().useDuration(Q===!0?0:x.duration),v.scrollTo.index(Ee,me||0))}function J(Ee){const Q=v.index.add(1).get();z(Q,Ee,-1)}function ee(Ee){const Q=v.index.add(-1).get();z(Q,Ee,1)}function ne(){return v.index.add(1).get()!==te()}function j(){return v.index.add(-1).get()!==te()}function U(){return v.scrollSnapList}function q(){return v.scrollProgress.get(v.offsetLocation.get())}function te(){return v.index.get()}function X(){return v.indexPrevious.get()}function oe(){return v.slidesInView.get()}function ie(){return v.slidesInView.get(!1)}function be(){return D}function Ne(){return v}function le(){return t}function Oe(){return L}function et(){return I}const Ge={canScrollNext:ne,canScrollPrev:j,containerNode:Oe,internalEngine:Ne,destroy:k,off:m,on:p,emit:T,plugins:be,previousScrollSnap:X,reInit:_,rootNode:le,scrollNext:J,scrollPrev:ee,scrollProgress:q,scrollSnapList:U,scrollTo:z,selectedScrollSnap:te,slideNodes:et,slidesInView:oe,slidesNotInView:ie};return P(e,n),setTimeout(()=>l.emit("init"),0),Ge}vd.globalOptions=void 0;function Bg(t={},e=[]){const n=A.useRef(t),r=A.useRef(e),[s,i]=A.useState(),[o,a]=A.useState(),l=A.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return A.useEffect(()=>{Fg(n.current,t)||(n.current=t,l())},[t,l]),A.useEffect(()=>{ND(r.current,e)||(r.current=e,l())},[e,l]),A.useEffect(()=>{if(kD()&&o){vd.globalOptions=Bg.globalOptions;const c=vd(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}Bg.globalOptions=void 0;const aS=A.createContext(null);function fh(){const t=A.useContext(aS);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const lS=A.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=Bg({...e,axis:t==="horizontal"?"x":"y"},r),[d,h]=A.useState(!1),[p,m]=A.useState(!1),T=A.useCallback(y=>{y&&(h(y.canScrollPrev()),m(y.canScrollNext()))},[]),_=A.useCallback(()=>{c==null||c.scrollPrev()},[c]),E=A.useCallback(()=>{c==null||c.scrollNext()},[c]),v=A.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),_()):y.key==="ArrowRight"&&(y.preventDefault(),E())},[_,E]);return A.useEffect(()=>{!c||!n||n(c)},[c,n]),A.useEffect(()=>{if(c)return T(c),c.on("reInit",T),c.on("select",T),()=>{c==null||c.off("select",T)}},[c,T]),w.jsx(aS.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:_,scrollNext:E,canScrollPrev:d,canScrollNext:p},children:w.jsx("div",{ref:a,onKeyDownCapture:v,className:gt("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});lS.displayName="Carousel";const uS=A.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=fh();return w.jsx("div",{ref:r,className:"overflow-hidden",children:w.jsx("div",{ref:n,className:gt("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});uS.displayName="CarouselContent";const cS=A.forwardRef(({className:t,...e},n)=>{const{orientation:r}=fh();return w.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:gt("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});cS.displayName="CarouselItem";const dS=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:a}=fh();return w.jsxs(ht,{ref:s,variant:e,size:n,className:gt("absolute h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[w.jsx(zP,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Previous slide"})]})});dS.displayName="CarouselPrevious";const hS=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:o,canScrollNext:a}=fh();return w.jsxs(ht,{ref:s,variant:e,size:n,className:gt("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[w.jsx($P,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Next slide"})]})});hS.displayName="CarouselNext";const cL={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function dL(t,e){const n=t.scrollSnapList();return typeof e=="number"?n.map(()=>e):e(n,t)}function hL(t,e){const n=t.rootNode();return e&&e(n)||n}function Hg(t={}){let e,n,r,s,i=null,o=0,a=!1,l=!1,c=!1,d=!1;function h(z,J){n=z;const{mergeOptions:ee,optionsAtMedia:ne}=J,j=ee(cL,Hg.globalOptions),U=ee(j,t);if(e=ne(U),n.scrollSnapList().length<=1)return;d=e.jump,r=!1,s=dL(n,e.delay);const{eventStore:q,ownerDocument:te}=n.internalEngine(),X=!!n.internalEngine().options.watchDrag,oe=hL(n,e.rootNode);q.add(te,"visibilitychange",v),X&&n.on("pointerDown",x),X&&!e.stopOnInteraction&&n.on("pointerUp",N),e.stopOnMouseEnter&&q.add(oe,"mouseenter",D),e.stopOnMouseEnter&&!e.stopOnInteraction&&q.add(oe,"mouseleave",L),e.stopOnFocusIn&&n.on("slideFocusStart",E),e.stopOnFocusIn&&!e.stopOnInteraction&&q.add(n.containerNode(),"focusout",_),e.playOnInit&&_()}function p(){n.off("pointerDown",x).off("pointerUp",N).off("slideFocusStart",E),E(),r=!0,a=!1}function m(){const{ownerWindow:z}=n.internalEngine();z.clearTimeout(o),o=z.setTimeout(R,s[n.selectedScrollSnap()]),i=new Date().getTime(),n.emit("autoplay:timerset")}function T(){const{ownerWindow:z}=n.internalEngine();z.clearTimeout(o),o=0,i=null,n.emit("autoplay:timerstopped")}function _(){if(!r){if(y()){c=!0;return}a||n.emit("autoplay:play"),m(),a=!0}}function E(){r||(a&&n.emit("autoplay:stop"),T(),a=!1)}function v(){if(y())return c=a,E();c&&_()}function y(){const{ownerDocument:z}=n.internalEngine();return z.visibilityState==="hidden"}function x(){l||E()}function N(){l||_()}function D(){l=!0,E()}function L(){l=!1,_()}function I(z){typeof z<"u"&&(d=z),_()}function S(){a&&E()}function C(){a&&_()}function P(){return a}function R(){const{index:z}=n.internalEngine(),J=z.clone().add(1).get(),ee=n.scrollSnapList().length-1,ne=e.stopOnLastSnap&&J===ee;if(n.canScrollNext()?n.scrollNext(d):n.scrollTo(0,d),n.emit("autoplay:select"),ne)return E();_()}function O(){if(!i)return null;const z=s[n.selectedScrollSnap()],J=new Date().getTime()-i;return z-J}return{name:"autoplay",options:t,init:h,destroy:p,play:I,stop:S,reset:C,isPlaying:P,timeUntilNext:O}}Hg.globalOptions=void 0;const fL="/threadedCharm/assets/hero-bg-BnoJAeGk.jpg",pL="/threadedCharm/assets/hero-slide2-BBjTwQi7.jpg",mL="/threadedCharm/assets/hero-slide3-DMBD1kQU.jpg",gL=[{id:1,image:fL,title:"MODERN LAYOUT DESIGN",description:"Discover the beauty of handcrafted artisan products, where traditional craftsmanship meets modern design"},{id:2,image:pL,title:"ARTISAN CERAMICS",description:"Handcrafted ceramic pieces that blend timeless elegance with contemporary aesthetics"},{id:3,image:mL,title:"PREMIUM WOODWORK",description:"Expertly crafted wooden furniture that transforms your living space into a masterpiece"}],yL=()=>w.jsx("section",{id:"home",className:"relative min-h-screen flex items-center justify-center pt-20",children:w.jsxs(lS,{className:"w-full h-screen",plugins:[Hg({delay:5e3})],opts:{loop:!0},children:[w.jsx(uS,{children:gL.map(t=>w.jsx(cS,{children:w.jsx("div",{className:"relative min-h-screen flex items-center justify-center animate-fade-in",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"},children:w.jsxs("div",{className:"container mx-auto px-4 text-center z-10",children:[w.jsx("h1",{className:"text-5xl md:text-7xl font-heading font-bold text-white mb-6 animate-scale-in",children:t.title}),w.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl mx-auto animate-fade-in",children:t.description}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in",children:[w.jsx(ht,{size:"lg",className:"text-lg px-8 hover-scale",children:"Shop Now"}),w.jsx(ht,{size:"lg",variant:"outline",className:"text-lg px-8 bg-white/10 text-white border-white hover:bg-white hover:text-foreground hover-scale backdrop-blur-sm",children:"Learn More"})]})]})})},t.id))}),w.jsx(dS,{className:"left-4 bg-white/20 border-white/40 text-white hover:bg-white/30 backdrop-blur-sm"}),w.jsx(hS,{className:"right-4 bg-white/20 border-white/40 text-white hover:bg-white/30 backdrop-blur-sm"})]})}),vL="/threadedCharm/assets/welcome-49pjkIiu.jpg",fS=()=>w.jsx("section",{id:"about",className:"py-20 bg-background",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[w.jsx("div",{children:w.jsx("img",{src:vL,alt:"Handcrafted beads and materials",className:"rounded-lg shadow-lg w-fit",height:"100%",width:"50%"})}),w.jsxs("div",{children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-heading font-bold mb-4",children:["Welcome ",w.jsx("span",{className:"text-primary",children:"To Threaded Charm"})]}),w.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"A living plant is a sacred object. My devices in turn show a new way of looking at the world through plants, giving us a modern sense of the rhythm of living organisms, letting us truly make contact with flora in ways we never have before. The core of my exploration lies in bio-signals, which I regard as a language."}),w.jsx("p",{className:"text-muted-foreground mb-8 leading-relaxed",children:"I have been working on a series of projects that interpret these signals, using various electronic techniques to make the invisible visible and the silent heard."}),w.jsx(ht,{size:"lg",children:"Read More"})]})]})})}),Vi=A.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:gt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Vi.displayName="Card";const wL=A.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:gt("flex flex-col space-y-1.5 p-6",t),...e}));wL.displayName="CardHeader";const _L=A.forwardRef(({className:t,...e},n)=>w.jsx("h3",{ref:n,className:gt("text-2xl font-semibold leading-none tracking-tight",t),...e}));_L.displayName="CardTitle";const EL=A.forwardRef(({className:t,...e},n)=>w.jsx("p",{ref:n,className:gt("text-sm text-muted-foreground",t),...e}));EL.displayName="CardDescription";const ji=A.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:gt("p-6 pt-0",t),...e}));ji.displayName="CardContent";const TL=A.forwardRef(({className:t,...e},n)=>w.jsx("div",{ref:n,className:gt("flex items-center p-6 pt-0",t),...e}));TL.displayName="CardFooter";const xL=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new IL;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bL=function(t){const e=pS(t);return mS.encodeByteArray(e,!0)},wd=function(t){return bL(t).replace(/\./g,"")},gS=function(t){try{return mS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>CL().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof T_>"u")return;const t=T_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gS(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return xL()||AL()||RL()||PL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>{var e,n;return(n=(e=ph())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vS=t=>{const e=yS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wS=()=>{var t;return(t=ph())==null?void 0:t.config},_S=t=>{var e;return(e=ph())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wd(JSON.stringify(n)),wd(JSON.stringify(o)),""].join(".")}const vl={};function NL(){const t={prod:[],emulator:[]};for(const e of Object.keys(vl))vl[e]?t.emulator.push(e):t.prod.push(e);return t}function OL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x_=!1;function qg(t,e){if(typeof window>"u"||typeof document>"u"||!pi(window.location.host)||vl[t]===e||vl[t]||x_)return;vl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=NL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{x_=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=OL(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(E,_);const N=c();l(y,v),x.append(y,T,E,N),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function LL(){var e;const t=(e=ph())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ML(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FL(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UL(){return!LL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zL(){try{return typeof indexedDB=="object"}catch{return!1}}function $L(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BL,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?HL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function HL(t,e){return t.replace(WL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WL=/\{\$([^}]+)}/g;function qL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(S_(i)&&S_(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KL(t,e){const n=new GL(t,e);return n.subscribe.bind(n)}class GL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Af),s.error===void 0&&(s.error=Af),s.complete===void 0&&(s.complete=Af);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JL(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XL(t){return t===Si?void 0:t}function JL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const eM={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},tM=ye.INFO,nM={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},rM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=tM,this._logHandler=rM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const sM=(t,e)=>e.some(n=>t instanceof n);let I_,b_;function iM(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oM(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,Jp=new WeakMap,xS=new WeakMap,Rf=new WeakMap,Gg=new WeakMap;function aM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ks(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),Gg.set(e,t),e}function lM(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uM(t){Zp=t(Zp)}function cM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pf(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),Ks(r)}:oM().includes(t)?function(...e){return t.apply(Pf(this),e),Ks(TS.get(this))}:function(...e){return Ks(t.apply(Pf(this),e))}}function dM(t){return typeof t=="function"?cM(t):(t instanceof IDBTransaction&&lM(t),sM(t,iM())?new Proxy(t,Zp):t)}function Ks(t){if(t instanceof IDBRequest)return aM(t);if(Rf.has(t))return Rf.get(t);const e=dM(t);return e!==t&&(Rf.set(t,e),Gg.set(e,t)),e}const Pf=t=>Gg.get(t);function hM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ks(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ks(o.result),l.oldVersion,l.newVersion,Ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fM=["get","getKey","getAll","getAllKeys","count"],pM=["put","add","delete","clear"],kf=new Map;function C_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=pM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return kf.set(e,i),i}uM(t=>({...t,get:(e,n,r)=>C_(e,n)||t.get(e,n,r),has:(e,n)=>!!C_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",A_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Kg("@firebase/app"),yM="@firebase/app-compat",vM="@firebase/analytics-compat",wM="@firebase/analytics",_M="@firebase/app-check-compat",EM="@firebase/app-check",TM="@firebase/auth",xM="@firebase/auth-compat",SM="@firebase/database",IM="@firebase/data-connect",bM="@firebase/database-compat",CM="@firebase/functions",AM="@firebase/functions-compat",RM="@firebase/installations",PM="@firebase/installations-compat",kM="@firebase/messaging",NM="@firebase/messaging-compat",OM="@firebase/performance",DM="@firebase/performance-compat",LM="@firebase/remote-config",MM="@firebase/remote-config-compat",VM="@firebase/storage",jM="@firebase/storage-compat",FM="@firebase/firestore",UM="@firebase/ai",zM="@firebase/firestore-compat",$M="firebase",BM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",HM={[em]:"fire-core",[yM]:"fire-core-compat",[wM]:"fire-analytics",[vM]:"fire-analytics-compat",[EM]:"fire-app-check",[_M]:"fire-app-check-compat",[TM]:"fire-auth",[xM]:"fire-auth-compat",[SM]:"fire-rtdb",[IM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[CM]:"fire-fn",[AM]:"fire-fn-compat",[RM]:"fire-iid",[PM]:"fire-iid-compat",[kM]:"fire-fcm",[NM]:"fire-fcm-compat",[OM]:"fire-perf",[DM]:"fire-perf-compat",[LM]:"fire-rc",[MM]:"fire-rc-compat",[VM]:"fire-gcs",[jM]:"fire-gcs-compat",[FM]:"fire-fst",[zM]:"fire-fst-compat",[UM]:"fire-vertex","fire-js":"fire-js",[$M]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,WM=new Map,nm=new Map;function R_(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yi(t){const e=t.name;if(nm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(const n of _d.values())R_(n,t);for(const n of WM.values())R_(n,t);return!0}function mh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new _u("app","Firebase",qM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=BM;function SS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(n||(n=wS()),!n)throw Gs.create("no-options");const i=_d.get(s);if(i){if(Qi(n,i.options)&&Qi(r,i.config))return i;throw Gs.create("duplicate-app",{appName:s})}const o=new ZL(s);for(const l of nm.values())o.addComponent(l);const a=new KM(n,r,o);return _d.set(s,a),a}function Qg(t=tm){const e=_d.get(t);if(!e&&t===tm&&wS())return SS();if(!e)throw Gs.create("no-app",{appName:t});return e}function wr(t,e,n){let r=HM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(o.join(" "));return}Yi(new ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firebase-heartbeat-database",QM=1,Yl="firebase-heartbeat-store";let Nf=null;function IS(){return Nf||(Nf=hM(GM,QM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Nf}async function YM(t){try{const n=(await IS()).transaction(Yl),r=await n.objectStore(Yl).get(bS(t));return await n.done,r}catch(e){if(e instanceof Pr)Xr.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function P_(t,e){try{const r=(await IS()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,bS(t)),await r.done}catch(n){if(n instanceof Pr)Xr.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(r.message)}}}function bS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=1024,JM=30;class ZM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=k_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>JM){const o=nV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:r,unsentEntries:s}=eV(this._heartbeatsCache.heartbeats),i=wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xr.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function eV(t,e=XM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),N_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zL()?$L().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N_(t){return wd(JSON.stringify({version:2,heartbeats:t})).length}function nV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){Yi(new ri("platform-logger",e=>new mM(e),"PRIVATE")),Yi(new ri("heartbeat",e=>new ZM(e),"PRIVATE")),wr(em,A_,t),wr(em,A_,"esm2020"),wr("fire-js","")}rV("");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,CS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,R,O){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return S.prototype[R].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,C){C||(C=0);const P=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)P[R]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(R=0;R<16;++R)P[R]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],R=I.g[2];let O=I.g[3],k;k=S+(O^C&(R^O))+P[0]+3614090360&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(R^S&(C^R))+P[1]+3905402710&4294967295,O=S+(k<<12&4294967295|k>>>20),k=R+(C^O&(S^C))+P[2]+606105819&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(S^R&(O^S))+P[3]+3250441966&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(O^C&(R^O))+P[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(R^S&(C^R))+P[5]+1200080426&4294967295,O=S+(k<<12&4294967295|k>>>20),k=R+(C^O&(S^C))+P[6]+2821735955&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(S^R&(O^S))+P[7]+4249261313&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(O^C&(R^O))+P[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(R^S&(C^R))+P[9]+2336552879&4294967295,O=S+(k<<12&4294967295|k>>>20),k=R+(C^O&(S^C))+P[10]+4294925233&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(S^R&(O^S))+P[11]+2304563134&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(O^C&(R^O))+P[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=O+(R^S&(C^R))+P[13]+4254626195&4294967295,O=S+(k<<12&4294967295|k>>>20),k=R+(C^O&(S^C))+P[14]+2792965006&4294967295,R=O+(k<<17&4294967295|k>>>15),k=C+(S^R&(O^S))+P[15]+1236535329&4294967295,C=R+(k<<22&4294967295|k>>>10),k=S+(R^O&(C^R))+P[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(S^C))+P[6]+3225465664&4294967295,O=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(O^S))+P[11]+643717713&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(R^O))+P[0]+3921069994&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^O&(C^R))+P[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(S^C))+P[10]+38016083&4294967295,O=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(O^S))+P[15]+3634488961&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(R^O))+P[4]+3889429448&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^O&(C^R))+P[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(S^C))+P[14]+3275163606&4294967295,O=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(O^S))+P[3]+4107603335&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(R^O))+P[8]+1163531501&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(R^O&(C^R))+P[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=O+(C^R&(S^C))+P[2]+4243563512&4294967295,O=S+(k<<9&4294967295|k>>>23),k=R+(S^C&(O^S))+P[7]+1735328473&4294967295,R=O+(k<<14&4294967295|k>>>18),k=C+(O^S&(R^O))+P[12]+2368359562&4294967295,C=R+(k<<20&4294967295|k>>>12),k=S+(C^R^O)+P[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^R)+P[8]+2272392833&4294967295,O=S+(k<<11&4294967295|k>>>21),k=R+(O^S^C)+P[11]+1839030562&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^S)+P[14]+4259657740&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^O)+P[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^R)+P[4]+1272893353&4294967295,O=S+(k<<11&4294967295|k>>>21),k=R+(O^S^C)+P[7]+4139469664&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^S)+P[10]+3200236656&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^O)+P[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^R)+P[0]+3936430074&4294967295,O=S+(k<<11&4294967295|k>>>21),k=R+(O^S^C)+P[3]+3572445317&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^S)+P[6]+76029189&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(C^R^O)+P[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=O+(S^C^R)+P[12]+3873151461&4294967295,O=S+(k<<11&4294967295|k>>>21),k=R+(O^S^C)+P[15]+530742520&4294967295,R=O+(k<<16&4294967295|k>>>16),k=C+(R^O^S)+P[2]+3299628645&4294967295,C=R+(k<<23&4294967295|k>>>9),k=S+(R^(C|~O))+P[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~R))+P[7]+1126891415&4294967295,O=S+(k<<10&4294967295|k>>>22),k=R+(S^(O|~C))+P[14]+2878612391&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~S))+P[5]+4237533241&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~O))+P[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~R))+P[3]+2399980690&4294967295,O=S+(k<<10&4294967295|k>>>22),k=R+(S^(O|~C))+P[10]+4293915773&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~S))+P[1]+2240044497&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~O))+P[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~R))+P[15]+4264355552&4294967295,O=S+(k<<10&4294967295|k>>>22),k=R+(S^(O|~C))+P[6]+2734768916&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~S))+P[13]+1309151649&4294967295,C=R+(k<<21&4294967295|k>>>11),k=S+(R^(C|~O))+P[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=O+(C^(S|~R))+P[11]+3174756917&4294967295,O=S+(k<<10&4294967295|k>>>22),k=R+(S^(O|~C))+P[2]+718787259&4294967295,R=O+(k<<15&4294967295|k>>>17),k=C+(O^(R|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,P=this.C;let R=this.h,O=0;for(;O<S;){if(R==0)for(;O<=C;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<S;)if(P[R++]=I.charCodeAt(O++),R==this.blockSize){s(this,P),R=0;break}}else for(;O<S;)if(P[R++]=I[O++],R==this.blockSize){s(this,P),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[S++]=this.g[C]>>>P&255;return I};function i(I,S){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function o(I,S){this.h=S;const C=[];let P=!0;for(let R=I.length-1;R>=0;R--){const O=I[R]|0;P&&O==S||(C[R]=O,P=!1)}this.g=C}var a={};function l(I){return-128<=I&&I<128?i(I,function(S){return new o([S|0],S<0?-1:0)}):new o([I|0],I<0?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return E(c(-I));const S=[];let C=1;for(let P=0;I>=C;P++)S[P]=I/C|0,C*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return E(d(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(S,8));let P=h;for(let O=0;O<I.length;O+=8){var R=Math.min(8,I.length-O);const k=parseInt(I.substring(O,O+R),S);R<8?(R=c(Math.pow(S,R)),P=P.j(R).add(c(k))):(P=P.j(C),P=P.add(c(k)))}return P}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(_(this))return"-"+E(this).toString(I);const S=c(Math.pow(I,6));var C=this;let P="";for(;;){const R=N(C,S).g;C=v(C,R.j(S));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=R,T(C))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=v(this,I),_(I)?-1:T(I)?0:1};function E(I){const S=I.g.length,C=[];for(let P=0;P<S;P++)C[P]=~I.g[P];return new o(C,~I.h).add(p)}t.abs=function(){return _(this)?E(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let R=0;R<=S;R++){let O=P+(this.i(R)&65535)+(I.i(R)&65535),k=(O>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);P=k>>>16,O&=65535,k&=65535,C[R]=k<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(I,S){return I.add(E(S))}t.j=function(I){if(T(this)||T(I))return h;if(_(this))return _(I)?E(this).j(E(I)):E(E(this).j(I));if(_(I))return E(this.j(E(I)));if(this.l(m)<0&&I.l(m)<0)return c(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let R=0;R<I.g.length;R++){const O=this.i(P)>>>16,k=this.i(P)&65535,z=I.i(R)>>>16,J=I.i(R)&65535;C[2*P+2*R]+=k*J,y(C,2*P+2*R),C[2*P+2*R+1]+=O*J,y(C,2*P+2*R+1),C[2*P+2*R+1]+=k*z,y(C,2*P+2*R+1),C[2*P+2*R+2]+=O*z,y(C,2*P+2*R+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new o(C,0)};function y(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function x(I,S){this.g=I,this.h=S}function N(I,S){if(T(S))throw Error("division by zero");if(T(I))return new x(h,h);if(_(I))return S=N(E(I),S),new x(E(S.g),E(S.h));if(_(S))return S=N(I,E(S)),new x(E(S.g),S.h);if(I.g.length>30){if(_(I)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=S;P.l(I)<=0;)C=D(C),P=D(P);var R=L(C,1),O=L(P,1);for(P=L(P,2),C=L(C,2);!T(P);){var k=O.add(P);k.l(I)<=0&&(R=R.add(C),O=k),P=L(P,1),C=L(C,1)}return S=v(I,R.j(S)),new x(R,S)}for(R=h;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=c(C),k=O.j(S);_(k)||k.l(I)>0;)C-=P,O=c(C),k=O.j(S);T(O)&&(O=p),R=R.add(O),I=v(I,k)}return new x(R,I)}t.B=function(I){return N(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function D(I){const S=I.g.length+1,C=[];for(let P=0;P<S;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function L(I,S){const C=S>>5;S%=32;const P=I.g.length-C,R=[];for(let O=0;O<P;O++)R[O]=S>0?I.i(O+C)>>>S|I.i(O+C+1)<<32-S:I.i(O+C);return new o(R,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Qs=o}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AS,rl,RS,kc,rm,PS,kS,NS;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var g=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var M=u[b];if(!(M in g))break e;g=g[M]}u=u[u.length-1],b=g[u],f=f(b),f!=b&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(f){var g=[],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&g.push([b,f[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function l(u,f,g){return u.call.apply(u.bind,arguments)}function c(u,f,g){return c=l,c.apply(null,arguments)}function d(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function h(u,f){function g(){}g.prototype=f.prototype,u.Z=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(b,M,V){for(var K=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)K[pe-2]=arguments[pe];return f.prototype[M].apply(b,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const f=u.length;if(f>0){const g=Array(f);for(let b=0;b<f;b++)g[b]=u[b];return g}return[]}function T(u,f){for(let b=1;b<arguments.length;b++){const M=arguments[b];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=u.length||0;const V=M.length||0;u.length=g+V;for(let K=0;K<V;K++)u[g+K]=M[K]}else u.push(M)}}class _{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(u){o.setTimeout(()=>{throw u},0)}function v(){var u=I;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class y{constructor(){this.h=this.g=null}add(f,g){const b=x.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var x=new _(()=>new N,u=>u.reset());class N{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let D,L=!1,I=new y,S=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(C)}};function C(){for(var u;u=v();){try{u.h.call(u.g)}catch(g){E(g)}var f=x;f.j(u),f.h<100&&(f.h++,u.next=f.g,f.g=u)}L=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return u}();function k(u){return/^[\s\xa0]*$/.test(u)}function z(u,f){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,f)}h(z,R),z.prototype.init=function(u,f){const g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget,f||(g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement)),this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ne(u,f,g,b,M){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=M,this.key=++ee,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u,f,g){for(const b in u)f.call(g,u[b],b,u)}function q(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function te(u){const f={};for(const g in u)f[g]=u[g];return f}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,f){let g,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(g in b)u[g]=b[g];for(let V=0;V<X.length;V++)g=X[V],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,f,g,b,M){const V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);const K=Ne(u,f,b,M);return K>-1?(f=u[K],g||(f.fa=!1)):(f=new ne(f,this.src,V,!!b,M),f.fa=g,u.push(f)),f};function be(u,f){const g=f.type;if(g in u.g){var b=u.g[g],M=Array.prototype.indexOf.call(b,f,void 0),V;(V=M>=0)&&Array.prototype.splice.call(b,M,1),V&&(j(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ne(u,f,g,b){for(let M=0;M<u.length;++M){const V=u[M];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==b)return M}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Oe={};function et(u,f,g,b,M){if(Array.isArray(f)){for(let V=0;V<f.length;V++)et(u,f[V],g,b,M);return null}return g=Dt(g),u&&u[J]?u.J(f,g,a(b)?!!b.capture:!1,M):Ge(u,f,g,!1,b,M)}function Ge(u,f,g,b,M,V){if(!f)throw Error("Invalid event type");const K=a(M)?!!M.capture:!!M;let pe=lt(u);if(pe||(u[le]=pe=new ie(u)),g=pe.add(f,g,b,K,V),g.proxy)return g;if(b=Ee(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)O||(M=K),M===void 0&&(M=!1),u.addEventListener(f.toString(),b,M);else if(u.attachEvent)u.attachEvent(Re(f.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ee(){function u(g){return f.call(u.src,u.listener,g)}const f=tt;return u}function Q(u,f,g,b,M){if(Array.isArray(f))for(var V=0;V<f.length;V++)Q(u,f[V],g,b,M);else b=a(b)?!!b.capture:!!b,g=Dt(g),u&&u[J]?(u=u.i,V=String(f).toString(),V in u.g&&(f=u.g[V],g=Ne(f,g,b,M),g>-1&&(j(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete u.g[V],u.h--)))):u&&(u=lt(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Ne(f,g,b,M)),(g=u>-1?f[u]:null)&&me(g))}function me(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[J])be(f.i,u);else{var g=u.type,b=u.proxy;f.removeEventListener?f.removeEventListener(g,b,u.capture):f.detachEvent?f.detachEvent(Re(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=lt(f))?(be(g,u),g.h==0&&(g.src=null,f[le]=null)):j(u)}}}function Re(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function tt(u,f){if(u.da)u=!0;else{f=new z(f,this);const g=u.listener,b=u.ha||u.src;u.fa&&me(u),u=g.call(b,f)}return u}function lt(u){return u=u[le],u instanceof ie?u:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dt(u){return typeof u=="function"?u:(u[bt]||(u[bt]=function(f){return u.handleEvent(f)}),u[bt])}function Ie(){P.call(this),this.i=new ie(this),this.M=this,this.G=null}h(Ie,P),Ie.prototype[J]=!0,Ie.prototype.removeEventListener=function(u,f,g,b){Q(this,u,f,g,b)};function De(u,f){var g,b=u.G;if(b)for(g=[];b;b=b.G)g.push(b);if(u=u.M,b=f.type||f,typeof f=="string")f=new R(f,u);else if(f instanceof R)f.target=f.target||u;else{var M=f;f=new R(b,u),oe(f,M)}M=!0;let V,K;if(g)for(K=g.length-1;K>=0;K--)V=f.g=g[K],M=Lt(V,b,!0,f)&&M;if(V=f.g=u,M=Lt(V,b,!0,f)&&M,M=Lt(V,b,!1,f)&&M,g)for(K=0;K<g.length;K++)V=f.g=g[K],M=Lt(V,b,!1,f)&&M}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var u=this.i;for(const f in u.g){const g=u.g[f];for(let b=0;b<g.length;b++)j(g[b]);delete u.g[f],u.h--}}this.G=null},Ie.prototype.J=function(u,f,g,b){return this.i.add(String(u),f,!1,g,b)},Ie.prototype.K=function(u,f,g,b){return this.i.add(String(u),f,!0,g,b)};function Lt(u,f,g,b){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let V=0;V<f.length;++V){const K=f[V];if(K&&!K.da&&K.capture==g){const pe=K.listener,ut=K.ha||K.src;K.fa&&be(u.i,K),M=pe.call(ut,b)!==!1&&M}}return M&&!b.defaultPrevented}function rs(u,f){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(u,f||0)}function Zt(u){u.g=rs(()=>{u.g=null,u.i&&(u.i=!1,Zt(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class uo extends P{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){P.call(this),this.h=u,this.g={}}h(rr,P);var Ct=[];function bn(u){U(u.g,function(f,g){this.g.hasOwnProperty(g)&&me(f)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),bn(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=o.JSON.stringify,gi=o.JSON.parse,pn=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ss(){}function kr(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cn(){R.call(this,"d")}h(Cn,R);function is(){R.call(this,"c")}h(is,R);var Mt={},co=null;function os(){return co=co||new Ie}Mt.Ia="serverreachability";function as(u){R.call(this,Mt.Ia,u)}h(as,R);function sr(u){const f=os();De(f,new as(f))}Mt.STAT_EVENT="statevent";function yi(u,f){R.call(this,Mt.STAT_EVENT,u),this.stat=f}h(yi,R);function Qe(u){const f=os();De(f,new yi(f,u))}Mt.Ja="timingevent";function tn(u,f){R.call(this,Mt.Ja,u),this.size=f}h(tn,R);function Nr(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},f)}function se(){this.g=!0}se.prototype.ua=function(){this.g=!1};function xe(u,f,g,b,M,V){u.info(function(){if(u.g)if(V){var K="",pe=V.split("&");for(let ke=0;ke<pe.length;ke++){var ut=pe[ke].split("=");if(ut.length>1){const vt=ut[0];ut=ut[1];const ar=vt.split("_");K=ar.length>=2&&ar[1]=="type"?K+(vt+"="+ut+"&"):K+(vt+"=redacted&")}}}else K=null;else K=V;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+f+`
`+g+`
`+K})}function Pe(u,f,g,b,M,V,K){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+f+`
`+g+`
`+V+" "+K})}function yt(u,f,g,b){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+ir(u,g)+(b?" "+b:"")})}function mn(u,f){u.info(function(){return"TIMEOUT: "+f})}se.prototype.info=function(){};function ir(u,f){if(!u.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(u=0;u<V.length;u++)if(Array.isArray(V[u])){var g=V[u];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(let K=1;K<b.length;K++)b[K]=""}}}}return mi(V)}catch{return f}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jn;function Oh(){}h(Oh,ss),Oh.prototype.g=function(){return new XMLHttpRequest},jn=new Oh;function Pa(u){return encodeURIComponent(String(u))}function Qb(u){var f=1;u=u.split(":");const g=[];for(;f>0&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function ls(u,f,g,b){this.j=u,this.i=f,this.l=g,this.S=b||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Uy}function Uy(){this.i=null,this.g="",this.h=!1}var zy={},Dh={};function Lh(u,f,g){u.M=1,u.A=ku(or(f)),u.u=g,u.R=!0,$y(u,null)}function $y(u,f){u.F=Date.now(),Pu(u),u.B=or(u.A);var g=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),tv(g.i,"t",b),u.C=0,g=u.j.L,u.h=new Uy,u.g=wv(u.j,g?f:null,!u.u),u.P>0&&(u.O=new uo(c(u.Y,u,u.g),u.P)),f=u.V,g=u.g,b=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ct[0]=M.toString()),M=Ct);for(let V=0;V<M.length;V++){const K=et(g,M[V],b||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=u.J?te(u.J):{},u.u?(u.v||(u.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,f)):(u.v="GET",u.g.ea(u.B,u.v,null,f)),sr(),xe(u.i,u.v,u.B,u.l,u.S,u.u)}ls.prototype.ba=function(u){u=u.target;const f=this.O;f&&ds(u)==3?f.j():this.Y(u)},ls.prototype.Y=function(u){try{if(u==this.g)e:{const pe=ds(this.g),ut=this.g.ya(),ke=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||lv(this.g)))){this.K||pe!=4||ut==7||(ut==8||ke<=0?sr(3):sr(2)),Mh(this);var f=this.g.ca();this.X=f;var g=Yb(this);if(this.o=f==200,Pe(this.i,this.v,this.B,this.l,this.S,pe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(b)){var V=b;break t}}V=null}if(u=V)yt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vh(this,u);else{this.o=!1,this.m=3,Qe(12),vi(this),ka(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<g.length;)if(vt=Xb(this,g),vt==Dh){pe==4&&(this.m=4,Qe(14),u=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==zy){this.m=4,Qe(15),yt(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else yt(this.i,this.l,vt,null),Vh(this,vt);if(By(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||g.length!=0||this.h.h||(this.m=1,Qe(16),u=!1),this.o=this.o&&u,!u)yt(this.i,this.l,g,"[Invalid Chunked Response]"),vi(this),ka(this);else if(g.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Wh(K),K.P=!0,Qe(11))}}else yt(this.i,this.l,g,null),Vh(this,g);pe==4&&vi(this),this.o&&!this.K&&(pe==4?mv(this.j,this):(this.o=!1,Pu(this)))}else dC(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,Qe(12)):(this.m=0,Qe(13)),vi(this),ka(this)}}}catch{}finally{}};function Yb(u){if(!By(u))return u.g.la();const f=lv(u.g);if(f==="")return"";let g="";const b=f.length,M=ds(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vi(u),ka(u),"";u.h.i=new o.TextDecoder}for(let V=0;V<b;V++)u.h.h=!0,g+=u.h.i.decode(f[V],{stream:!(M&&V==b-1)});return f.length=0,u.h.g+=g,u.C=0,u.h.g}function By(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Xb(u,f){var g=u.C,b=f.indexOf(`
`,g);return b==-1?Dh:(g=Number(f.substring(g,b)),isNaN(g)?zy:(b+=1,b+g>f.length?Dh:(f=f.slice(b,b+g),u.C=b+g,f)))}ls.prototype.cancel=function(){this.K=!0,vi(this)};function Pu(u){u.T=Date.now()+u.H,Hy(u,u.H)}function Hy(u,f){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Nr(c(u.aa,u),f)}function Mh(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ls.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mn(this.i,this.B),this.M!=2&&(sr(),Qe(17)),vi(this),this.m=2,ka(this)):Hy(this,this.T-u)};function ka(u){u.j.I==0||u.K||mv(u.j,u)}function vi(u){Mh(u);var f=u.O;f&&typeof f.dispose=="function"&&f.dispose(),u.O=null,bn(u.V),u.g&&(f=u.g,u.g=null,f.abort(),f.dispose())}function Vh(u,f){try{var g=u.j;if(g.I!=0&&(g.g==u||jh(g.h,u))){if(!u.L&&jh(g.h,u)&&g.I==3){try{var b=g.Ba.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)Mu(g),Du(g);else break e;Hh(g),Qe(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Nr(c(g.Va,g),6e3));Ky(g.h)<=1&&g.ta&&(g.ta=void 0)}else _i(g,11)}else if((u.L||g.g==u)&&Mu(g),!k(f))for(M=g.Ba.g.parse(f),f=0;f<M.length;f++){let ke=M[f];const vt=ke[0];if(!(vt<=g.K))if(g.K=vt,ke=ke[1],g.I==2)if(ke[0]=="c"){g.M=ke[1],g.ba=ke[2];const ar=ke[3];ar!=null&&(g.ka=ar,g.j.info("VER="+g.ka));const Ei=ke[4];Ei!=null&&(g.za=Ei,g.j.info("SVER="+g.za));const hs=ke[5];hs!=null&&typeof hs=="number"&&hs>0&&(b=1.5*hs,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const fs=u.g;if(fs){const ju=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ju){var V=b.h;V.g||ju.indexOf("spdy")==-1&&ju.indexOf("quic")==-1&&ju.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Fh(V,V.h),V.h=null))}if(b.G){const qh=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(b.wa=qh,Me(b.J,b.G,qh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var K=u;if(b.na=vv(b,b.L?b.ba:null,b.W),K.L){Gy(b.h,K);var pe=K,ut=b.O;ut&&(pe.H=ut),pe.D&&(Mh(pe),Pu(pe)),b.g=K}else fv(b);g.i.length>0&&Lu(g)}else ke[0]!="stop"&&ke[0]!="close"||_i(g,7);else g.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?_i(g,7):Bh(g):ke[0]!="noop"&&g.l&&g.l.qa(ke),g.A=0)}}sr(4)}catch{}}var Jb=class{constructor(u,f){this.g=u,this.map=f}};function Wy(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ky(u){return u.h?1:u.g?u.g.size:0}function jh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Fh(u,f){u.g?u.g.add(f):u.h=f}function Gy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Wy.prototype.cancel=function(){if(this.i=Qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qy(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.G);return f}return m(u.i)}var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zb(u,f){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const b=u[g].indexOf("=");let M,V=null;b>=0?(M=u[g].substring(0,b),V=u[g].substring(b+1)):M=u[g],f(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function us(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;u instanceof us?(this.l=u.l,Na(this,u.j),this.o=u.o,this.g=u.g,Oa(this,u.u),this.h=u.h,Uh(this,nv(u.i)),this.m=u.m):u&&(f=String(u).match(Yy))?(this.l=!1,Na(this,f[1]||"",!0),this.o=Da(f[2]||""),this.g=Da(f[3]||"",!0),Oa(this,f[4]),this.h=Da(f[5]||"",!0),Uh(this,f[6]||"",!0),this.m=Da(f[7]||"")):(this.l=!1,this.i=new Ma(null,this.l))}us.prototype.toString=function(){const u=[];var f=this.j;f&&u.push(La(f,Xy,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(La(f,Xy,!0),"@"),u.push(Pa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(La(g,g.charAt(0)=="/"?nC:tC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",La(g,sC)),u.join("")},us.prototype.resolve=function(u){const f=or(this);let g=!!u.j;g?Na(f,u.j):g=!!u.o,g?f.o=u.o:g=!!u.g,g?f.g=u.g:g=u.u!=null;var b=u.h;if(g)Oa(f,u.u);else if(g=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var M=f.h.lastIndexOf("/");M!=-1&&(b=f.h.slice(0,M+1)+b)}if(M=b,M==".."||M==".")b="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){b=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let K=0;K<M.length;){const pe=M[K++];pe=="."?b&&K==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),b&&K==M.length&&V.push("")):(V.push(pe),b=!0)}b=V.join("/")}else b=M}return g?f.h=b:g=u.i.toString()!=="",g?Uh(f,nv(u.i)):g=!!u.m,g&&(f.m=u.m),f};function or(u){return new us(u)}function Na(u,f,g){u.j=g?Da(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Oa(u,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);u.u=f}else u.u=null}function Uh(u,f,g){f instanceof Ma?(u.i=f,iC(u.i,u.l)):(g||(f=La(f,rC)),u.i=new Ma(f,u.l))}function Me(u,f,g){u.i.set(f,g)}function ku(u){return Me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Da(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function La(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,eC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function eC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xy=/[#\/\?@]/g,tC=/[#\?:]/g,nC=/[#\?]/g,rC=/[#\?@]/g,sC=/#/g;function Ma(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function wi(u){u.g||(u.g=new Map,u.h=0,u.i&&Zb(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Ma.prototype,t.add=function(u,f){wi(this),this.i=null,u=ho(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function Jy(u,f){wi(u),f=ho(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Zy(u,f){return wi(u),f=ho(u,f),u.g.has(f)}t.forEach=function(u,f){wi(this),this.g.forEach(function(g,b){g.forEach(function(M){u.call(f,M,b,this)},this)},this)};function ev(u,f){wi(u);let g=[];if(typeof f=="string")Zy(u,f)&&(g=g.concat(u.g.get(ho(u,f))));else for(u=Array.from(u.g.values()),f=0;f<u.length;f++)g=g.concat(u[f]);return g}t.set=function(u,f){return wi(this),this.i=null,u=ho(this,u),Zy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=ev(this,u),u.length>0?String(u[0]):f):f};function tv(u,f,g){Jy(u,f),g.length>0&&(u.i=null,u.g.set(ho(u,f),m(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(let b=0;b<f.length;b++){var g=f[b];const M=Pa(g);g=ev(this,g);for(let V=0;V<g.length;V++){let K=M;g[V]!==""&&(K+="="+Pa(g[V])),u.push(K)}}return this.i=u.join("&")};function nv(u){const f=new Ma;return f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),f}function ho(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function iC(u,f){f&&!u.j&&(wi(u),u.i=null,u.g.forEach(function(g,b){const M=b.toLowerCase();b!=M&&(Jy(this,b),tv(this,M,g))},u)),u.j=f}function oC(u,f){const g=new se;if(o.Image){const b=new Image;b.onload=d(cs,g,"TestLoadImage: loaded",!0,f,b),b.onerror=d(cs,g,"TestLoadImage: error",!1,f,b),b.onabort=d(cs,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=d(cs,g,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else f(!1)}function aC(u,f){const g=new se,b=new AbortController,M=setTimeout(()=>{b.abort(),cs(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:b.signal}).then(V=>{clearTimeout(M),V.ok?cs(g,"TestPingServer: ok",!0,f):cs(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),cs(g,"TestPingServer: error",!1,f)})}function cs(u,f,g,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(g)}catch{}}function lC(){this.g=new pn}function zh(u){this.i=u.Sb||null,this.h=u.ab||!1}h(zh,ss),zh.prototype.g=function(){return new Nu(this.i,this.h)};function Nu(u,f){Ie.call(this),this.H=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Nu,Ie),t=Nu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=f,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(f.body=u),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rv(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function rv(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Va(this):ja(this),this.readyState==3&&rv(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Va(this))},t.Na=function(u){this.g&&(this.response=u,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ja(u)}t.setRequestHeader=function(u,f){this.A.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function sv(u){let f="";return U(u,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function $h(u,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=sv(g),typeof u=="string"?g!=null&&Pa(g):Me(u,f,g))}function Ye(u){Ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ye,Ie);var uC=/^https?$/i,cC=["POST","PUT"];t=Ye.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(V){iv(this,V);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)g.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())g.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(cC,f,void 0)>=0)||b||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,K]of g)this.g.setRequestHeader(V,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(V){iv(this,V)}};function iv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.o=5,ov(u),Ou(u)}function ov(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?av(this):this.Xa())},t.Xa=function(){av(this)};function av(u){if(u.h&&typeof i<"u"){if(u.v&&ds(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),ds(u)==4){u.h=!1;try{const V=u.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=V===0){let K=String(u.D).match(Yy)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),b=!uC.test(K?K.toLowerCase():"")}g=b}if(g)De(u,"complete"),De(u,"success");else{u.o=6;try{var M=ds(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",ov(u)}}finally{Ou(u)}}}}function Ou(u,f){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,f||De(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ds(u){return u.g?u.g.readyState:0}t.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),gi(f)}};function lv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dC(u){const f={};u=(u.g&&ds(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(k(u[b]))continue;var g=Qb(u[b]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[M]||[];f[M]=V,V.push(g)}q(f,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function uv(u){this.za=0,this.i=[],this.j=new se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fa("baseRetryDelayMs",5e3,u),this.Za=Fa("retryDelaySeedMs",1e4,u),this.Ta=Fa("forwardChannelMaxRetries",2,u),this.va=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wy(u&&u.concurrentRequestLimit),this.Ba=new lC,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=uv.prototype,t.ka=8,t.I=1,t.connect=function(u,f,g,b){Qe(0),this.W=u,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=vv(this,null,this.W),Lu(this)};function Bh(u){if(cv(u),u.I==3){var f=u.V++,g=or(u.J);if(Me(g,"SID",u.M),Me(g,"RID",f),Me(g,"TYPE","terminate"),Ua(u,g),f=new ls(u,u.j,f),f.M=2,f.A=ku(or(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.A,g=!0),g||(f.g=wv(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Pu(f)}yv(u)}function Du(u){u.g&&(Wh(u),u.g.cancel(),u.g=null)}function cv(u){Du(u),u.v&&(o.clearTimeout(u.v),u.v=null),Mu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Lu(u){if(!qy(u.h)&&!u.m){u.m=!0;var f=u.Ea;D||S(),L||(D(),L=!0),I.add(f,u),u.D=0}}function hC(u,f){return Ky(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=f.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Nr(c(u.Ea,u,f),gv(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new ls(this,this.j,u);let V=this.o;if(this.U&&(V?(V=te(V),oe(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=hv(this,M,f),g=or(this.J),Me(g,"RID",u),Me(g,"CVER",22),this.G&&Me(g,"X-HTTP-Session-Id",this.G),Ua(this,g),V&&(this.R?f="headers="+Pa(sv(V))+"&"+f:this.u&&$h(g,this.u,V)),Fh(this.h,M),this.Ra&&Me(g,"TYPE","init"),this.S?(Me(g,"$req",f),Me(g,"SID","null"),M.U=!0,Lh(M,g,null)):Lh(M,g,f),this.I=2}}else this.I==3&&(u?dv(this,u):this.i.length==0||qy(this.h)||dv(this))};function dv(u,f){var g;f?g=f.l:g=u.V++;const b=or(u.J);Me(b,"SID",u.M),Me(b,"RID",g),Me(b,"AID",u.K),Ua(u,b),u.u&&u.o&&$h(b,u.u,u.o),g=new ls(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),f&&(u.i=f.G.concat(u.i)),f=hv(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Fh(u.h,g),Lh(g,b,f)}function Ua(u,f){u.H&&U(u.H,function(g,b){Me(f,b,g)}),u.l&&U({},function(g,b){Me(f,b,g)})}function hv(u,f,g){g=Math.min(u.i.length,g);const b=u.l?c(u.l.Ka,u.l,u):null;e:{var M=u.i;let pe=-1;for(;;){const ut=["count="+g];pe==-1?g>0?(pe=M[0].g,ut.push("ofs="+pe)):pe=0:ut.push("ofs="+pe);let ke=!0;for(let vt=0;vt<g;vt++){var V=M[vt].g;const ar=M[vt].map;if(V-=pe,V<0)pe=Math.max(0,M[vt].g-100),ke=!1;else try{V="req"+V+"_"||"";try{var K=ar instanceof Map?ar:Object.entries(ar);for(const[Ei,hs]of K){let fs=hs;a(hs)&&(fs=mi(hs)),ut.push(V+Ei+"="+encodeURIComponent(fs))}}catch(Ei){throw ut.push(V+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(ar)}}if(ke){K=ut.join("&");break e}}K=void 0}return u=u.i.splice(0,g),f.G=u,K}function fv(u){if(!u.g&&!u.v){u.Y=1;var f=u.Da;D||S(),L||(D(),L=!0),I.add(f,u),u.A=0}}function Hh(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Nr(c(u.Da,u),gv(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,pv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Nr(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qe(10),Du(this),pv(this))};function Wh(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function pv(u){u.g=new ls(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var f=or(u.na);Me(f,"RID","rpc"),Me(f,"SID",u.M),Me(f,"AID",u.K),Me(f,"CI",u.F?"0":"1"),!u.F&&u.ia&&Me(f,"TO",u.ia),Me(f,"TYPE","xmlhttp"),Ua(u,f),u.u&&u.o&&$h(f,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=ku(or(f)),g.u=null,g.R=!0,$y(g,u)}t.Va=function(){this.C!=null&&(this.C=null,Du(this),Hh(this),Qe(19))};function Mu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function mv(u,f){var g=null;if(u.g==f){Mu(u),Wh(u),u.g=null;var b=2}else if(jh(u.h,f))g=f.G,Gy(u.h,f),b=1;else return;if(u.I!=0){if(f.o)if(b==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var M=u.D;b=os(),De(b,new tn(b,g)),Lu(u)}else fv(u);else if(M=f.m,M==3||M==0&&f.X>0||!(b==1&&hC(u,f)||b==2&&Hh(u)))switch(g&&g.length>0&&(f=u.h,f.i=f.i.concat(g)),M){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function gv(u,f){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*f}function _i(u,f){if(u.j.info("Error code "+f),f==2){var g=c(u.bb,u),b=u.Ua;const M=!b;b=new us(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Na(b,"https"),ku(b),M?oC(b.toString(),g):aC(b.toString(),g)}else Qe(2);u.I=0,u.l&&u.l.pa(f),yv(u),cv(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function yv(u){if(u.I=0,u.ja=[],u.l){const f=Qy(u.h);(f.length!=0||u.i.length!=0)&&(T(u.ja,f),T(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function vv(u,f,g){var b=g instanceof us?or(g):new us(g);if(b.g!="")f&&(b.g=f+"."+b.g),Oa(b,b.u);else{var M=o.location;b=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const V=new us(null);b&&Na(V,b),f&&(V.g=f),M&&Oa(V,M),g&&(V.h=g),b=V}return g=u.G,f=u.wa,g&&f&&Me(b,g,f),Me(b,"VER",u.ka),Ua(u,b),b}function wv(u,f,g){if(f&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Aa&&!u.ma?new Ye(new zh({ab:g})):new Ye(u.ma),f.Fa(u.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _v(){}t=_v.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vu(){}Vu.prototype.g=function(u,f){return new gn(u,f)};function gn(u,f){Ie.call(this),this.g=new uv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(u?u["X-WebChannel-Client-Profile"]=f.sa:u={"X-WebChannel-Client-Profile":f.sa}),this.g.U=u,(u=f&&f.Qb)&&!k(u)&&(this.g.u=u),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!k(f)&&(this.g.G=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new fo(this)}h(gn,Ie),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Bh(this.g)},gn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=mi(u),u=g);f.i.push(new Jb(f.Ya++,u)),f.I==3&&Lu(f)},gn.prototype.N=function(){this.g.l=null,delete this.j,Bh(this.g),delete this.g,gn.Z.N.call(this)};function Ev(u){Cn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}h(Ev,Cn);function Tv(){is.call(this),this.status=1}h(Tv,is);function fo(u){this.g=u}h(fo,_v),fo.prototype.ra=function(){De(this.g,"a")},fo.prototype.qa=function(u){De(this.g,new Ev(u))},fo.prototype.pa=function(u){De(this.g,new Tv)},fo.prototype.oa=function(){De(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,NS=function(){return new Vu},kS=function(){return os()},PS=Mt,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,kc=An,nn.COMPLETE="complete",RS=nn,kr.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,rl=kr,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,AS=Ye}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",L_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Kg("@firebase/firestore");function mo(){return Xi.logLevel}function G(t,...e){if(Xi.logLevel<=ye.DEBUG){const n=e.map(Yg);Xi.debug(`Firestore (${Sa}): ${t}`,...n)}}function Jr(t,...e){if(Xi.logLevel<=ye.ERROR){const n=e.map(Yg);Xi.error(`Firestore (${Sa}): ${t}`,...n)}}function la(t,...e){if(Xi.logLevel<=ye.WARN){const n=e.map(Yg);Xi.warn(`Firestore (${Sa}): ${t}`,...n)}}function Yg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OS(t,r,n)}function OS(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Jr(r),new Error(r)}function Ce(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||OS(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class iV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oV{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Br,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Br)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new DS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class aV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=cV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function sm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Of(s)===Of(i)?ve(s,i):Of(s)?1:-1}return ve(t.length,e.length)}const dV=55296,hV=57343;function Of(t){const e=t.charCodeAt(0);return e>=dV&&e<=hV}function ua(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=cr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=cr.isNumericId(e),s=cr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?cr.extractNumericId(e).compare(cr.extractNumericId(n)):sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class Fe extends cr{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const fV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends cr{construct(e,n,r){return new Pt(e,n,r)}static isValidIdentifier(e){return fV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new Pt([V_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Fe.fromString(e))}static fromName(e){return new re(Fe.fromString(e).popFirst(5))}static empty(){return new re(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pV(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j_(t){if(!re.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F_(t){if(re.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!MS(t))throw new Z(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Z(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,z_=1e6;class Ue{static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z_);return new Ue(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U_)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,Ue._jsonSchema))return new Ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ue._jsonSchemaVersion="firestore/timestamp/1.0",Ue._jsonSchema={type:ot("string",Ue._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Ue(0,0))}static max(){return new de(new Ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function mV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new si(s,re.empty(),e)}function gV(t){return new si(t.readTime,t.key,Xl)}class si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new si(de.min(),re.empty(),Xl)}static max(){return new si(de.max(),re.empty(),Xl)}}function yV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==vV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function _V(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-1;function yh(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="";function TV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$_(e)),e=xV(t.get(n),e);return $_(e)}function xV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case VS:n+="";break;default:n+=i}}return n}function $_(t){return t+VS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new mt(Pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new FS("Invalid base64 string: "+i):i}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const SV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=SV.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="server_timestamp",zS="__type__",$S="__previous_value__",BS="__local_write_time__";function ey(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zS])==null?void 0:r.stringValue)===US}function vh(t){const e=t.mapValue.fields[$S];return ey(e)?vh(e):e}function Jl(t){const e=ii(t.mapValue.fields[BS].timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Td="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Td}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__type__",bV="__max__",cc={mapValue:{}},WS="__vector__",xd="value";function ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:AV(t)?9007199254740991:CV(t)?10:11:ae(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=ai(t);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ii(s.timestampValue),a=ii(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return oi(s.bytesValue).isEqual(oi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?Ed(o)===Ed(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(B_(o)!==B_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function eu(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function da(t,e){if(t===e)return 0;const n=ai(t),r=ai(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return W_(t.timestampValue,e.timestampValue);case 4:return W_(Jl(t),Jl(e));case 5:return sm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=oi(i),l=oi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ve(a[c],l[c]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(nt(i.latitude),nt(o.latitude));return a!==0?a:ve(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,T,_;const a=i.fields||{},l=o.fields||{},c=(p=a[xd])==null?void 0:p.arrayValue,d=(m=l[xd])==null?void 0:m.arrayValue,h=ve(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:q_(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===cc.mapValue&&o===cc.mapValue)return 0;if(i===cc.mapValue)return 1;if(o===cc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=sm(l[h],d[h]);if(p!==0)return p;const m=da(a[l[h]],c[d[h]]);if(m!==0)return m}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function W_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ii(t),r=ii(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function q_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=da(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function ha(t){return im(t)}function im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=im(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${im(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Nc(t){switch(ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(t);return e?16+Nc(e):16;case 5:return 2*t.stringValue.length;case 6:return oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Nc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return io(r.fields,(i,o)=>{s+=i.length+Nc(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function om(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function K_(t){return!!t&&"nullValue"in t}function G_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oc(t){return!!t&&"mapValue"in t}function CV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HS])==null?void 0:r.stringValue)===WS}function wl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return{...t}}function AV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=wl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Oc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){io(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(wl(this.value))}}function qS(t){const e=[];return io(t.fields,(n,r)=>{const s=new Pt([n]);if(Oc(r)){const i=qS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),de.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),de.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),de.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=da(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function RV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{}class ft extends KS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kV(e,n,r):n==="array-contains"?new DV(e,r):n==="in"?new LV(e,r):n==="not-in"?new MV(e,r):n==="array-contains-any"?new VV(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NV(e,r):new OV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(da(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends KS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ar(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GS(t){return t.op==="and"}function QS(t){return PV(t)&&GS(t)}function PV(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function am(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(QS(t))return t.filters.map(e=>am(e)).join(",");{const e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function YS(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&YS(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function XS(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${ha(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(XS).join(" ,")+"}"}(t):"Filter"}class kV extends ft{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class NV extends ft{constructor(e,n){super(e,"in",n),this.keys=JS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OV extends ft{constructor(e,n){super(e,"not-in",n),this.keys=JS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class DV extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ty(n)&&eu(n.arrayValue,this.value)}}class LV extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class MV extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class VV extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function X_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new jV(t,e,n,r,s,i,o)}function ny(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.Te=n}return e.Te}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y_(t.startAt,e.startAt)&&Y_(t.endAt,e.endAt)}function lm(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FV(t,e,n,r,s,i,o,a){return new wh(t,e,n,r,s,i,o,a)}function sy(t){return new wh(t)}function J_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UV(t){return t.collectionGroup!==null}function _l(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(Pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Id(i,r))}),n.has(Pt.keyField().canonicalString())||e.Ie.push(new Id(Pt.keyField(),r))}return e.Ie}function _r(t){const e=he(t);return e.Ee||(e.Ee=zV(e,_l(t))),e.Ee}function zV(t,e){if(t.limitType==="F")return X_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Id(s.field,i)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return X_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e,n){return new wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return ry(_r(t),_r(e))&&t.limitType===e.limitType}function ZS(t){return`${ny(_r(t))}|lt:${t.limitType}`}function go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XS(s)).join(", ")}]`),yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ha(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ha(s)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _l(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Q_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_l(r),s)||r.endAt&&!function(o,a,l){const c=Q_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_l(r),s))}(t,e)}function $V(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eI(t){return(e,n)=>{let r=!1;for(const s of _l(t)){const i=BV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BV(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?da(l,c):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new Ke(re.comparator);function Zr(){return HV}const tI=new Ke(re.comparator);function sl(...t){let e=tI;for(const n of t)e=e.insert(n.key,n);return e}function nI(t){let e=tI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return El()}function rI(){return El()}function El(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const WV=new Ke(re.comparator),qV=new mt(re.comparator);function we(...t){let e=qV;for(const n of t)e=e.add(n);return e}const KV=new mt(ve);function GV(){return KV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function sI(t){return{integerValue:""+t}}function QV(t,e){return EV(e)?sI(e):iy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function YV(t,e,n){return t instanceof tu?function(s,i){const o={fields:{[zS]:{stringValue:US},[BS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ey(i)&&(i=vh(i)),i&&(o.fields[$S]=i),{mapValue:o}}(n,e):t instanceof nu?oI(t,e):t instanceof ru?aI(t,e):function(s,i){const o=iI(s,i),a=Z_(o)+Z_(s.Ae);return om(o)&&om(s.Ae)?sI(a):iy(s.serializer,a)}(t,e)}function XV(t,e,n){return t instanceof nu?oI(t,e):t instanceof ru?aI(t,e):n}function iI(t,e){return t instanceof bd?function(r){return om(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tu extends Th{}class nu extends Th{constructor(e){super(),this.elements=e}}function oI(t,e){const n=lI(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ru extends Th{constructor(e){super(),this.elements=e}}function aI(t,e){let n=lI(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class bd extends Th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z_(t){return nt(t.integerValue||t.doubleValue)}function lI(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.field=e,this.transform=n}}function ZV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nu&&s instanceof nu||r instanceof ru&&s instanceof ru?ua(r.elements,s.elements,Cr):r instanceof bd&&s instanceof bd?Cr(r.Ae,s.Ae):r instanceof tu&&s instanceof tu}(t.transform,e.transform)}class e4{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function uI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dI(t.key,Hr.none()):new xu(t.key,t.data,Hr.none());{const n=t.data,r=Nn.empty();let s=new mt(Pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ao(t.key,r,new Gn(s.toArray()),Hr.none())}}function t4(t,e,n){t instanceof xu?function(s,i,o){const a=s.value.clone(),l=t0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ao?function(s,i,o){if(!Dc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=t0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(cI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,r){return t instanceof xu?function(i,o,a,l){if(!Dc(i.precondition,o))return a;const c=i.value.clone(),d=n0(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ao?function(i,o,a,l){if(!Dc(i.precondition,o))return a;const c=n0(i.fieldTransforms,l,o),d=o.data;return d.setAll(cI(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Dc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function n4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iI(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function e0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ua(r,s,(i,o)=>ZV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends xh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ao extends xh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t0(t,e,n){const r=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,XV(o,a,n[s]))}return r}function n0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,YV(i,o,e))}return r}class dI extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r4 extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&t4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=uI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>e0(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>e0(n,r))}}class oy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return WV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new oy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Te;function a4(t){switch(t){case B.OK:return ae(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function hI(t){if(t===void 0)return Jr("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return ae(39323,{code:t})}}(Te=st||(st={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Qs([4294967295,4294967295],0);function r0(t){const e=l4().encode(t),n=new CS;return n.update(e),new Uint8Array(n.digest())}function s0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([s,i],0)]}class ay{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qs.fromNumber(r)));return s.compare(u4)===1&&(s=new Qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=r0(e),[r,s]=s0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ay(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=r0(e),[r,s]=s0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(de.min(),s,new Ke(ve),Zr(),we())}}class Su{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Su(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fI{constructor(e,n){this.targetId=e,this.Ce=n}}class pI{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class i0{constructor(){this.ve=0,this.Fe=o0(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new Su(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=o0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=dc(),this.He=dc(),this.Ye=new Ke(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(lm(i))if(r===0){const o=new re(i.path);this.et(n,o,Bt.newNoDocument(o,de.min()))}else Ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=oi(r).toUint8Array()}catch(l){if(l instanceof FS)return la("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ay(o,s,i)}catch(l){return la(l instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&lm(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Bt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=we();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Sh(e,n,this.Ye,this.je,r);return this.je=Zr(),this.Je=dc(),this.He=dc(),this.Ye=new Ke(ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new i0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dc(){return new Ke(re.comparator)}function o0(){return new Ke(re.comparator)}const d4={asc:"ASCENDING",desc:"DESCENDING"},h4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f4={and:"AND",or:"OR"};class p4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cm(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function Cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m4(t,e){return Cd(t,e.toTimestamp())}function Er(t){return Ce(!!t,49232),de.fromTimestamp(function(n){const r=ii(n);return new Ue(r.seconds,r.nanos)}(t))}function ly(t,e){return dm(t,e).canonicalString()}function dm(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gI(t){const e=Fe.fromString(t);return Ce(EI(e),10190,{key:e.toString()}),e}function hm(t,e){return ly(t.databaseId,e.path)}function Df(t,e){const n=gI(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(vI(n))}function yI(t,e){return ly(t.databaseId,e)}function g4(t){const e=gI(t);return e.length===4?Fe.emptyPath():vI(e)}function fm(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vI(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a0(t,e,n){return{name:hm(t,e),fields:n.value.mapValue.fields}}function y4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),Ot.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:hI(c.code);return new Z(d,c.message||"")}(o);n=new pI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Df(t,r.document.name),i=Er(r.document.updateTime),o=r.document.createTime?Er(r.document.createTime):de.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Lc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Df(t,r.document),i=r.readTime?Er(r.readTime):de.min(),o=Bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Lc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Df(t,r.document),i=r.removedTargetIds||[];n=new Lc([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new o4(s,i),a=r.targetId;n=new fI(a,o)}}return n}function v4(t,e){let n;if(e instanceof xu)n={update:a0(t,e.key,e.value)};else if(e instanceof dI)n={delete:hm(t,e.key)};else if(e instanceof ao)n={update:a0(t,e.key,e.data),updateMask:C4(e.fieldMask)};else{if(!(e instanceof r4))return ae(16599,{Vt:e.type});n={verify:hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ru)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:m4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function w4(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Er(s.updateTime):Er(i);return o.isEqual(de.min())&&(o=Er(i)),new e4(o,s.transformResults||[])}(n,e))):[]}function _4(t,e){return{documents:[yI(t,e.path)]}}function E4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yI(t,s);const i=function(c){if(c.length!==0)return _I(Ar.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:yo(p.field),direction:S4(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function T4(t){let e=g4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=wI(h);return p instanceof Ar&&QS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new Id(vo(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,yh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new Sd(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Sd(m,p)}(n.endAt)),FV(e,s,o,i,a,"F",l,c)}function x4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(vo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>wI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function S4(t){return d4[t]}function I4(t){return h4[t]}function b4(t){return f4[t]}function yo(t){return{fieldPath:t.canonicalString()}}function vo(t){return Pt.fromServerFormat(t.fieldPath)}function _I(t){return t instanceof ft?function(n){if(n.op==="=="){if(G_(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(K_(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G_(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(K_(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:I4(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(s=>_I(s));return r.length===1?r[0]:{compositeFilter:{op:b4(n.op),filters:r}}}(t):ae(54877,{filter:t})}function C4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,s,i=de.min(),o=de.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.yt=e}}function R4(t){const e=T4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Cn=new k4}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(si.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class k4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TI=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(TI,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fa(0)}static cr(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LruGarbageCollector",N4=1048576;function c0([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class O4{constructor(e){this.Ir=e,this.buffer=new mt(c0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(u0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?G(u0,"Ignoring IndexedDB error during garbage collection: ",n):await Ia(n)}await this.Vr(3e5)})}}class L4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(gh.ce);const r=new O4(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(l0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),mo()<=ye.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function M4(t,e){return new L4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Tl(r.mutation,s,Gn.empty(),Ue.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Zr();const o=El(),a=function(){return El()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ao)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Tl(d.mutation,c,d.mutation.getFieldMask(),Ue.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new j4(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=El();let s=new Ke((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Gn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=rI();d.forEach(p=>{if(!i.has(p)){const m=uI(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ai());let a=Xl,l=i;return o.next(c=>$.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,we())).next(d=>({batchId:a,changes:nI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(h,p){return new wh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Bt.newInvalidDocument(d)))});let a=sl();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Tl(d.mutation,c,Gn.empty(),Ue.now()),Eh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:R4(s.bundledQuery),readTime:Er(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.overlays=new Ke(re.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ai(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new i4(n,r));let i=this.qr.get(n);i===void 0&&(i=we(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.Qr=new mt(_t.$r),this.Ur=new mt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Fe([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Fe([])),r=new _t(n,e),s=new _t(n,e+1);let i=we();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mt(_t.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new s4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ve);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new _t(new re(i),0);let a=new mt(ve);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.ri=e,this.docs=function(){return new Ke(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Zr();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yV(gV(d),r)<=0||(s.has(d.key)||Eh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W4(this)}getSize(e){return $.resolve(this.size)}}class W4 extends V4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.persistence=e,this.si=new oo(n=>ny(n),ry),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new uy,this.targetCount=0,this.ai=fa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new $4,this.referenceDelegate=e(this),this.Pi=new q4(this),this.indexManager=new P4,this.remoteDocumentCache=function(s){return new H4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new A4(n),this.Ii=new U4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new B4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new K4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class K4 extends wV{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Ri=new uy,this.Vi=null}static mi(e){return new cy(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.pi=new oo(r=>TV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=M4(this,n)}static mi(e,n){return new Ad(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nc(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return UL()?8:_V(Wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new G4;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(mo()<=ye.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(mo()<=ye.DEBUG&&G("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(mo()<=ye.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):$.resolve())}ys(e,n){if(J_(n))return $.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=um(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,um(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return J_(n)||s.isEqual(de.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(mo()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),go(n)),this.vs(e,o,n,mV(s,Xl)).next(a=>a))})}Ds(e,n){let r=new mt(eI(e));return n.forEach((s,i)=>{Eh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return mo()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",go(n)),this.ps.getDocumentsMatchingQuery(e,n,si.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",Y4=3e8;class X4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ke(ve),this.xs=new oo(i=>ny(i),ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function J4(t,e,n,r){return new X4(t,e,n,r)}async function SI(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Z4(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=$.resolve();return p.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(_=>{const E=c.docVersions.get(T);Ce(E!==null,48541),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function II(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ej(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(_,E,v){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Y4?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=Zr(),c=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(tj(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(de.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function tj(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Zr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(hy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function nj(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Zg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rj(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function pm(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ba(o))throw o;G(hy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function d0(t,e,n){const r=he(t);let s=de.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=he(l),p=h.xs.get(d);return p!==void 0?$.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,o,_r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:we())).next(a=>(sj(r,$V(e),a),{documents:a,Qs:i})))}function sj(t,e,n){let r=t.Os.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class h0{constructor(){this.activeTargetIds=GV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ij{constructor(){this.Mo=new h0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="ConnectivityMonitor";class p0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(f0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(f0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function mm(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",aj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Td?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=mm(),a=this.zo(e,n.toUriEncodedString());G(Lf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=pi(c);return this.Jo(e,a,l,r,d).then(h=>(G(Lf,`Received RPC '${e}' ${o}: `,h),h),h=>{throw la(Lf,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=aj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class cj extends lj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=mm();return new Promise((a,l)=>{const c=new AS;c.setWithCredentials(!0),c.listenOnce(RS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kc.NO_ERROR:const h=c.getResponseJson();G(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case kc.TIMEOUT:G(Ut,`RPC '${e}' ${o} timed out`),l(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const p=c.getStatus();if(G(Ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(T.status);l(new Z(_,T.message))}else l(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{G(Ut,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(Ut,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=mm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NS(),a=kS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(Ut,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,m=!1;const T=new uj({Yo:E=>{m?G(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(G(Ut,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),G(Ut,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),_=(E,v,y)=>{E.listen(v,x=>{try{y(x)}catch(N){setTimeout(()=>{throw N},0)}})};return _(h,rl.EventType.OPEN,()=>{m||(G(Ut,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),_(h,rl.EventType.CLOSE,()=>{m||(m=!0,G(Ut,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(h))}),_(h,rl.EventType.ERROR,E=>{m||(m=!0,la(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),_(h,rl.EventType.MESSAGE,E=>{var v;if(!m){const y=E.data[0];Ce(!!y,16349);const x=y,N=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(N){G(Ut,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let L=function(C){const P=st[C];if(P!==void 0)return hI(P)}(D),I=N.message;L===void 0&&(L=B.INTERNAL,I="Unknown error status: "+D+" with message "+N.message),m=!0,T.a_(new Z(L,I)),h.close()}else G(Ut,`RPC '${e}' stream ${s} received:`,y),T.u_(y)}}),_(a,PS.STAT_EVENT,E=>{E.stat===rm.PROXY?G(Ut,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===rm.NOPROXY&&G(Ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new p4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="PersistentStream";class CI{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(m0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(m0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dj extends CI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=y4(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Er(o.readTime):de.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=lm(l)?{documents:_4(i,l)}:{query:E4(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mI(i,o.resumeToken);const c=cm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Cd(i,o.snapshotVersion.toTimestamp());const c=cm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=x4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.q_(n)}}class hj extends CI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=w4(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{}class pj extends fj{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,dm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,dm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="RemoteStore";class gj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{lo(this)&&(G(Ji,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.Ea.add(4),await Iu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await bh(c)}(this))})}),this.Ra=new mj(r,s)}}async function bh(t){if(lo(t))for(const e of t.da)await e(!0)}async function Iu(t){for(const e of t.da)await e(!1)}function AI(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gy(n)?my(n):Ca(n).O_()&&py(n,e))}function fy(t,e){const n=he(t),r=Ca(n);n.Ia.delete(e),r.O_()&&RI(n,e),n.Ia.size===0&&(r.O_()?r.L_():lo(n)&&n.Ra.set("Unknown"))}function py(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).Y_(e)}function RI(t,e){t.Va.Ue(e),Ca(t).Z_(e)}function my(t){t.Va=new c4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Ra.ua()}function gy(t){return lo(t)&&!Ca(t).x_()&&t.Ia.size>0}function lo(t){return he(t).Ea.size===0}function PI(t){t.Va=void 0}async function yj(t){t.Ra.set("Online")}async function vj(t){t.Ia.forEach((e,n)=>{py(t,e)})}async function wj(t,e){PI(t),gy(t)?(t.Ra.ha(e),my(t)):t.Ra.set("Unknown")}async function _j(t,e,n){if(t.Ra.set("Online"),e instanceof pI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rd(t,r)}else if(e instanceof Lc?t.Va.Ze(e):e instanceof fI?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const r=await II(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Ot.EMPTY_BYTE_STRING,d.snapshotVersion)),RI(i,l);const h=new Vs(d.target,l,c,d.sequenceNumber);py(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Ji,"Failed to raise snapshot:",r),await Rd(t,r)}}async function Rd(t,e,n){if(!ba(e))throw e;t.Ea.add(1),await Iu(t),t.Ra.set("Offline"),n||(n=()=>II(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Ji,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bh(t)})}function kI(t,e){return e().catch(n=>Rd(t,n,e))}async function Ch(t){const e=he(t),n=li(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zg;for(;Ej(e);)try{const s=await nj(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Tj(e,s)}catch(s){await Rd(e,s)}NI(e)&&OI(e)}function Ej(t){return lo(t)&&t.Ta.length<10}function Tj(t,e){t.Ta.push(e);const n=li(t);n.O_()&&n.X_&&n.ea(e.mutations)}function NI(t){return lo(t)&&!li(t).x_()&&t.Ta.length>0}function OI(t){li(t).start()}async function xj(t){li(t).ra()}async function Sj(t){const e=li(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ij(t,e,n){const r=t.Ta.shift(),s=oy.from(r,e,n);await kI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ch(t)}async function bj(t,e){e&&li(t).X_&&await async function(r,s){if(function(o){return a4(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();li(r).B_(),await kI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ch(r)}}(t,e),NI(t)&&OI(t)}async function g0(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),G(Ji,"RemoteStore received new credentials");const r=lo(n);n.Ea.add(3),await Iu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bh(n)}async function Cj(t,e){const n=he(t);e?(n.Ea.delete(2),await bh(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Ca(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new dj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:yj.bind(null,t),t_:vj.bind(null,t),r_:wj.bind(null,t),H_:_j.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),gy(t)?my(t):t.Ra.set("Unknown")):(await t.ma.stop(),PI(t))})),t.ma}function li(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new hj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xj.bind(null,t),r_:bj.bind(null,t),ta:Sj.bind(null,t),na:Ij.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ch(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Ji,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new yy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(t,e){if(Jr("AsyncQueue",`${e}: ${t}`),ba(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.ga=new Ke(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pa(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Rj{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=v0(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function v0(){return new oo(t=>ZS(t),_h)}async function DI(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Aj,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=vy(o,`Initialization of query '${go(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&wy(n)}async function LI(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pj(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&wy(n)}function kj(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function wy(t){t.Ca.forEach(e=>{e.next()})}var gm,w0;(w0=gm||(gm={})).Ma="default",w0.Cache="cache";class MI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.key=e}}class jI{constructor(e){this.key=e}}class Nj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=eI(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new y0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=Eh(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?T!==_&&(r.track({type:3,doc:m}),E=!0):this.su(p,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(m?(o=o.add(m),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,T){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:E})}};return _(m)-_(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new pa(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _y="SyncEngine";class Oj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dj{constructor(e){this.key=e,this.hu=!1}}class Lj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new oo(a=>ZS(a),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(re.comparator),this.Au=new Map,this.Ru=new uy,this.Vu={},this.mu=new Map,this.fu=fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mj(t,e,n=!0){const r=HI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await FI(r,e,n,!0),s}async function Vj(t,e){const n=HI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,r){const s=await rj(t.localStore,_r(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await jj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,s),a}async function jj(t,e,n,r,s){t.pu=(h,p,m)=>async function(_,E,v,y){let x=E.view.ru(v);x.Cs&&(x=await d0(_.localStore,E.query,!1).then(({documents:I})=>E.view.ru(I,x)));const N=y&&y.targetChanges.get(E.targetId),D=y&&y.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(x,_.isPrimaryClient,N,D);return E0(_,E.targetId,L.au),L.snapshot}(t,h,p,m);const i=await d0(t.localStore,e,!0),o=new Nj(e,i.Qs),a=o.ru(i.documents),l=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);E0(t,n,c.au);const d=new Oj(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Fj(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!_h(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&fy(r.remoteStore,s.targetId),ym(r,s.targetId)}).catch(Ia)):(ym(r,s.targetId),await pm(r.localStore,s.targetId,!0))}async function Uj(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fy(n.remoteStore,r.targetId))}async function zj(t,e,n){const r=Gj(t);try{const s=await function(o,a){const l=he(o),c=Ue.now(),d=a.reduce((m,T)=>m.add(T.key),we());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Zr(),_=we();return l.Ns.getEntries(m,d).next(E=>{T=E,T.forEach((v,y)=>{y.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(E=>{h=E;const v=[];for(const y of a){const x=n4(y,h.get(y.key).overlayedDocument);x!=null&&v.push(new ao(y.key,x,qS(x.value.mapValue),Hr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,v,a)}).next(E=>{p=E;const v=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,v)})}).then(()=>({batchId:p.batchId,changes:nI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ke(ve)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await bu(r,s.changes),await Ch(r.remoteStore)}catch(s){const i=vy(s,"Failed to persist write");n.reject(i)}}async function UI(t,e){const n=he(t);try{const r=await ej(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ce(o.hu,14607):s.removedDocuments.size>0&&(Ce(o.hu,42227),o.hu=!1))}),await bu(n,r,e)}catch(r){await Ia(r)}}function _0(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&wy(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $j(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ke(re.comparator);o=o.insert(i,Bt.newNoDocument(i,de.min()));const a=we().add(i),l=new Sh(de.min(),new Map,new Ke(ve),o,a);await UI(r,l),r.du=r.du.remove(i),r.Au.delete(e),Ey(r)}else await pm(r.localStore,e,!1).then(()=>ym(r,e,n)).catch(Ia)}async function Bj(t,e){const n=he(t),r=e.batch.batchId;try{const s=await Z4(n.localStore,e);$I(n,r,null),zI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,s)}catch(s){await Ia(s)}}async function Hj(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ce(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);$I(r,e,n),zI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,s)}catch(s){await Ia(s)}}function zI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $I(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||BI(t,r)})}function BI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ey(t))}function E0(t,e,n){for(const r of n)r instanceof VI?(t.Ru.addReference(r.key,e),Wj(t,r)):r instanceof jI?(G(_y,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BI(t,r.key)):ae(19791,{wu:r})}function Wj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(_y,"New document in limbo: "+n),t.Eu.add(r),Ey(t))}function Ey(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Fe.fromString(e)),r=t.fu.next();t.Au.set(r,new Dj(n)),t.du=t.du.insert(n,r),AI(t.remoteStore,new Vs(_r(sy(n.path)),r,"TargetPurposeLimboResolution",gh.ce))}}async function bu(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=dy.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=he(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,p=>$.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>$.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!ba(h))throw h;G(hy,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.Ms.get(p),T=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function qj(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){G(_y,"User change. New user:",e.toKey());const r=await SI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.Ls)}}function Kj(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function HI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$j.bind(null,e),e.Pu.H_=Pj.bind(null,e.eventManager),e.Pu.yu=kj.bind(null,e.eventManager),e}function Gj(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hj.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return J4(this.persistence,new Q4,e.initialUser,this.serializer)}Cu(e){return new xI(cy.mi,this.serializer)}Du(e){return new ij}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Qj extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new xI(r=>Ad.mi(r,n),this.serializer)}}class vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qj.bind(null,this.syncEngine),await Cj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rj}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),r=function(i){return new cj(i)}(e.databaseInfo);return function(i,o,a,l){return new pj(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new gj(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_0(this.syncEngine,n,0),function(){return p0.v()?new p0:new oj}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new Lj(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);G(Ji,"RemoteStore shutting down."),i.Ea.add(5),await Iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class Yj{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=Xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(ui,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vf(t,e){t.asyncQueue.verifyOperationInProgress(),G(ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function T0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Xj(t);G(ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>g0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>g0(e.remoteStore,s)),t._onlineComponents=e}async function Xj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ui,"Using user provided OfflineComponentProvider");try{await Vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Vf(t,new Pd)}}else G(ui,"Using default OfflineComponentProvider"),await Vf(t,new Qj(void 0));return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ui,"Using user provided OnlineComponentProvider"),await T0(t,t._uninitializedComponentsProvider._online)):(G(ui,"Using default OnlineComponentProvider"),await T0(t,new vm))),t._onlineComponents}function Jj(t){return qI(t).then(e=>e.syncEngine)}async function KI(t){const e=await qI(t),n=e.eventManager;return n.onListen=Mj.bind(null,e.syncEngine),n.onUnlisten=Fj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Uj.bind(null,e.syncEngine),n}function Zj(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new WI({next:p=>{d.Nu(),o.enqueueAndForget(()=>LI(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new MI(sy(a.path),d,{includeMetadataChanges:!0,qa:!0});return DI(i,h)}(await KI(t),t.asyncQueue,e,n,r)),r.promise}function eF(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new WI({next:p=>{d.Nu(),o.enqueueAndForget(()=>LI(i,h)),p.fromCache&&l.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new MI(a,d,{includeMetadataChanges:!0,qa:!0});return DI(i,h)}(await KI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firestore.googleapis.com",S0=!0;class I0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QI,this.ssl=S0}else this.host=e.host,this.ssl=e.ssl??S0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N4)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sV;switch(r.type){case"firstParty":return new lV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x0.get(n);r&&(G("ComponentProvider","Removing Datastore"),x0.delete(n),r.terminate())}(this),Promise.resolve()}}function tF(t,e,n,r={}){var c;t=ca(t,Ah);const s=pi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Wg(`https://${a}`),qg("Firestore",!0)),i.host!==QI&&i.host!==a&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Qi(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=zt.MOCK_USER;else{d=ES(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zt(p)}t._authCredentials=new iV(new DS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rh(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,Tt._jsonSchema))return new Tt(e,r||null,new re(Fe.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:ot("string",Tt._jsonSchemaVersion),referencePath:ot("string")};class Ys extends Rh{constructor(e,n,r){super(e,n,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new re(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Ty(t,e,...n){if(t=dn(t),LS("collection","path",e),t instanceof Ah){const r=Fe.fromString(e,...n);return F_(r),new Ys(t,null,r)}{if(!(t instanceof Tt||t instanceof Ys))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return F_(r),new Ys(t.firestore,null,r)}}function xy(t,e,...n){if(t=dn(t),arguments.length===1&&(e=Xg.newId()),LS("doc","path",e),t instanceof Ah){const r=Fe.fromString(e,...n);return j_(r),new Tt(t,null,new re(r))}{if(!(t instanceof Tt||t instanceof Ys))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return j_(r),new Tt(t.firestore,t instanceof Ys?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class C0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bI(this,"async_queue_retry"),this._c=()=>{const r=Mf();r&&G(b0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Br;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;G(b0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",A0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=yy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:A0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ph extends Ah{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new C0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C0(e),this._firestoreClient=void 0,await e}}}function nF(t,e){const n=typeof t=="object"?t:Qg(),r=typeof t=="string"?t:Td,s=mh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vS("firestore");i&&tF(s,...i)}return s}function Sy(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rF(t),t._firestoreClient}function rF(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new IV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Yj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ot.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ot("string",On._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:ot("string",Tr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xr(e.vectorValues);throw new Z(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:ot("string",xr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/^__.*__$/;class iF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}function YI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Cy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YI(this.Ac)&&sF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Cc(e,n,r,s=!1){return new Cy({Ac:e,methodName:n,Dc:r,path:Pt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aF(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new oF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lF(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);eb("Data must be an object, but it was:",o,r);const a=JI(r,o);let l,c;if(i.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=uF(e,h,n);if(!o.contains(p))throw new Z(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dF(d,p)||d.push(p)}l=new Gn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new iF(new Nn(a),l,c)}class Ay extends by{_toFieldTransform(e){return new JV(e.path,new tu)}isEqual(e){return e instanceof Ay}}function XI(t,e){if(ZI(t=dn(t)))return eb("Unsupported field value:",e,t),JI(t,e);if(t instanceof by)return function(r,s){if(!YI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=XI(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ue.fromDate(r);return{timestampValue:Cd(s.serializer,i)}}if(r instanceof Ue){const i=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(s.serializer,i)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:mI(s.serializer,r._byteString)};if(r instanceof Tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ly(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(o,a){return{mapValue:{fields:{[HS]:{stringValue:WS},[xd]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return iy(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Jg(r)}`)}(t,e)}function JI(t,e){const n={};return jS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(r,s)=>{const i=XI(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Tr||t instanceof On||t instanceof Tt||t instanceof by||t instanceof xr)}function eb(t,e,n){if(!ZI(n)||!MS(n)){const r=Jg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uF(t,e,n){if((e=dn(e))instanceof Iy)return e._internalPath;if(typeof e=="string")return tb(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const cF=new RegExp("[~\\*/\\[\\]]");function tb(t,e,n){if(e.search(cF)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iy(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function dF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hF extends nb{data(){return super.data()}}function rb(t,e){return typeof e=="string"?tb(t,e):e instanceof Iy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pF{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return io(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[xd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>nt(o.doubleValue));return new xr(n)}convertGeoPoint(e){return new Tr(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ii(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);Ce(EI(r),9688,{name:e});const s=new Zl(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Jr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fi extends nb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:ot("string",Fi._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class Mc extends Fi{data(e={}){return super.data(e)}}class zo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mc(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ol(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:gF(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){t=ca(t,Tt);const e=ca(t.firestore,Ph);return Zj(Sy(e),t._key).then(n=>wF(e,t,n))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:ot("string",zo._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class ib extends pF{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function ob(t){t=ca(t,Rh);const e=ca(t.firestore,Ph),n=Sy(e),r=new ib(e);return fF(t._query),eF(n,t._query).then(s=>new zo(e,r,t,s))}function yF(t,e){const n=ca(t.firestore,Ph),r=xy(t),s=mF(t.converter,e);return vF(n,[lF(aF(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function vF(t,e){return function(r,s){const i=new Br;return r.asyncQueue.enqueueAndForget(async()=>zj(await Jj(r),s,i)),i.promise}(Sy(t),e)}function wF(t,e,n){const r=n.docs.get(e._key),s=new ib(t);return new Fi(t,s,e._key,r,new ol(n.hasPendingWrites,n.fromCache),e.converter)}function _F(){return new Ay("serverTimestamp")}(function(e,n=!0){(function(s){Sa=s})(so),Yi(new ri("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ph(new oV(r.getProvider("auth-internal")),new uV(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),wr(D_,L_,e),wr(D_,L_,"esm2020")})();var EF="firebase",TF="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(EF,TF,"app");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xF=ab,lb=new _u("auth","Firebase",ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Kg("@firebase/auth");function SF(t,...e){Nd.logLevel<=ye.WARN&&Nd.warn(`Auth (${so}): ${t}`,...e)}function Vc(t,...e){Nd.logLevel<=ye.ERROR&&Nd.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,...e){throw Ry(t,...e)}function Sr(t,...e){return Ry(t,...e)}function ub(t,e,n){const r={...xF(),[e]:n};return new _u("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return ub(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lb.create(t,...e)}function ue(t,e,...n){if(!t)throw Ry(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vc(e),new Error(e)}function ts(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function IF(){return R0()==="http:"||R0()==="https:"}function R0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IF()||VL()||"connection"in navigator)?navigator.onLine:!0}function CF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=DL()||jL()}get(){return bF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PF=new Cu(3e4,6e4);function ky(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Aa(t,e,n,r,s={}){return db(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Eu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return ML()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&pi(t.emulatorConfig.host)&&(c.credentials="include"),cb.fetch()(await hb(t,t.config.apiHost,n,a),c)})}async function db(t,e,n){t._canInitEmulator=!1;const r={...AF,...e};try{const s=new NF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ub(t,d,c);es(t,d)}}catch(s){if(s instanceof Pr)throw s;es(t,"network-request-failed",{message:String(s)})}}async function kF(t,e,n,r,s={}){const i=await Aa(t,e,n,r,s);return"mfaPendingCredential"in i&&es(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function hb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Py(t.config,s):`${t.config.apiScheme}://${s}`;return RF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class NF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),PF.get())})}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function Od(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DF(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=Ny(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xl(jf(s.auth_time)),issuedAtTime:xl(jf(s.iat)),expirationTime:xl(jf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jf(t){return Number(t)*1e3}function Ny(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const s=gS(n);return s?JSON.parse(s):(Vc("Failed to decode base64 JWT payload"),null)}catch(s){return Vc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P0(t){const e=Ny(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&LF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){var h;const e=t.auth,n=await t.getIdToken(),r=await su(t,Od(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?fb(s.providerUserInfo):[],o=jF(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _m(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function VF(t){const e=dn(t);await Dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){const n=await db(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await hb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&pi(t.emulatorConfig.host)&&(l.credentials="include"),cb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UF(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",ky(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=P0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await FF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $o;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new MF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _m(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await su(this,OF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:T,stsTokenManager:_}=n;ue(h&&_,e,"internal-error");const E=$o.fromJSON(this.name,_);ue(typeof h=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof m=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(a,e.name),ys(l,e.name),ys(c,e.name),ys(d,e.name);const v=new Qn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:d});return T&&Array.isArray(T)&&(v.providerData=T.map(y=>({...y}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new $o;s.updateFromServerResponse(n);const i=new Qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?fb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $o;a.updateFromIdToken(r);const l=new Qn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _m(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function zr(t){ts(t instanceof Function,"Expected a class definition");let e=k0.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pb.type="NONE";const N0=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Od(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bo(zr(N0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||zr(N0);const o=jc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await Od(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Qn._fromGetAccountInfoResponse(e,p,d)}else h=Qn._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Bo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(Eb(e))return"Webos";if(gb(e))return"Safari";if((e.includes("chrome/")||yb(e))&&!e.includes("edge/"))return"Chrome";if(wb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mb(t=Wt()){return/firefox\//i.test(t)}function gb(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yb(t=Wt()){return/crios\//i.test(t)}function vb(t=Wt()){return/iemobile/i.test(t)}function wb(t=Wt()){return/android/i.test(t)}function _b(t=Wt()){return/blackberry/i.test(t)}function Eb(t=Wt()){return/webos/i.test(t)}function Oy(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zF(t=Wt()){var e;return Oy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $F(){return FL()&&document.documentMode===10}function Tb(t=Wt()){return Oy(t)||wb(t)||Eb(t)||_b(t)||/windows phone/i.test(t)||vb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e=[]){let n;switch(t){case"Browser":n=O0(Wt());break;case"Worker":n=`${O0(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",ky(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=6;class qF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new BF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Od(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ui(this));const n=e?dn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HF(this),n=new qF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&SF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Dy(t){return dn(t)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KL(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GF(t){Ly=t}function QF(t){return Ly.loadJS(t)}function YF(){return Ly.gapiScript}function XF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e){const n=mh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qi(i,e??{}))return s;es(s,"already-initialized")}return n.initialize({options:e})}function ZF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e3(t,e,n){const r=Dy(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Sb(e),{host:o,port:a}=t3(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Qi(c,r.config.emulator)&&Qi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,pi(o)?(Wg(`${i}//${o}${l}`),qg("Auth",!0)):n3()}function Sb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t3(t){const e=Sb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L0(o)}}}function L0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return kF(t,"POST","/v1/accounts:signInWithIdp",ky(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="http://localhost";class Zi extends Ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Zi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:r3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Au{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Au{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Au{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qn._fromIdTokenResponse(e,r,s),o=M0(r);return new ma({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M0(r);return new ma({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Pr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ld(e,n,r,s)}}function Cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,i,e,r):i})}async function s3(t,e,n=!1){const r=await su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ma._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(Ui(r));const s="reauthenticate";try{const i=await su(t,Cb(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=Ny(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),ma._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&es(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ui(t));const r="signIn",s=await Cb(t,r,e),i=await ma._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function a3(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function l3(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}const Md="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=1e3,c3=10;class Rb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$F()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,c3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rb.type="LOCAL";const d3=Rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Pb.type="SESSION";const kb=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await h3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=My("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function p3(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function m3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function y3(){return Nb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebaseLocalStorageDb",v3=1,Vd="firebaseLocalStorage",Db="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(t,e){return t.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function w3(){const t=indexedDB.deleteDatabase(Ob);return new Ru(t).toPromise()}function Em(){const t=indexedDB.open(Ob,v3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vd,{keyPath:Db})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await w3(),e(await Em()))})})}async function V0(t,e,n){const r=Nh(t,!0).put({[Db]:e,value:n});return new Ru(r).toPromise()}async function _3(t,e){const n=Nh(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function j0(t,e){const n=Nh(t,!0).delete(e);return new Ru(n).toPromise()}const E3=800,T3=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(y3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await m3(),!this.activeServiceWorker)return;this.sender=new f3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await V0(e,Md,"1"),await j0(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nh(s,!1).getAll();return new Ru(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const x3=Lb;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){return e?zr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I3(t){return o3(t.auth,new Vy(t),t.bypassAuthState)}function b3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),i3(n,new Vy(t),t.bypassAuthState)}async function C3(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),s3(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I3;case"linkViaPopup":case"linkViaRedirect":return C3;case"reauthViaPopup":case"reauthViaRedirect":return b3;default:es(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new Cu(2e3,1e4);class ko extends Mb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A3.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="pendingRedirect",Fc=new Map;class P3 extends Mb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const r=await k3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k3(t,e){const n=D3(e),r=O3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function N3(t,e){Fc.set(t._key(),e)}function O3(t){return zr(t._redirectPersistence)}function D3(t){return jc(R3,t.config.apiKey,t.name)}async function L3(t,e,n=!1){if(Kn(t.app))return Promise.reject(Ui(t));const r=Dy(t),s=S3(r,e),o=await new P3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=10*60*1e3;class V3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vb(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M3&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(e))}saveEventToCache(e){this.cachedEventUids.add(F0(e)),this.lastProcessedEventTime=Date.now()}}function F0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z3=/^https?/;async function $3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F3(t);for(const n of e)try{if(B3(n))return}catch{}es(t,"unauthorized-domain")}function B3(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!z3.test(n))return!1;if(U3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Cu(3e4,6e4);function U0(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W3(t){return new Promise((e,n)=>{var s,i,o;function r(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Sr(t,"network-request-failed"))},timeout:H3.get()})}if((i=(s=Ir().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ir().gapi)!=null&&o.load)r();else{const a=XF("iframefcb");return Ir()[a]=()=>{gapi.load?r():n(Sr(t,"network-request-failed"))},QF(`${YF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function q3(t){return Uc=Uc||W3(t),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Cu(5e3,15e3),G3="__/auth/iframe",Q3="emulator/auth/iframe",Y3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J3(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Py(e,Q3):`https://${t.config.authDomain}/${G3}`,r={apiKey:e.apiKey,appName:t.name,v:so},s=X3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Eu(r).slice(1)}`}async function Z3(t){const e=await q3(t),n=Ir().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:J3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=Ir().setTimeout(()=>{i(o)},K3.get());function l(){Ir().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t6=500,n6=600,r6="_blank",s6="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i6(t,e,n,r=t6,s=n6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...e6,width:r.toString(),height:s.toString(),top:i,left:o},c=Wt().toLowerCase();n&&(a=yb(c)?r6:n),mb(c)&&(e=e||s6,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,T])=>`${p}${m}=${T},`,"");if(zF(c)&&a!=="_self")return o6(e||"",a),new z0(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new z0(h)}function o6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__/auth/handler",l6="emulator/auth/handler",u6=encodeURIComponent("fac");async function $0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:s};if(e instanceof bb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Au){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${u6}=${encodeURIComponent(l)}`:"";return`${c6(t)}?${Eu(a).slice(1)}${c}`}function c6({config:t}){return t.emulator?Py(t,l6):`https://${t.authDomain}/${a6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class d6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kb,this._completeRedirectFn=L3,this._overrideRedirectResult=N3}async _openPopup(e,n,r,s){var o;ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await $0(e,n,r,wm(),s);return i6(e,i,My())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $0(e,n,r,wm(),s);return p3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z3(e),r=new V3(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ff];i!==void 0&&n(!!i),es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||gb()||Oy()}}const h6=d6;var B0="@firebase/auth",H0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m6(t){Yi(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(t)},c=new KF(r,s,i,l);return ZF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new ri("auth-internal",e=>{const n=Dy(e.getProvider("auth").getImmediate());return(r=>new f6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(B0,H0,p6(t)),wr(B0,H0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=5*60,y6=_S("authIdTokenMaxAge")||g6;let W0=null;const v6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y6)return;const s=n==null?void 0:n.token;W0!==s&&(W0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function w6(t=Qg()){const e=mh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JF(t,{popupRedirectResolver:h6,persistence:[x3,d3,kb]}),r=_S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=v6(i.toString());l3(n,o,()=>o(n.currentUser)),a3(n,a=>o(a))}}const s=yS("auth");return s&&e3(n,`http://${s}`),n}function _6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebasestorage.googleapis.com",Fb="storageBucket",E6=2*60*1e3,T6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Pr{constructor(e,n,r=0){super(Uf(e),`Firebase Storage: ${n} (${Uf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function Uf(t){return"storage/"+t}function Ub(){const t="An unknown error occurred, please check the error payload for server response.";return new It(St.UNKNOWN,t)}function x6(t){return new It(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function S6(t){return new It(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(St.UNAUTHENTICATED,t)}function b6(){return new It(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function C6(t){return new It(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A6(){return new It(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R6(){return new It(St.CANCELED,"User canceled the upload/download.")}function P6(t){return new It(St.INVALID_URL,"Invalid URL '"+t+"'.")}function k6(t){return new It(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N6(){return new It(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function O6(){return new It(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tm(t){return new It(St.INVALID_ARGUMENT,t)}function zb(){return new It(St.APP_DELETED,"The Firebase app was deleted.")}function D6(t){return new It(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xa(t){throw new It(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(r.path==="")return r;throw k6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),T={bucket:1,path:3},_=n===jb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${_}/${s}/${E}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:m,indices:T,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<x.length;N++){const D=x[N],L=D.regex.exec(e);if(L){const I=L[D.indices.bucket];let S=L[D.indices.path];S||(S=""),r=new _n(I,S),D.postModify(r);break}}if(r==null)throw P6(e);return r}}class L6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(m,l())},E)}function p(){i&&clearTimeout(i)}function m(E,...v){if(c){p();return}if(E){p(),d.call(null,E,...v);return}if(l()||o){p(),d.call(null,E,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let T=!1;function _(E){T||(T=!0,p(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function V6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){return t!==void 0}function F6(t){return typeof t=="object"&&!Array.isArray(t)}function $b(t){return typeof t=="string"||t instanceof String}function q0(t,e,n,r){if(r<e)throw Tm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Hb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var zi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zi||(zi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,_)=>{this.resolve_=T,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new pc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===zi.NO_ERROR,l=i.getStatus();if(!a||U6(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===zi.ABORT;r(!1,new pc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new pc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());j6(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ub();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?zb():R6();o(l)}else{const l=A6();o(l)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=M6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function W6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q6(t,e,n,r,s,i,o=!0,a=!1){const l=Hb(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return H6(d,e),$6(d,n),B6(d,i),W6(d,r),new z6(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){let e;try{e=JSON.parse(t)}catch{return null}return F6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){return e}class qt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Q6}}let mc=null;function Y6(t){return!$b(t)||t.length<2?t:qb(t)}function X6(){if(mc)return mc;const t=[];t.push(new qt("bucket")),t.push(new qt("generation")),t.push(new qt("metageneration")),t.push(new qt("name","fullPath",!0));function e(i,o){return Y6(o)}const n=new qt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new qt("size");return s.xform=r,t.push(s),t.push(new qt("timeCreated")),t.push(new qt("updated")),t.push(new qt("md5Hash",null,!0)),t.push(new qt("cacheControl",null,!0)),t.push(new qt("contentDisposition",null,!0)),t.push(new qt("contentEncoding",null,!0)),t.push(new qt("contentLanguage",null,!0)),t.push(new qt("contentType",null,!0)),t.push(new qt("metadata","customMetadata",!0)),mc=t,mc}function J6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new _n(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Z6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return J6(r,t),r}function eU(t,e,n){const r=Wb(e);return r===null?null:Z6(t,r,n)}function tU(t,e,n,r){const s=Wb(e);if(s===null||!$b(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=Bb(p,n,r),T=Hb({alt:"media",token:c});return m+T})[0]}class nU{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){if(!t)throw Ub()}function sU(t,e){function n(r,s){const i=eU(t,s,e);return rU(i!==null),tU(i,s,t.host,t._protocol)}return n}function iU(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=b6():s=I6():n.getStatus()===402?s=S6(t.bucket):n.getStatus()===403?s=C6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function oU(t){const e=iU(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=x6(t.path)),i.serverResponse=s.serverResponse,i}return n}function aU(t,e,n){const r=e.fullServerUrl(),s=Bb(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new nU(s,i,sU(t,n),o);return a.errorHandler=oU(e),a}class lU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Xa("cannot .send() more than once");if(pi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uU extends lU{initXhr(){this.xhr_.responseType="text"}}function cU(){return new uU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this._service=e,n instanceof _n?this._location=n:this._location=_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new eo(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=K6(this._location.path);if(e===null)return null;const n=new _n(this._location.bucket,e);return new eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D6(e)}}function dU(t){t._throwIfRoot("getDownloadURL");const e=aU(t.storage,t._location,X6());return t.storage.makeRequestWithTokens(e,cU).then(n=>{if(n===null)throw O6();return n})}function hU(t,e){const n=G6(t._location.path,e),r=new _n(t._location.bucket,n);return new eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){return/^[A-Za-z]+:\/\//.test(t)}function pU(t,e){return new eo(t,e)}function Kb(t,e){if(t instanceof jy){const n=t;if(n._bucket==null)throw N6();const r=new eo(n,n._bucket);return e!=null?Kb(r,e):r}else return e!==void 0?hU(t,e):t}function mU(t,e){if(e&&fU(e)){if(t instanceof jy)return pU(t,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return Kb(t,e)}function K0(t,e){const n=e==null?void 0:e[Fb];return n==null?null:_n.makeFromBucketSpec(n,t)}function gU(t,e,n,r={}){t.host=`${e}:${n}`;const s=pi(e);s&&(Wg(`https://${t.host}/b`),qg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ES(i,t.app.options.projectId))}class jy{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=jb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E6,this._maxUploadRetryTime=T6,this._requests=new Set,s!=null?this._bucket=_n.makeFromBucketSpec(s,this._host):this._bucket=K0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=K0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new eo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new L6(zb());{const o=q6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const G0="@firebase/storage",Q0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="storage";function xm(t){return t=dn(t),dU(t)}function Sm(t,e){return t=dn(t),mU(t,e)}function yU(t=Qg(),e){t=dn(t);const r=mh(t,Gb).getImmediate({identifier:e}),s=vS("storage");return s&&vU(r,...s),r}function vU(t,e,n,r={}){gU(t,e,n,r)}function wU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jy(n,r,s,e,so)}function _U(){Yi(new ri(Gb,wU,"PUBLIC").setMultipleInstances(!0)),wr(G0,Q0,""),wr(G0,Q0,"esm2020")}_U();const EU={apiKey:"AIzaSyD8ElLdR2q3f9CYidCrm7XygpNartmjeNA",authDomain:"net-cafe-d81c9.firebaseapp.com",databaseURL:"https://net-cafe-d81c9-default-rtdb.firebaseio.com",projectId:"net-cafe-d81c9",storageBucket:"net-cafe-d81c9.firebasestorage.app",messagingSenderId:"167642501320",appId:"1:167642501320:web:beedb42764e6f8084c15fd",measurementId:"G-V2XST4DS7L"},Fy=SS(EU);w6(Fy);const iu=nF(Fy),Im=yU(Fy),TU=()=>{const[t,e]=A.useState([]);return A.useEffect(()=>{(async()=>{try{const r=(await ob(Ty(iu,"products"))).docs.map(i=>({id:i.id,...i.data()})),s=await Promise.all(r.map(async i=>{const o=i.name||i.title||i.productName||"",a=i.description||i.desc||"",l=i.price!==void 0&&i.price!==null?typeof i.price=="number"?`₹${i.price.toFixed(2)}`:String(i.price):"";let c=Array.isArray(i.imageUrls)&&i.imageUrls.length>0?String(i.imageUrls[0]):"";if(!c){const d=i.image||i.imageUrl||i.photo||i.photoURL||i.thumbnail||i.cover||i.imagePath||i.storagePath||"";if(c=String(d||""),c)try{(c.startsWith("gs://")||!c.startsWith("http://")&&!c.startsWith("https://"))&&(c=await xm(Sm(Im,c)))}catch{}}return{id:i.id,title:o,description:a,price:l,image:c,type:i.type||i.category||"",include:!!i.include}}));e(s.slice(0,4))}catch{}})()},[]),w.jsx("section",{id:"shop",className:"py-20 bg-dark",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx("div",{className:"text-center mb-12",children:w.jsxs("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-dark-foreground mb-4",children:["Our"," ",w.jsx("span",{className:"text-primary",children:"New Arrivals"})]})}),w.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(n=>w.jsxs(Vi,{className:"overflow-hidden hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"relative overflow-hidden group",children:w.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-300"})}),w.jsxs(ji,{className:"p-6",children:[w.jsx("h3",{className:"font-heading font-semibold text-xl mb-2",children:n.title}),w.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n.type}),w.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n.description}),w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("span",{className:"text-2xl font-bold text-primary",children:n.price}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ze,{to:`/products/${n.id}`,children:w.jsx(ht,{variant:"outline",size:"sm",children:"View Details"})}),w.jsx(Ze,{to:`/order/${n.id}`,children:w.jsx(ht,{size:"icon",className:"rounded-full",children:w.jsx(Xx,{className:"h-4 w-4"})})})]})]})]})]},n.id))}),w.jsx("div",{className:"mt-10 text-center",children:w.jsx(Ze,{to:"/products",children:w.jsx(ht,{size:"lg",className:"px-8",children:"View More Products"})})})]})})},xU="/threadedCharm/assets/why-choose-85-6t-mF.jpg",SU=[{title:"Shopping Your Love",content:"Discover unique handmade items crafted with passion and care, perfect for expressing your personal style."},{title:"Unlimited Revisions",content:"We work with you until you're completely satisfied with your custom orders and personalized creations."},{title:"Professional Staff",content:"Our team of skilled artisans and customer service professionals are dedicated to delivering exceptional quality and support."},{title:"Fast Delivery",content:"Enjoy quick processing and shipping times without compromising on the quality and attention to detail in every piece."}],IU=({title:t,content:e,isOpen:n,onClick:r})=>w.jsxs("div",{className:"bg-primary text-primary-foreground rounded-lg hover:shadow-lg transition-all duration-300",children:[w.jsxs("button",{className:"flex justify-between items-center w-full p-4 text-left font-medium",onClick:r,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(WP,{className:"h-5 w-5 flex-shrink-0"}),w.jsx("span",{className:"text-lg",children:t})]}),n?w.jsx(HP,{className:"h-5 w-5 flex-shrink-0"}):w.jsx(BP,{className:"h-5 w-5 flex-shrink-0"})]}),n&&w.jsx("div",{className:"px-4 pb-4 ml-8 border-t border-primary-foreground/20 pt-4",children:w.jsx("p",{className:"text-primary-foreground/90 leading-relaxed",children:e})})]}),bU=()=>{const[t,e]=A.useState(0),n=r=>{e(t===r?-1:r)};return w.jsx("section",{className:"py-20 bg-background",children:w.jsx("div",{className:"container mx-auto px-4",children:w.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-heading font-bold mb-8",children:["Why ",w.jsx("span",{className:"text-primary",children:"Choose Us"})]}),w.jsx("div",{className:"space-y-4",children:SU.map((r,s)=>w.jsx(IU,{title:r.title,content:r.content,isOpen:t===s,onClick:()=>n(s)},s))})]}),w.jsx("div",{children:w.jsx("img",{src:xU,alt:"Handmade snowman craft",className:"rounded-lg shadow-xl w-full"})})]})})})},CU=[{id:1,name:"Jay Thawari",role:"Happy Customer",content:"I recently had a shed built by this team, and I am extremely satisfied with the result. The quality of the work is exceptional.",rating:5,avatar:"JD"},{id:2,name:"Abhi Rajoba",role:"Happy Customer",content:"Amazing craftsmanship and attention to detail. The products are truly one of a kind and made with love.",rating:5,avatar:"JS"},{id:3,name:"Ram Patil",role:"Happy Customer",content:"Outstanding service and beautiful handcrafted items. Will definitely recommend to friends and family!",rating:5,avatar:"MB"}],AU=()=>w.jsxs("section",{className:"py-20 bg-gradient-to-br from-dark via-dark to-dark/95 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),w.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),w.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[w.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-heading font-bold text-dark-foreground mb-4",children:["Our ",w.jsx("span",{className:"text-primary",children:"Happy Customers"})]}),w.jsx("p",{className:"text-dark-foreground/80 max-w-2xl mx-auto",children:"Don't just take our word for it - hear what our satisfied customers have to say"})]}),w.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:CU.map((t,e)=>w.jsx(Vi,{className:"bg-card/95 backdrop-blur-sm border-primary/20 hover:border-primary/40 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 hover:-translate-y-2 animate-fade-in",style:{animationDelay:`${e*.1}s`},children:w.jsxs(ji,{className:"p-8 relative",children:[w.jsx(YP,{className:"absolute top-6 right-6 h-12 w-12 text-primary/20"}),w.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[w.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center text-white font-bold text-lg",children:t.avatar}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-heading font-semibold text-lg",children:t.name}),w.jsx("p",{className:"text-sm text-muted-foreground",children:t.role})]})]}),w.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(t.rating)].map((n,r)=>w.jsx(XP,{className:"h-5 w-5 fill-primary text-primary"},r))}),w.jsxs("p",{className:"text-muted-foreground leading-relaxed italic relative z-10",children:['"',t.content,'"']})]})},t.id))})]})]}),Ra=()=>w.jsx("footer",{id:"contact",className:"bg-dark text-dark-foreground py-16",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[w.jsxs("div",{children:[w.jsxs("h3",{className:"font-heading font-bold text-2xl mb-4",children:["Threaded ",w.jsx("span",{className:"text-primary",children:"Charm"})]}),w.jsx("p",{className:"text-dark-foreground/80 mb-4",children:"Crafting beautiful, handmade products with passion and dedication. Every piece tells a story."}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:w.jsx(qP,{className:"h-5 w-5"})}),w.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:w.jsx(KP,{className:"h-5 w-5"})}),w.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:w.jsx(JP,{className:"h-5 w-5"})}),w.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:w.jsx(GP,{className:"h-5 w-5"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-heading font-semibold text-lg mb-4",children:"Quick Links"}),w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx(Ze,{to:"/",className:"text-dark-foreground/80 hover:text-primary transition-colors",children:"Home"})}),w.jsx("li",{children:w.jsx(Ze,{to:"/about",className:"text-dark-foreground/80 hover:text-primary transition-colors",children:"About"})}),w.jsx("li",{children:w.jsx(Ze,{to:"/products",className:"text-dark-foreground/80 hover:text-primary transition-colors",children:"Products"})}),w.jsx("li",{children:w.jsx(Ze,{to:"/contact",className:"text-dark-foreground/80 hover:text-primary transition-colors",children:"Contact"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-heading font-semibold text-lg mb-4",children:"Our Information"}),w.jsxs("ul",{className:"space-y-2 text-dark-foreground/80",children:[w.jsx("li",{children:"threaded charm"}),w.jsx("li",{children:"Yavatmal, Maharashtra"}),w.jsx("li",{children:"Phone: +91-9874563210"}),w.jsx("li",{children:"Email: threadedcharm@gmail.com"})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-heading font-semibold text-lg mb-4",children:"Newsletter"}),w.jsx("p",{className:"text-dark-foreground/80 mb-4",children:"Subscribe to get special offers and updates"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"email",placeholder:"Your email",className:"flex-1 px-4 py-2 rounded bg-background text-foreground"}),w.jsx("button",{className:"px-6 py-2 bg-primary text-primary-foreground rounded hover:opacity-90 transition-opacity",children:"Subscribe"})]})]})]}),w.jsx("div",{className:"border-t border-dark-foreground/20 pt-8 text-center text-dark-foreground/60",children:w.jsx("p",{children:"© 2025 Threaded Charm. All rights reserved. Designed in India."})})]})}),RU=()=>w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsx(yL,{}),w.jsx(fS,{}),w.jsx(TU,{}),w.jsx(bU,{}),w.jsx(AU,{}),w.jsx(Ra,{})]}),PU=()=>{const t=vu();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),w.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},kU=()=>{const[t,e]=A.useState([]);return A.useEffect(()=>{(async()=>{try{const r=(await ob(Ty(iu,"products"))).docs.map(i=>({id:i.id,...i.data()})),s=await Promise.all(r.map(async i=>{const o=i.title||i.name||i.productName||"",a=i.description||i.desc||"",l=i.price!==void 0&&i.price!==null?typeof i.price=="number"?`₹${i.price.toFixed(2)}`:String(i.price):"";let c=Array.isArray(i.imageUrls)&&i.imageUrls.length>0?String(i.imageUrls[0]):"";const d=i.image||i.imageUrl||i.photo||i.photoURL||i.thumbnail||i.cover||i.imagePath||i.storagePath||"";if(!c){let h=String(d||"");if(h)try{(h.startsWith("gs://")||!h.startsWith("http://")&&!h.startsWith("https://"))&&(h=await xm(Sm(Im,h)))}catch{}c=h}if(c)try{(c.startsWith("gs://")||!c.startsWith("http://")&&!c.startsWith("https://"))&&(c=await xm(Sm(Im,c)))}catch{}return{id:i.id,title:o,description:a,price:l,image:c,type:i.type||i.category||"",include:!!i.include}}));e(s)}catch{}})()},[]),w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsx("main",{className:"py-20 bg-background",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsxs("div",{className:"text-center my-12",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-heading font-bold mb-4",children:"Products"}),w.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse our available handcrafted pieces."})]}),w.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map(n=>w.jsxs(Vi,{className:"overflow-hidden hover:shadow-xl transition-shadow",children:[w.jsx("div",{className:"relative overflow-hidden group",children:w.jsx("img",{src:n.image,alt:n.title,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-300"})}),w.jsxs(ji,{className:"p-6",children:[w.jsx("h3",{className:"font-heading font-semibold text-xl mb-2",children:n.title}),w.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:n.type}),n.description?w.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:n.description}):null,w.jsxs("div",{className:"flex items-center justify-between gap-2",children:[w.jsx("span",{className:"text-2xl font-bold text-primary",children:n.price}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ze,{to:`/products/${n.id}`,children:w.jsx(ht,{variant:"outline",size:"sm",children:"View Details"})}),w.jsx(Ze,{to:`/order/${n.id}`,children:w.jsx(ht,{size:"icon",className:"rounded-full",children:w.jsx(Xx,{className:"h-4 w-4"})})})]})]})]})]},n.id))}),w.jsx("div",{className:"text-center",children:w.jsx(Ze,{to:"/",children:w.jsx(ht,{variant:"outline",size:"lg",children:"Back to Home"})})})]})}),w.jsx(Ra,{})]})},NU=()=>{const{id:t}=Z1(),[e,n]=A.useState(null),[r,s]=A.useState({name:"",mobile:"",email:"",city:"",address:"",text1:"",text2:"",text3:"",text4:""}),[i,o]=A.useState(!1);A.useEffect(()=>{t&&(async()=>{const d=await sb(xy(iu,"products",t));if(d.exists()){const h={id:d.id,...d.data()},p=h.name||h.title||h.productName||"",m=h.description||h.desc||"",T=h.price!==void 0&&h.price!==null?typeof h.price=="number"?`₹${h.price.toFixed(2)}`:String(h.price):"",_=Array.isArray(h.imageUrls)&&h.imageUrls.length>0?h.imageUrls.map(E=>String(E)):[];n({id:d.id,title:p,description:m,price:T,images:_,type:h.type||h.category||"",include:!!h.include})}})()},[t]);const a=A.useMemo(()=>!!(e!=null&&e.include),[e]),l=d=>{const{name:h,value:p}=d.target;s(m=>({...m,[h]:p}))},c=async d=>{if(d.preventDefault(),!!e)try{const h={name:r.name,mobile:r.mobile,email:r.email,city:r.city,address:r.address,productId:e.id,productName:e.title,include:a,createdAt:_F()};a&&(h.text1=r.text1,h.text2=r.text2,h.text3=r.text3,h.text4=r.text4),await yF(Ty(iu,"emborders"),h);const p="919359031364",m=`New order%0AName: ${encodeURIComponent(r.name)}%0AMobile: ${encodeURIComponent(r.mobile)}%0ACity: ${encodeURIComponent(r.city)}%0AAddress: ${encodeURIComponent(r.address)}%0AProduct: ${encodeURIComponent(e.title)}`,T=`https://wa.me/${p}?text=${m}`;window.open(T,"_blank"),o(!0),s({name:"",mobile:"",email:"",city:"",address:"",text1:"",text2:"",text3:"",text4:""})}catch{}};return w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsx("main",{className:"py-16 bg-background",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx("div",{className:"mb-6 flex items-center justify-between gap-2",children:w.jsx(Ze,{to:"/products",children:w.jsx(ht,{variant:"outline",children:"Back to Products"})})}),e?w.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[w.jsxs("div",{children:[e.images&&e.images[0]?w.jsx("img",{src:e.images[0],alt:e.title,className:"w-full h-[26rem] object-cover rounded-lg shadow"}):w.jsx("div",{className:"w-full h-[26rem] bg-muted rounded-lg"}),w.jsx("h1",{className:"text-2xl font-heading font-bold mt-4",children:e.title}),e.type&&w.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:e.type}),w.jsx("div",{className:"prose prose-sm text-foreground mt-3 max-w-none",children:e.description}),w.jsx("div",{className:"text-2xl font-bold text-primary mt-4",children:e.price})]}),w.jsxs("div",{className:"rounded-lg border p-6 shadow-sm bg-card",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Now"}),w.jsxs("form",{onSubmit:c,className:"grid gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product"}),w.jsx("input",{value:e.title,readOnly:!0,className:"w-full rounded border px-3 py-2 bg-muted"})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),w.jsx("input",{name:"name",required:!0,placeholder:"Enter your full name",value:r.name,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mobile"}),w.jsx("input",{name:"mobile",required:!0,placeholder:"Enter your mobile number",value:r.mobile,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),w.jsx("input",{name:"email",type:"email",required:!0,placeholder:"Enter your email",value:r.email,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),w.jsx("input",{name:"city",placeholder:"Enter your city",value:r.city,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),w.jsx("textarea",{name:"address",placeholder:"Enter your complete address",value:r.address,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm h-24"})]}),a&&w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text 1"}),w.jsx("input",{name:"text1",placeholder:"Enter text 1",value:r.text1,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text 2"}),w.jsx("input",{name:"text2",placeholder:"Enter text 2",value:r.text2,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text 3"}),w.jsx("input",{name:"text3",placeholder:"Enter text 3",value:r.text3,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text 4"}),w.jsx("input",{name:"text4",placeholder:"Enter text 4",value:r.text4,onChange:l,className:"w-full rounded-md border px-3 py-2 placeholder:text-sm"})]})]}),w.jsx("div",{className:"flex justify-end gap-2 pt-2",children:w.jsx(ht,{type:"submit",children:"Order Now"})})]})]})]}):w.jsx("div",{className:"text-center text-muted-foreground",children:"Loading..."})]})}),i&&w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[w.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>o(!1)}),w.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-lg bg-background p-6 shadow-lg text-center",children:[w.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Order Placed Successfully"}),w.jsxs("p",{className:"text-muted-foreground mb-4",children:["Thank you! We received your order for ",e==null?void 0:e.title,". You can reach us for status or questions using the options below."]}),w.jsxs("div",{className:"flex items-center justify-center gap-3",children:[w.jsx("a",{href:"tel:+919359031364",children:w.jsx(ht,{variant:"outline",children:"Call"})}),w.jsx("a",{href:`https://wa.me/919359031364?text=${encodeURIComponent(`Hi, I'd like to check the status of my order for ${e==null?void 0:e.title}. My name is ${r.name}.`)}`,target:"_blank",rel:"noreferrer",children:w.jsx(ht,{children:"WhatsApp"})})]}),w.jsx("div",{className:"mt-4",children:w.jsx(ht,{variant:"ghost",onClick:()=>o(!1),children:"Close"})})]})]}),w.jsx(Ra,{})]})},OU=()=>{var l;const{id:t}=Z1(),[e,n]=A.useState(null),[r,s]=A.useState(0);A.useEffect(()=>{t&&(async()=>{const c=await sb(xy(iu,"products",t));if(c.exists()){const d={id:c.id,...c.data()},h=d.name||d.title||d.productName||"",p=d.description||d.desc||"",m=d.price!==void 0&&d.price!==null?typeof d.price=="number"?`₹${d.price.toFixed(2)}`:String(d.price):"",T=Array.isArray(d.imageUrls)&&d.imageUrls.length>0?d.imageUrls.map(_=>String(_)):[];n({id:c.id,title:h,description:p,price:m,images:T,type:d.type||d.category||"",include:!!d.include}),s(0)}})()},[t]);const i=(((l=e==null?void 0:e.images)==null?void 0:l.length)??0)>0,o=()=>{e&&s(c=>(c-1+e.images.length)%e.images.length)},a=()=>{e&&s(c=>(c+1)%e.images.length)};return w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsx("main",{className:"py-16 bg-background",children:w.jsxs("div",{className:"container mx-auto px-4",children:[w.jsx("div",{className:"mb-6",children:w.jsx(Ze,{to:"/products",children:w.jsx(ht,{variant:"outline",children:"Back to Products"})})}),e?w.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[w.jsxs("div",{children:[i?w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:e.images[r],alt:e.title,className:"w-full h-[28rem] object-cover rounded-lg shadow"}),e.images.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{"aria-label":"Previous image",onClick:o,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/40 text-white px-3 py-2 rounded",children:"‹"}),w.jsx("button",{"aria-label":"Next image",onClick:a,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/40 text-white px-3 py-2 rounded",children:"›"})]})]}):w.jsx("div",{className:"w-full h-[28rem] bg-muted rounded-lg"}),e.images&&e.images.length>1&&w.jsx("div",{className:"grid grid-cols-5 gap-3 mt-3",children:e.images.map((c,d)=>w.jsx("button",{onClick:()=>s(d),className:`rounded overflow-hidden border ${d===r?"border-primary":"border-transparent"}`,children:w.jsx("img",{src:c,alt:"thumb",className:"w-full h-20 object-cover"})},d))})]}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-heading font-bold mb-2",children:e.title}),e.type&&w.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:e.type}),w.jsx("div",{className:"prose prose-sm text-foreground mb-6 max-w-none",children:e.description}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-3xl font-bold text-primary",children:e.price}),w.jsx(Ze,{to:`/order/${e.id}`,children:w.jsx(ht,{children:"Order Now"})})]})]})]}):w.jsx("div",{className:"text-center text-muted-foreground",children:"Loading product..."})]})}),w.jsx(Ra,{})]})},DU=()=>w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsx("main",{className:"py-20",children:w.jsxs("div",{className:"container mx-auto px-4 my-12 ",children:[w.jsx("h1",{className:"text-4xl font-heading font-bold mb-4 text-center",children:"About Us"}),w.jsx(fS,{})]})}),w.jsx(Ra,{})]}),LU=()=>w.jsxs("div",{className:"min-h-screen",children:[w.jsx(xa,{}),w.jsxs("main",{className:"py-20",children:[w.jsxs("div",{className:"container mx-auto px-4 my-12",children:[w.jsx("h1",{className:"text-4xl font-heading font-bold mb-8",children:"Contact"}),w.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[w.jsx(Vi,{children:w.jsxs(ji,{className:"p-6",children:[w.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),w.jsx("a",{href:"mailto:threadedcharm@gmail.com",className:"text-lg font-medium text-foreground hover:text-primary",children:"threadedcharm@gmail.com"})]})}),w.jsx(Vi,{children:w.jsxs(ji,{className:"p-6",children:[w.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),w.jsx("a",{href:"tel:+919874563210",className:"text-lg font-medium text-foreground hover:text-primary",children:"+91 98745 63210"})]})}),w.jsx(Vi,{children:w.jsxs(ji,{className:"p-6",children:[w.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Address"}),w.jsx("div",{className:"text-lg font-medium text-foreground",children:"Yavatmal, Maharashtra"})]})})]})]}),w.jsx("div",{className:"w-full",children:w.jsx("iframe",{title:"Yavatmal Map",src:"https://www.google.com/maps?q=Yavatmal,+Maharashtra&hl=en&z=12&output=embed",className:"w-full h-[450px] border-0",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),w.jsx(Ra,{})]}),MU=new SO,VU=()=>w.jsx(bO,{client:MU,children:w.jsxs(X2,{children:[w.jsx(Dk,{}),w.jsx(hN,{}),w.jsx(ID,{basename:"/threadedCharm/",children:w.jsxs(vD,{children:[w.jsx(ws,{path:"/",element:w.jsx(RU,{})}),w.jsx(ws,{path:"/products",element:w.jsx(kU,{})}),w.jsx(ws,{path:"/order/:id",element:w.jsx(NU,{})}),w.jsx(ws,{path:"/products/:id",element:w.jsx(OU,{})}),w.jsx(ws,{path:"/about",element:w.jsx(DU,{})}),w.jsx(ws,{path:"/contact",element:w.jsx(LU,{})}),w.jsx(ws,{path:"/*",element:w.jsx(PU,{})})]})})]})});_x(document.getElementById("root")).render(w.jsx(VU,{}));
